<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Movie Den.</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>

/* Section title */
.section-title {
    display: flex;
    align-items: center;
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 30px;
    background: linear-gradient(135deg, #fff, #ff2a6d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    gap: 12px;
    margin-top: 80px;
    margin-left: 20px;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.section-title .line {
    flex-grow: 1;
    height: 2px;
    background: linear-gradient(90deg, rgba(255, 42, 109, 0.6), transparent);
    position: relative;
    overflow: hidden;
}

.section-title .line::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* Carousel container */
.carousel-wrapper {
    position: relative;
    margin: 0 24px 50px 24px;
    overflow: hidden;
}

/* Horizontally scrolling carousel */
.carousel {
    display: flex;
    gap: 20px;
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 5px 6px 20px 6px;
    cursor: grab;
    user-select: none;
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: #ff2a6d #1a1525; /* Firefox */
}

.carousel:active {
    cursor: grabbing;
    scroll-behavior: auto;
}

/* Stylized scrollbar for carousel */
.carousel::-webkit-scrollbar {
    height: 8px;
}

.carousel::-webkit-scrollbar-track {
    background: #1a1525;
    border-radius: 10px;
    margin: 0 24px;
}

.carousel::-webkit-scrollbar-thumb {
    background: linear-gradient(90deg, #ff2a6d, #8a2be2);
    border-radius: 10px;
    transition: all 0.3s ease;
}

.carousel::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(90deg, #ff5a8d, #a855f7);
    box-shadow: 0 0 10px rgba(255, 42, 109, 0.5);
}

/* Edge blur for cards going out of screen */
.carousel-wrapper::before,
.carousel-wrapper::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    width: 40px;
    pointer-events: none;
    z-index: 4;
}

.carousel-wrapper::before {
    left: 0;
    background: linear-gradient(to right, rgba(0,0,0,0.85), transparent);
}

.carousel-wrapper::after {
    right: 0;
    background: linear-gradient(to left, rgba(0,0,0,0.85), transparent);
}

/* Movie card */
.movie {
    flex: 0 0 var(--card-width);
    text-align: center;
}

.movie img {
    width: 100%;
    height: var(--card-height);
    object-fit: cover;
    border-radius: 10px;
}

.movie-title {
    margin-top: 8px;
    font-size: 16px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.98);
    line-height: 1.3;
    letter-spacing: 0.2px;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

/* Dynamic responsive card sizes (smaller movie cards) */
:root {
    --card-width: 165px;
    --card-height: 240px;
}

/* Medium screens */
@media (max-width: 900px) {
    :root {
        --card-width: 145px;
        --card-height: 210px;
    }
}

/* Tablets */
@media (max-width: 700px) {
    :root {
        --card-width: 130px;
        --card-height: 190px;
    }
}

/* Small phones */
@media (max-width: 500px) {
    :root {
        --card-width: 110px;
        --card-height: 165px;
    }
}

/* Extra small phones */
@media (max-width: 380px) {
    :root {
        --card-width: 90px;
        --card-height: 135px;
    }
}

/* Arrows */
.arrow {
    display: none; /* Hide arrows - using mouse drag instead */
}

.arrow::before {
  content: '';
  width: 12px;
  height: 12px;
  border-left: 3px solid white;
  border-bottom: 3px solid white;
  display: block;
}

.left-arrow::before {
  transform: rotate(45deg);
}

.right-arrow::before {
  transform: rotate(-135deg);
}

.arrow:hover { 
    background: linear-gradient(135deg, rgba(255, 42, 109, 0.7), rgba(138, 43, 226, 0.7));
    transform: translateY(-50%) scale(1.15);
    box-shadow: 0 6px 30px rgba(255, 42, 109, 0.5);
}

.arrow:active {
    transform: translateY(-50%) scale(0.95);
}

.left-arrow { left: 10px; }
.right-arrow { right: 10px; }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: soft;
      }
      
      html {
        scroll-behavior: smooth;
        overflow-x: hidden;
        scrollbar-width: thin; /* Firefox */
        scrollbar-color: #ff2a6d #1a1525; /* Firefox: thumb and track */
      }

      /* Custom Scrollbar for Webkit browsers */
      html::-webkit-scrollbar {
        width: 8px;
      }

      html::-webkit-scrollbar-track {
        background: #1a1525;
        border-radius: 10px;
      }

      html::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #ff2a6d, #8a2be2);
        border-radius: 10px;
        transition: all 0.3s ease;
      }

      html::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #ff5a8d, #a855f7);
        box-shadow: 0 0 10px rgba(255, 42, 109, 0.5);
      }

      body {
        background: linear-gradient(180deg, #000000 0%, #0a0a0f 50%, #000000 100%);
        color: white;
        transition: color 0.5s ease;
    cursor: url('icons8-cursor-30.png'), auto;
        overflow-x: hidden;
        position: relative;
      }
      
      /* Animated background gradient */
      body::before {
        content: '';
        position: fixed;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle at 20% 50%, rgba(255, 42, 109, 0.03) 0%, transparent 50%),
                    radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.03) 0%, transparent 50%);
        animation: gradientShift 20s ease infinite;
        pointer-events: none;
        z-index: 0;
      }
      
      @keyframes gradientShift {
        0%, 100% { transform: translate(0, 0); }
        50% { transform: translate(-10%, -10%); }
      }
      
      /* Ensure content is above background */
      .hero, .container, section {
        position: relative;
        z-index: 1;
      }

      /* Smooth fade scroll animation */
      .hero {
        width: 100%;
        height: 100vh;
        background: url("images/batman.png");
        background-size: cover;
        background-position: center;
        position: relative;
        padding: 40px 60px;
        transition: background 1s ease, opacity 1s ease, transform 1s ease;
        opacity: 0;
        transform: translateY(-50px);
      }

      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
          radial-gradient(circle at 20% 30%, rgba(255, 42, 109, 0.05) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(138, 43, 226, 0.05) 0%, transparent 50%),
          linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.4) 100%);
        z-index: 1;
        pointer-events: none;
      }

      .hero::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 200px;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.95), transparent);
        pointer-events: none;
        z-index: 2;
      }

      body.loaded .hero {
        opacity: 1;
        transform: translateY(0);
      }

      @font-face {
        font-family: soft;
        src: url("LeagueSpartan-Bold.otf");
      }
      
      /* Enhanced Typography */
      h1, h2, h3, h4, h5, h6 {
        letter-spacing: 0.5px;
        line-height: 1.3;
      }
      
      p {
        line-height: 1.6;
        letter-spacing: 0.3px;
      }
      
      /* Smooth transitions for all interactive elements */
      a, button, .card, .genre-card, .trending-item {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
      }

      /* Loading Screen */
      .loading-screen {
        position: fixed;
        inset: 0;
        background: linear-gradient(135deg, #000000 0%, #1a0a1f 50%, #000000 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 99999;
        transition: opacity 0.5s ease, visibility 0.5s ease;
      }
      
      .loading-screen.hidden {
        opacity: 0;
        visibility: hidden;
      }
      
      .loader {
        width: 60px;
        height: 60px;
        border: 4px solid rgba(255, 42, 109, 0.2);
        border-top-color: #ff2a6d;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }

      /* NAV */
      nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 3vw;
        position: relative;
        z-index: 10;
        backdrop-filter: none;
        background: rgba(0, 0, 0, 0.15);
        border-radius: 15px;
        margin-top: -10px;
        margin-bottom: 20px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        flex-wrap: nowrap;
        gap: 20px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
      }
      
      nav .logo {
        display: flex;
        align-items: center;
        font-size: 32px;
        font-weight: 700;
        z-index: 1501;
        transition: all 0.3s ease;
        flex-shrink: 0;
        min-width: 0;
        margin-right: auto;
      }
      
      nav .logo:hover {
        transform: scale(1.05);
      }
      
      nav .logo img {
        width: 40px;
        margin-right: 10px;
        filter: drop-shadow(0 0 10px rgba(255, 42, 109, 0.5));
        transition: transform 0.3s ease;
        flex-shrink: 0;
      }
      
      nav .logo:hover img {
        transform: rotate(360deg);
      }
      
      nav .logo .name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      nav .navlinks {
        display: flex;
        list-style: none;
        gap: 30px;
        align-items: center;
        flex: 0 1 auto;
        justify-content: center;
        min-width: 0;
        margin: 0 auto;
      }
      nav .navlinks {
        position: relative;
        display: flex;
        gap: 5px;
      }

      /* Sliding background element */
      nav .navlinks .sliding-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 100%;
        background: #ff2a6d;
        border: 1.5px solid #ff2a6d;
        border-radius: 999px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 0;
        opacity: 0;
        pointer-events: none;
      }

      nav .navlinks a {
        text-decoration: none;
        color: white;
        font-size: 16px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        white-space: nowrap;
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 8px 18px;
        border-radius: 999px;
        background: transparent;
        border: 1.5px solid transparent;
        font-weight: 500;
        overflow: visible;
        z-index: 1;
      }
      
      nav .navlinks a::after {
        display: none; /* Remove underline effect */
      }

      nav .navlinks a::before {
        display: none;
      }
      
      nav .navlinks a:hover {
        color: white;
        font-weight: 600;
        transform: translateY(-3px) scale(1.05);
        z-index: 2;
        border-color: transparent;
      }

      nav .navlinks a:active {
        transform: translateY(-1px) scale(1.02);
      }

      /* Remove default active state from home button */
      nav .navlinks a.home-btn {
        background: transparent;
        border-color: transparent;
        color: white;
        font-weight: 500;
        box-shadow: none;
      }
      
      /* More Dropdown */
      .more-dropdown {
        position: relative;
      }
      
      .more-link {
        display: flex;
        align-items: center;
        gap: 5px;
      }
      
      .more-link i {
        font-size: 12px;
        transition: transform 0.3s ease;
      }
      
      .more-dropdown:hover .more-link i {
        transform: rotate(180deg);
      }
      
      .dropdown-menu {
        position: absolute;
        top: 100%;
        right: 0;
        background: rgba(8, 8, 12, 0.98);
        backdrop-filter: blur(15px);
        border-radius: 12px;
        padding: 10px 0;
        min-width: 180px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);
        border: 1px solid rgba(255, 42, 109, 0.2);
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1000;
        margin-top: 10px;
      }
      
      .more-dropdown:hover .dropdown-menu {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }
      
      .dropdown-menu a {
        display: block;
        padding: 12px 20px;
        color: white;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.3s ease;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }
      
      .dropdown-menu a:last-child {
        border-bottom: none;
      }
      
      .dropdown-menu a:hover {
        background: rgba(255, 42, 109, 0.1);
        color: var(--pink);
        padding-left: 25px;
      }
      
      nav .icons {
        display: flex;
        gap: 15px;
        font-size: 22px;
        cursor: pointer;
        align-items: center;
        z-index: 1501;
        flex-shrink: 0;
        margin-left: auto;
        flex-wrap: nowrap;
      }

      /* Hide hamburger on large screens */
      #bar {
        display: none;
        font-size: 26px;
        transition: all 0.3s ease;
      }
      
      #bar:hover {
        color: #ff2a6d;
        transform: scale(1.1);
      }

      /* Cart icon styling */
      .cart-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255, 42, 109, 0.15);
        border: 1px solid rgba(255, 42, 109, 0.65);
        font-size: 15px;
      }

      .cart-link span#cartCount {
        min-width: 20px;
        height: 20px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 999px;
        background: #ff2a6d;
        color: #fff;
        font-size: 12px;
        font-weight: 700;
      }

      .cart-link:hover {
        background: rgba(255, 42, 109, 0.3);
        transform: translateY(-1px);
        transition: 0.2s ease;
      }
      .icons a {
        color: white;
        text-decoration: none;
        transition: 0.3s;
      }
      .icons a:hover {
        scale: 1.2;
      }

      /* Search Functionality */
.search-input-wrapper {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%) scale(0.9);
  width: 0;
  opacity: 0;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 10000;
  transform-origin: right center;
  pointer-events: none;
}

.icons.search-expanded .search-input-wrapper {
  width: 400px;
  opacity: 1;
  transform: translateY(-50%) scale(1);
  margin-right: 10px;
  pointer-events: all;
  right: 0;
}

.searchInput {
  width: 100%;
  padding: 12px 20px;
  padding-right: 45px;
  border-radius: 999px;
  border: 2px solid rgba(255, 42, 109, 0.4);
  background: rgba(14, 12, 22, 0.95);
  backdrop-filter: blur(20px);
  color: white;
  outline: none;
  font-size: 0.95rem;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 42, 109, 0.2);
  transition: all 0.3s ease;
}

.searchInput:focus {
  border-color: #ff2a6d;
  box-shadow: 0 8px 32px rgba(255, 42, 109, 0.4), 0 0 0 3px rgba(255, 42, 109, 0.15);
  background: rgba(14, 12, 22, 0.98);
}

.searchInput::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

.search-close-btn {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  font-size: 1.2rem;
  cursor: pointer;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s ease;
  opacity: 0;
  pointer-events: none;
}

.icons.search-expanded .search-close-btn {
  opacity: 1;
  pointer-events: all;
}

.search-close-btn:hover {
  color: #ff2a6d;
  background: rgba(255, 42, 109, 0.1);
  transform: translateY(-50%) rotate(90deg);
}

#search {
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform-origin: center;
  cursor: pointer;
}

.icons.search-expanded #search {
  opacity: 0;
  transform: scale(0) rotate(90deg);
  pointer-events: none;
}

/* Hide hamburger when search is expanded */
.icons.search-expanded ~ #bar,
.icons.search-expanded #bar {
  opacity: 0 !important;
  pointer-events: none !important;
  z-index: 1 !important;
  transition: opacity 0.3s ease;
}

/* Search Results Dropdown */
.search-results-dropdown {
  position: absolute;
  top: calc(100% + 10px);
  right: 10px;
  width: 400px;
  max-height: 500px;
  background: radial-gradient(circle at top left, #25122d 0%, #0d0b14 55%, #07060a 100%);
  border-radius: 16px;
  border: 1px solid rgba(255, 42, 109, 0.3);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
  overflow: hidden;
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
  transition: all 0.3s ease;
  z-index: 999999;
}

.search-results-dropdown.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}

.search-results-list {
  max-height: 500px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #ff2a6d #1a1525;
  padding: 8px;
}

.search-results-list::-webkit-scrollbar {
  width: 8px;
}

.search-results-list::-webkit-scrollbar-track {
  background: #1a1525;
  border-radius: 10px;
}

.search-results-list::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff2a6d, #8a2be2);
  border-radius: 10px;
}

.search-result-item {
  background: radial-gradient(circle at top left, rgba(255, 42, 109, 0.16), rgba(17, 13, 24, 0.95));
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 8px;
  color: #f5f5f5;
  border: 1px solid rgba(255, 42, 109, 0.3);
  transition: all 0.3s ease;
  cursor: pointer;
  display: flex;
  gap: 12px;
  align-items: center;
}

.search-result-item:hover {
  transform: translateX(5px);
  box-shadow: 0 6px 20px rgba(255, 42, 109, 0.3);
  border-color: rgba(255, 42, 109, 0.7);
}

.search-result-image {
  width: 50px;
  height: 50px;
  border-radius: 8px;
  object-fit: cover;
  border: 2px solid rgba(255, 42, 109, 0.3);
}

.search-result-content {
  flex: 1;
}

.search-result-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: #fff;
  margin: 0 0 4px 0;
}

.search-result-type {
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.6);
}

.search-no-results {
  text-align: center;
  padding: 40px 20px;
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.95rem;
}

/* Desktop - wider search */
@media (min-width: 1200px) {
  .icons.search-expanded .search-input-wrapper {
    width: 450px;
    right: 0;
    margin-right: 10px;
  }
  .search-results-dropdown {
    width: 450px;
    right: 10px;
  }
}

/* Large Tablets */
@media (max-width: 1100px) {
  .icons.search-expanded .search-input-wrapper {
    width: 350px;
    right: 0;
    margin-right: 8px;
  }
  .search-results-dropdown {
    width: 350px;
    right: 8px;
  }
}

/* Tablet */
@media (max-width: 900px) {
  .icons.search-expanded .search-input-wrapper {
    width: 280px;
    right: 0;
    margin-right: 5px;
  }
  .search-results-dropdown {
    width: 280px;
    right: 5px;
  }
}

/* Small Tablet */
@media (max-width: 768px) {
  nav {
    padding: 10px 15px;
    gap: 10px;
    justify-content: space-between;
    flex-wrap: nowrap;
  }
  nav .logo {
    font-size: 22px;
    flex-shrink: 1;
    min-width: 0;
    max-width: calc(100% - 180px);
    overflow: hidden;
  }
  nav .logo img {
    width: 28px;
    margin-right: 6px;
  }
  nav .logo .name {
    font-size: 22px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  nav .navlinks {
    position: absolute;
    top: calc(100% + 5px);
    left: 0;
    right: 0;
    background: rgba(8, 8, 12, 0.98);
    backdrop-filter: blur(15px);
    border-radius: 12px;
    padding: 16px 20px;
    display: none;
    flex-direction: column;
    gap: 0;
    margin-top: 0;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);
    z-index: 999999;
    border: 1px solid rgba(255, 42, 109, 0.2);
    animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }
  nav .icons {
    font-size: 18px;
    gap: 10px;
    flex: 0 0 auto;
    margin-left: auto;
    flex-shrink: 0;
    order: 2;
    justify-content: flex-end;
  }
  #bar {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    z-index: 100;
    position: relative;
    padding: 8px;
    background: rgba(255, 42, 109, 0.2);
    border-radius: 6px;
    border: 1px solid rgba(255, 42, 109, 0.4);
    font-size: 22px;
    width: 40px;
    height: 40px;
    color: white;
    text-decoration: none;
    cursor: pointer;
    transition: opacity 0.3s ease;
  }
  #bar:hover {
    background: rgba(255, 42, 109, 0.3);
    border-color: rgba(255, 42, 109, 0.6);
  }
  .icons.search-expanded ~ #bar,
  .icons.search-expanded #bar {
    opacity: 0;
    pointer-events: none;
  }
  .icons.search-expanded .search-input-wrapper {
    position: absolute;
    width: 240px;
    right: 0;
    margin-right: 5px;
    transform: translateY(-50%) scale(1);
    z-index: 99999;
  }
  .search-results-dropdown {
    z-index: 999999 !important;
  }
}

/* Mobile - wider search */
@media (max-width: 600px) {
  .icons.search-expanded .search-input-wrapper {
    width: calc(100vw - 120px);
    max-width: 280px;
    right: 0;
    margin-right: 4px;
    position: absolute;
    transform: translateY(-50%) scale(1);
    z-index: 10000;
  }
  .search-results-dropdown {
    width: calc(100vw - 120px);
    max-width: 280px;
    right: 4px;
  }
  
  .searchInput {
    padding: 10px 16px;
    padding-right: 38px;
    font-size: 0.85rem;
  }
  
  .search-close-btn {
    width: 24px;
    height: 24px;
    font-size: 1rem;
    right: 8px;
  }
  
  .icons.search-expanded ~ #bar,
  .icons.search-expanded #bar {
    opacity: 0;
    pointer-events: none;
    z-index: 1;
  }
}

/* Small Mobile - wider search */
@media (max-width: 500px) {
  .icons.search-expanded .search-input-wrapper {
    width: calc(100vw - 100px);
    max-width: 250px;
    right: 0;
    margin-right: 3px;
    position: absolute;
    transform: translateY(-50%) scale(1);
    z-index: 10000;
  }
  .search-results-dropdown {
    width: calc(100vw - 100px);
    max-width: 250px;
    right: 3px;
  }
  
  .searchInput {
    padding: 9px 14px;
    padding-right: 35px;
    font-size: 0.8rem;
  }
  
  .search-close-btn {
    width: 22px;
    height: 22px;
    font-size: 0.9rem;
    right: 7px;
  }
  
  .icons.search-expanded ~ #bar,
  .icons.search-expanded #bar {
    opacity: 0;
    pointer-events: none;
    z-index: 1;
  }
}

/* Tiny Mobile - wider search */
@media (max-width: 400px) {
  .icons.search-expanded .search-input-wrapper {
    width: calc(100vw - 90px);
    max-width: 220px;
    right: 0;
    margin-right: 2px;
    position: absolute;
    transform: translateY(-50%) scale(1);
    z-index: 10000;
  }
  .search-results-dropdown {
    width: calc(100vw - 90px);
    max-width: 220px;
    right: 2px;
  }
  
  .searchInput {
    padding: 8px 12px;
    padding-right: 32px;
    font-size: 0.75rem;
  }
  
  .search-close-btn {
    width: 20px;
    height: 20px;
    font-size: 0.85rem;
    right: 6px;
  }
  
  .icons.search-expanded ~ #bar,
  .icons.search-expanded #bar {
    opacity: 0;
    pointer-events: none;
    z-index: 1;
  }
}

      /* CONTENT */
      .left {
        width: 45%;
        margin-top: 100px;
        position: relative;
        z-index: 3;
        background: rgba(0, 0, 0, 0.25);
        backdrop-filter: none;
        padding: 28px 32px;
        border-radius: 16px;
        border: 1px solid rgba(255, 42, 109, 0.15);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        max-width: 600px;
      }

      .left::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent, #ff2a6d 20%, #8a2be2 50%, #ff2a6d 80%, transparent);
        border-radius: 16px 16px 0 0;
        opacity: 0.6;
      }
      .title {
        font-size: 52px;
        font-weight: 800;
        color: #ff2a6d;
        animation: titleGlow 3s ease-in-out infinite;
        margin-bottom: 18px;
        line-height: 1.2;
        letter-spacing: -0.5px;
        position: relative;
        word-wrap: break-word;
        overflow-wrap: break-word;
        white-space: normal;
        text-shadow: 0 2px 10px rgba(255, 42, 109, 0.5);
        transition: color 0.6s ease, text-shadow 0.6s ease;
      }

      .title::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 0;
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, var(--title-accent, #ff2a6d), var(--title-accent-secondary, #8a2be2));
        border-radius: 2px;
        box-shadow: 0 0 10px rgba(255, 42, 109, 0.4);
        transition: background 0.6s ease, box-shadow 0.6s ease;
      }
      
      @keyframes titleGlow {
        0%, 100% { filter: brightness(1); }
        50% { filter: brightness(1.2); }
      }
      
      .meta {
        font-size: 14px;
        opacity: 0.75;
        letter-spacing: 1.5px;
        margin-bottom: 14px;
        color: rgba(255, 255, 255, 0.7);
        text-transform: uppercase;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .meta::before {
        content: 'â–¶';
        color: var(--meta-icon-color, #ff2a6d);
        font-size: 12px;
        opacity: 0.7;
        transition: color 0.6s ease;
      }
      
      .stars {
        display: flex;
        gap: 3px;
        margin: 12px 0;
        font-size: 18px;
        animation: starPulse 2s ease-in-out infinite;
      }
      
      @keyframes starPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      .desc {
        font-size: 14px;
        line-height: 1.7;
        opacity: 0.9;
        margin-top: 18px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7), 0 1px 3px rgba(0, 0, 0, 0.5);
        color: rgba(255, 255, 255, 0.95);
        border-left: 2px solid rgba(255, 42, 109, 0.4);
        padding-left: 16px;
        font-weight: 400;
        width: 100%;
        transition: border-left-color 0.6s ease;
      }
      .btns {
        margin-top: 30px;
        display: flex;
        gap: 20px;
      }
      .btn {
        padding: 13px 28px;
        font-size: 17px;
        border: none;
        cursor: pointer;
        border-radius: 999px;
        font-weight: 700;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }
      
      .btn::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s ease, height 0.6s ease;
      }
      
      .btn:hover::after {
        width: 300px;
        height: 300px;
      }
      
      .buy {
background: #ff2a6d;
        color: white;
        box-shadow: 0 8px 20px rgba(255, 42, 109, 0.4);
      }
      
      .buy {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      
      .buy i {
        font-size: 18px;
      }
      
      .buy:hover {
        transform: translateY(-4px) scale(1.05);
        background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
        box-shadow: 0 12px 35px rgba(255, 42, 109, 0.6);
      }
      
      .buy:active {
        transform: translateY(-2px) scale(1.02);
      }
      
      .shows {
        background: transparent;
        border: 2px solid rgba(255, 255, 255, 0.8);
        color: white;
        backdrop-filter: blur(10px);
      }
      
      .shows:hover {
        transform: translateY(-4px) scale(1.05);
        border-color: #ff2a6d;
        background: rgba(255, 42, 109, 0.1);
        box-shadow: 0 8px 25px rgba(255, 42, 109, 0.3);
      }
      
      .shows:active {
        transform: translateY(-2px) scale(1.02);
      }
      .watch {
        display: flex;
        align-items: center;
        margin-top: 100px;
        font-size: 18px;
      }
      .watch img {
        width: 35px;
        margin-right: 10px;
      }
      .watch a:hover {
        scale: 1.2;
        transition: ease 0.3s;
      }

      /* POSTER */
      .poster {
        position: absolute;
        right: 80px;
        top: 50%;
        transform: translateY(-50%);
        transition: opacity 1s ease;
      }
      .poster img {
        width: 900px;
        height: 500px;
        border-radius: 6px;
      }

      .container {
    max-width: 1400px;
    margin: auto;
    padding: 60px 3vw;
    position: relative;
}

/* Add breathing room between sections */
section {
    margin-bottom: 80px;
}

section:last-child {
    margin-bottom: 40px;
}

.section-title {
    font-size: 36px;
    margin-bottom: 30px;
    font-weight: 700;
    background: linear-gradient(135deg, #fff, #ff2a6d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.summer {
    margin-top: 70px;
}

/* Featured Categories Section - Subtle Style */
.featured-categories {
    margin: 80px 3vw 60px 3vw;
    padding: 30px 0;
    position: relative;
}

.featured-categories::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 50%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.3), transparent);
}

.genre-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 30px;
}

.genre-card {
    height: 200px;
    border-radius: 16px;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(255, 42, 109, 0.15);
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(15px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    animation: fadeInUp 0.8s ease-out;
    animation-fill-mode: both;
}

.genre-card:nth-child(1) { animation-delay: 0.1s; }
.genre-card:nth-child(2) { animation-delay: 0.2s; }
.genre-card:nth-child(3) { animation-delay: 0.3s; }
.genre-card:nth-child(4) { animation-delay: 0.4s; }
.genre-card:nth-child(5) { animation-delay: 0.5s; }

.genre-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.7) 100%);
    transition: opacity 0.4s ease;
    z-index: 1;
}

.genre-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.4), transparent);
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: 2;
}

.genre-card:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 12px 35px rgba(255, 42, 109, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 42, 109, 0.3);
}

.genre-card:hover::before {
    opacity: 0.9;
}

.genre-card:hover::after {
    opacity: 1;
}

.genre-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 20px;
    z-index: 2;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.85) 100%);
}

.genre-card:hover .genre-overlay {
    padding-bottom: 22px;
    transform: translateY(-2px);
}

.genre-overlay h3 {
    font-size: 22px;
    margin-bottom: 8px;
    font-weight: 700;
    background: linear-gradient(135deg, #ffffff 0%, #ff2a6d 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    transition: all 0.3s ease;
    letter-spacing: 0.3px;
}

.genre-card:hover .genre-overlay h3 {
    transform: scale(1.03);
}

.genre-overlay p {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 10px;
    font-weight: 400;
    letter-spacing: 0.2px;
    transition: color 0.3s ease;
}

.genre-card:hover .genre-overlay p {
    color: rgba(255, 255, 255, 0.85);
}

.genre-count {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255, 42, 109, 0.15);
    border: 1px solid rgba(255, 42, 109, 0.3);
    padding: 6px 14px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
    color: #ff2a6d;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(255, 42, 109, 0.2);
}

.genre-card:hover .genre-count {
    background: rgba(255, 42, 109, 0.2);
    border-color: rgba(255, 42, 109, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 42, 109, 0.3);
}

/* Trending Now Section - Subtle Style */
.trending-now {
    margin: 80px 3vw 60px 3vw;
    padding: 30px 0;
    position: relative;
}

.trending-now::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 50%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.3), transparent);
}

.trending-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-top: 30px;
}

.trending-item {
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(15px);
    border-radius: 16px;
    overflow: hidden;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(255, 42, 109, 0.15);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.trending-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.4), transparent);
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: 2;
}

.trending-item::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 80px;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95), transparent);
    pointer-events: none;
    z-index: 1;
}

.trending-item:hover::before {
    opacity: 1;
}

.trending-large {
    grid-column: span 1;
    display: flex;
    flex-direction: column;
}

.trending-large img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    transition: transform 0.4s ease, filter 0.4s ease;
}

.trending-large .trending-info {
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    flex: 1;
}

.trending-item:not(.trending-large) img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    transition: transform 0.4s ease, filter 0.4s ease;
}

.trending-item img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    transition: transform 0.4s ease, filter 0.4s ease;
}

.trending-item:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 12px 35px rgba(255, 42, 109, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 42, 109, 0.3);
}

.trending-item:hover img {
    transform: scale(1.05);
    filter: brightness(1.1);
}

.trending-info {
    padding: 18px;
    position: relative;
    background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.2) 100%);
    z-index: 2;
}

.trending-info::before {
    content: '';
    position: absolute;
    top: 0;
    left: 18px;
    right: 18px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.3), transparent);
}

.trending-badge {
    display: inline-block;
    background: rgba(255, 255, 255, 0.08);
    padding: 5px 12px;
    border-radius: 999px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    color: rgba(255, 255, 255, 0.7);
}

.trending-item:hover .trending-badge {
    background: rgba(255, 255, 255, 0.12);
    border-color: rgba(255, 255, 255, 0.15);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    color: rgba(255, 255, 255, 0.85);
}

.trending-hot {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.7);
}

.trending-new {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.7);
}

.trending-info h3 {
    font-size: 18px;
    margin-bottom: 8px;
    font-weight: 700;
    background: linear-gradient(135deg, #ffffff 0%, #ff2a6d 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: 0.2px;
    transition: all 0.3s ease;
}

.trending-item:hover .trending-info h3 {
    transform: scale(1.03);
}

.trending-info p {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.65);
    margin-bottom: 10px;
    line-height: 1.4;
}

.trending-meta {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 12px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
}

.trending-meta span {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background: rgba(255, 42, 109, 0.1);
    padding: 4px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 42, 109, 0.2);
    transition: all 0.3s ease;
    backdrop-filter: blur(8px);
}

.trending-meta span:hover {
    background: rgba(255, 42, 109, 0.15);
    border-color: rgba(255, 42, 109, 0.3);
    transform: translateY(-2px);
}

.trending-info .add-cart-btn {
    margin-top: auto;
    width: 100%;
}

/* Genre Modal - Enhanced */
.genre-modal-dialog {
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    width: 92vw;
    max-width: 1400px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    border: 2px solid rgba(255, 42, 109, 0.3);
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.9), 0 0 40px rgba(255, 42, 109, 0.3), inset 0 0 60px rgba(255, 42, 109, 0.05);
}

.genre-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 30px 35px;
    border-bottom: 2px solid rgba(255, 42, 109, 0.2);
    background: linear-gradient(135deg, rgba(255, 42, 109, 0.1), rgba(138, 43, 226, 0.05));
    backdrop-filter: blur(10px);
}

.genre-modal-header h2 {
    font-size: 32px;
    margin: 0;
    font-weight: 800;
    background: linear-gradient(135deg, #ffffff 0%, #ff2a6d 50%, #8a2be2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: 0.5px;
}

.modal-close-btn {
    font-size: 32px;
    color: #ff2a6d;
    cursor: pointer;
    padding: 0 10px;
    transition: all 0.3s ease;
    line-height: 1;
}

.modal-close-btn:hover {
    transform: scale(1.2) rotate(90deg);
    color: #ff5a8d;
}

.genre-modal-content {
    padding: 35px;
    overflow-y: auto;
    flex: 1;
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: #ff2a6d #1a1525; /* Firefox */
}

.genre-modal-content::-webkit-scrollbar {
    width: 10px;
}

.genre-modal-content::-webkit-scrollbar-track {
    background: #1a1525;
    border-radius: 10px;
}

.genre-modal-content::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ff2a6d, #8a2be2);
    border-radius: 10px;
}

.genre-modal-content::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ff5a8d, #a855f7);
}

.genre-movies-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 25px;
}

.genre-movie-card {
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(15px);
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    border: 1px solid rgba(255, 42, 109, 0.15);
    cursor: pointer;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.genre-movie-card:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: 0 20px 50px rgba(255, 42, 109, 0.4), 0 0 30px rgba(138, 43, 226, 0.3), inset 0 0 60px rgba(255, 42, 109, 0.1);
    border-color: rgba(255, 42, 109, 0.5);
}

.genre-movie-card img {
    width: 100%;
    height: 280px;
    object-fit: cover;
    transition: transform 0.4s ease;
}

.genre-movie-card:hover img {
    transform: scale(1.05);
}

.genre-movie-info {
    padding: 18px;
    background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
}

.genre-movie-info h4 {
    font-size: 18px;
    margin-bottom: 10px;
    font-weight: 700;
    color: #ffffff;
    letter-spacing: 0.3px;
}

.genre-movie-rating {
    font-size: 14px;
    color: gold;
    margin-bottom: 12px;
    display: flex;
    gap: 3px;
    justify-content: flex-start;
    font-weight: 600;
}

.genre-movie-info .add-cart-btn {
    width: 100%;
    padding: 8px 14px;
    font-size: 12px;
}

/* -------------------- Cards --------------------- */
.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 30px;
    margin: 0 3vw 60px 3vw;
    padding: 0 10px;
}

.card {
    text-align: center;
    background: linear-gradient(145deg, #1a1525 0%, #0f0c14 100%);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
}

.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #ff2a6d, #ff8a3c);
    opacity: 0;
    transition: opacity 0.4s ease;
}

.card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 12px 35px rgba(255, 42, 109, 0.25);
    border-color: rgba(255, 42, 109, 0.3);
}

.card:hover::before {
    opacity: 1;
}

.card img {
    width: 100%;
    height: auto;
    border-radius: 0;
    transition: transform 0.4s ease;
}

.card:hover img {
    transform: scale(1.05);
}

.card h3 {
    margin: 12px 0 6px 0;
    font-size: 18px;
    font-weight: 600;
}

.stars {
    color: gold;
    font-size: 16px;
    margin: 6px 0;
}

/* Buy Ticket button on hover */
.card .add-cart-btn {
    margin: 10px auto 14px;
    opacity: 0;
    transform: translateY(8px) scale(0.9);
    pointer-events: none;
    background: #ff2a6d;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.card .add-cart-btn::before {
    content: "";
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    content: "\f145";
    margin-right: 6px;
}

.card:hover .add-cart-btn {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
}

.card .add-cart-btn:hover {
    background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 25px rgba(255, 42, 109, 0.4);
}

/* -------------------- Top Rated List --------------------- */
 
/* make the right panel NOT overlay */
.topsec {
    width: 100%;
    display: flex;
    justify-content: end;
    margin-bottom: 20px;
}

/* panel stays on the right but respects layout */
.top-rated {
    width: 380px;
    background: #111;
    padding: 20px;
    border-radius: 10px;
}

/* styling kept the same */
.top-rated h2 {
    margin-bottom: 20px;
}

.top-item {
    display: flex;
    align-items: center;
    margin-bottom: 16px;
    background: linear-gradient(135deg, #1a1525, #0f0c14);
    padding: 12px;
    border-radius: 10px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(255, 255, 255, 0.05);
    cursor: pointer;
}

.top-item:hover {
    transform: translateX(8px);
    background: linear-gradient(135deg, #221833, #14101c);
    border-color: rgba(255, 42, 109, 0.3);
    box-shadow: 0 6px 20px rgba(255, 42, 109, 0.2);
}

.top-item img {
    width: 50px;
    height: 50px;
    border-radius: 8px;
    margin: 0 12px;
    transition: transform 0.3s ease;
}

.top-item:hover img {
    transform: scale(1.1);
}

.rank {
    font-size: 20px;
    font-weight: bold;
    opacity: 0.6;
}

/* ===================== MOBILE ===================== */
@media (max-width: 900px) {

    .topsec {
        justify-content: center;
    }

    .top-rated {
        width: 100%;
        margin-top: 20px;
    }

    .top-item img {
        width: 40px;
        height: 40px;
    }

    .rank {
        font-size: 18px;
    }
    
    .card-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 0 4vw 50px 4vw;
    }
}

@media (max-width: 768px) {
    .card-grid {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 18px;
        margin: 0 5vw 40px 5vw;
        padding: 0;
    }
    
    .card {
        border-radius: 10px;
    }
    
    .card h3 {
        font-size: 16px;
    }
    
    .card .add-cart-btn {
        padding: 7px 14px;
        font-size: 12px;
        margin: 8px auto 12px;
    }
}

@media (max-width: 600px) {

    .top-item {
        padding: 6px;
        border-radius: 6px;
        background: #181818;
    }

    .top-item img {
        width: 35px;
        height: 35px;
    }

    .rank {
        font-size: 16px;
        width: 20px;
    }

    .top-item h4 {
        font-size: 14px;
        margin: 0;
    }

    .top-item p {
        font-size: 12px;
        margin: 0;
        opacity: 0.7;
    }
    
    .card-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin: 0 4vw 35px 4vw;
    }
    
    .card {
        border-radius: 8px;
    }
    
    .card h3 {
        font-size: 15px;
        margin: 10px 0 5px 0;
    }
    
    .card .stars {
        font-size: 14px;
    }
    
    .card .add-cart-btn {
        padding: 6px 12px;
        font-size: 11px;
        margin: 6px auto 10px;
    }
    
    .card .add-cart-btn::before {
        font-family: "Font Awesome 6 Free";
        font-weight: 900;
        content: "\f145";
        margin-right: 6px;
        font-size: 12px;
    }
    
    /* Disable hover effects on mobile for better performance */
    .card:hover {
        transform: translateY(-4px) scale(1.01);
    }
}

@media (max-width: 480px) {
    .card-grid {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
        margin: 0 3vw 30px 3vw;
    }
    
    .card h3 {
        font-size: 14px;
    }
    
    .card .add-cart-btn {
        padding: 5px 10px;
        font-size: 10px;
    }
}

/* Responsive for Featured Categories */
@media (max-width: 1100px) {
    .genre-grid {
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 22px;
    }
    
    .trending-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 22px;
    }
}

@media (max-width: 1000px) {
    .trending-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
}

@media (max-width: 900px) {
    .genre-grid {
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 20px;
    }
    
    .genre-card {
        height: 200px;
    }
    
    .trending-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
    
    .trending-large {
        grid-column: span 1;
    }
    
    .trending-large img,
    .trending-item:not(.trending-large) img,
    .trending-item img {
        height: 180px;
    }
}

@media (max-width: 768px) {
    .featured-categories,
    .trending-now {
        margin: 50px 4vw 40px 4vw;
        padding: 20px 0;
    }
    
    .container {
        padding: 40px 3vw;
    }
    
    section {
        margin-bottom: 60px;
    }
    
    .section-title {
        font-size: 32px;
        margin-bottom: 25px;
    }
    
    .genre-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 18px;
    }
    
    .genre-card {
        height: 200px;
        border-radius: 16px;
    }
    
    .genre-overlay {
        padding: 22px;
    }
    
    .genre-overlay h3 {
        font-size: 24px;
        margin-bottom: 8px;
    }
    
    .genre-overlay p {
        font-size: 13px;
        margin-bottom: 10px;
    }
    
    .genre-count {
        padding: 6px 14px;
        font-size: 12px;
    }
    
    .genre-card:hover {
        transform: translateY(-6px) scale(1.02);
    }
    
    .trending-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .trending-large img,
    .trending-item:not(.trending-large) img,
    .trending-item img {
        height: 160px;
    }
    
    .trending-large .trending-info {
        padding: 18px;
    }
}

@media (max-width: 600px) {
    .featured-categories,
    .trending-now {
        margin: 40px 4vw 35px 4vw;
        padding: 15px 0;
    }
    
    .container {
        padding: 30px 3vw;
    }
    
    section {
        margin-bottom: 50px;
    }
    
    .genre-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .genre-card {
        height: 180px;
        border-radius: 14px;
    }
    
    .genre-overlay {
        padding: 18px;
    }
    
    .genre-overlay h3 {
        font-size: 22px;
        margin-bottom: 6px;
    }
    
    .trending-large img,
    .trending-item:not(.trending-large) img,
    .trending-item img {
        height: 150px;
    }
    
    .trending-large .trending-info {
        padding: 16px;
    }
    
    .trending-info h3 {
        font-size: 18px;
    }
    
    .trending-info p {
        font-size: 13px;
    }
    
    .trending-meta {
        font-size: 12px;
        gap: 10px;
    }
}

@media (max-width: 480px) {
    .genre-card {
        height: 140px;
    }
    
    .genre-overlay h3 {
        font-size: 18px;
    }
    
    .genre-overlay p {
        font-size: 12px;
    }
    
    .genre-count {
        font-size: 11px;
        padding: 4px 10px;
    }
    
    .trending-large img,
    .trending-item:not(.trending-large) img,
    .trending-item img {
        height: 140px;
    }
    
    .trending-info {
        padding: 14px;
    }
    
    .trending-info h3 {
        font-size: 16px;
    }
    
    .trending-badge {
        font-size: 10px;
        padding: 4px 10px;
    }
}

/* Genre Modal Responsive */
@media (max-width: 768px) {
    .genre-modal-dialog {
        width: 95vw;
        max-height: 90vh;
    }
    
    .genre-modal-header {
        padding: 20px;
    }
    
    .genre-modal-header h2 {
        font-size: 24px;
    }
    
    .genre-modal-content {
        padding: 20px;
    }
    
    .genre-movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 18px;
    }
    
    .genre-movie-card img {
        height: 220px;
    }
}

@media (max-width: 600px) {
    .genre-modal-header {
        padding: 18px;
    }
    
    .genre-modal-header h2 {
        font-size: 20px;
    }
    
    .modal-close-btn {
        font-size: 28px;
    }
    
    .genre-modal-content {
        padding: 15px;
    }
    
    .genre-movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
    }
    
    .genre-movie-card img {
        height: 200px;
    }
    
    .genre-movie-info {
        padding: 12px;
    }
    
    .genre-movie-info h4 {
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .genre-modal-header h2 {
        font-size: 18px;
    }
    
    .genre-movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        gap: 12px;
    }
    
    .genre-movie-card img {
        height: 180px;
    }
    
    .genre-movie-info h4 {
        font-size: 13px;
    }
    
    .genre-movie-rating {
        font-size: 12px;
    }
}


      /* HERO SECTION BELOW */
      .heroSection {
        width: 100vw;
        height: auto;
        background-color: black;
        padding: 50px 20px;
      }
      .heroContainer {
        display: flex;
        gap: 30px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .heroImages {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 8px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
      }
      
      .heroImages:hover {
        transform: translateY(-6px);
      }
      
      .heroImages img {
        border-radius: 10px;
        width: 150px;
        height: 160px;
        object-fit: cover;
        transition: all 0.3s ease;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
      }
      
      .heroImages:hover img {
        transform: scale(1.05);
        box-shadow: 0 10px 30px rgba(255, 42, 109, 0.4);
      }
      
      .heroImages h2 {
        font-size: 16px;
        font-weight: 600;
      }
      
      .heroImages h3 {
        font-size: 14px;
        color: gold;
      }

    



/* ---- Cards Section above days ---- */
.cards-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 28px;
    margin: 60px 3vw 70px 3vw;
    padding: 0 10px;
}

/* --- CARD BASE STYLE --- */
.cardbelow {
    background: linear-gradient(145deg, #1a1525 0%, #0f0c14 100%);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.cardbelow::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 42, 109, 0.1), transparent);
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.cardbelow:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 12px 35px rgba(255, 42, 109, 0.25);
    border-color: rgba(255, 42, 109, 0.3);
}

.cardbelow:hover::after {
    opacity: 1;
}

/* --- IMAGE FULL SIZE (DESKTOP) --- */
.cardbelow img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    transition: transform 0.4s ease, filter 0.4s ease;
}

.cardbelow:hover img {
    transform: scale(1.08);
    filter: brightness(1.1);
}

.card-content {
    padding: 18px;
    position: relative;
    z-index: 1;
}

.card-content h3 {
    font-size: 19px;
    margin-bottom: 10px;
    font-weight: 600;
    color: #fff;
}

.card-content p {
    font-size: 14px;
    color: #aaa;
    line-height: 1.5;
    margin-bottom: 12px;
}

.card-content .add-cart-btn {
    margin-top: 10px;
    font-size: 13px;
    padding: 8px 16px;
    background: #ff2a6d;
}

.card-content .add-cart-btn::before {
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    content: "\f145";
    margin-right: 6px;
}

.cardbelow .add-cart-btn {
    opacity: 0;
    transform: translateY(6px) scale(0.9);
    pointer-events: none;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.cardbelow:hover .add-cart-btn {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
}

.cardbelow .add-cart-btn:hover {
    background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 25px rgba(255, 42, 109, 0.4);
}


.top-item {
  background-color: #19141f;
  margin-left: 3vw;
}


/* ============================================================
   ===============   MOBILE VERSION   ==========================
   ============================================================ */
@media (max-width: 600px) {

    .cards-section {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .left {
      justify-content: center;
    }

    .desc{
      justify-self: center;
      align-self: center;
    }

    .navlinks {
      width: 100vw;
    }

    .icons {
      width: 50vw;
    }

    .cardbelow {
        display: flex;
        align-items: center;
        padding: 8px;
        height: 75px;
        border-radius: 10px;
    }
    .card {
        display: flex;
        align-items: center;
        padding: 8px;
        height: 75px;
        border-radius: 10px;
        font-size: 3vw;
    }

    .section-title {
      font-size: 23px;
    }
     .watch {
      scale: 0.7;
      transform: translateY(-50px);
     }

     .shows {
      width: 120px;
      height: 50px;
      font-size: 10px;
     }

     .buy {
      width: 120px;
      height: 50px;
      font-size: 10px;
     
     }
     
     .navlinks {
      scale: 0.8;
      width: 100vw;
      object-fit: cover;
      
     }

     .poster {
      display: none;
     }

    /* SMALL IMAGE LEFT */
    .cardbelow img {
        width: 55px;
        height: 55px;
        border-radius: 8px;
        margin-right: 10px;
        object-fit: cover;
    }
    .card img {
        width: 55px;
        height: 55px;
        border-radius: 8px;
        margin-right: 10px;
        object-fit: cover;
    }

    /* TEXT ON RIGHT */
    .card-content {
        padding: 0;
    }

    .card-content h3 {
        font-size: 15px;
        margin-bottom: 2px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .card-content p {
        font-size: 11px;
        color: #777;
        line-height: 1.1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

.tabs-section {
    background: linear-gradient(135deg, rgba(26, 21, 37, 0.95), rgba(18, 15, 28, 0.95));
    padding: 30px 25px;
    border-radius: 16px;
    margin-bottom: 50px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
}

.tabs-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.3), transparent);
    opacity: 0.4;
}

.tabs {
    display: flex;
    gap: 12px;
    overflow-x: auto;
    padding-bottom: 5px;
    scrollbar-width: thin;
    scrollbar-color: #ff2a6d #1a1525;
}

.tabs::-webkit-scrollbar {
    height: 6px;
}

.tabs::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

.tabs::-webkit-scrollbar-thumb {
    background: linear-gradient(90deg, rgba(255, 42, 109, 0.4), rgba(138, 43, 226, 0.4));
    border-radius: 10px;
}

.tabs button {
    background: rgba(44, 44, 44, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 12px 24px;
    border-radius: 30px;
    color: white;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}

.tabs button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 42, 109, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.tabs button:hover {
    background: rgba(92, 42, 255, 0.15);
    border-color: rgba(92, 42, 255, 0.25);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(92, 42, 255, 0.15);
}

.tabs button:hover::before {
    width: 300px;
    height: 300px;
}

.tabs .active {
    background: linear-gradient(135deg, rgba(255, 42, 109, 0.4), rgba(255, 90, 141, 0.4));
    border-color: rgba(255, 42, 109, 0.5);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 42, 109, 0.2);
    transform: translateY(-2px);
}

.tabs .active::before {
    width: 0;
    height: 0;
}

/* ---- Schedule ---- */
.schedule {
    margin-top: 30px;
    list-style: none;
    padding: 0;
}

.schedule li {
    padding: 16px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    font-size: 1rem;
    transition: all 0.3s ease;
    position: relative;
    padding-left: 12px;
}

.schedule li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 0;
    background: linear-gradient(180deg, rgba(255, 42, 109, 0.5), rgba(138, 43, 226, 0.5));
    border-radius: 2px;
    transition: height 0.3s ease;
}

.schedule li:hover {
    padding-left: 20px;
    background: rgba(255, 42, 109, 0.03);
    border-radius: 8px;
    margin: 0 -8px;
    padding-right: 8px;
}

.schedule li:hover::before {
    height: 60%;
}

.schedule li span {
    color: rgba(255, 42, 109, 0.7);
    margin-right: 12px;
    font-weight: 700;
    font-size: 1.05rem;
    display: inline-block;
    min-width: 60px;
}

.schedule small {
    display: block;
    color: rgba(255, 255, 255, 0.6);
    margin-top: 5px;
    font-size: 0.85rem;
    font-style: italic;
}

/* View Shows Modal Tab Buttons */
.tab-btn {
    padding: 10px 20px;
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    bottom: -1px;
}

.tab-btn:hover {
    color: rgba(255, 255, 255, 0.9);
}

.tab-btn.active {
    color: #ff2a6d;
    border-bottom-color: #ff2a6d;
}

/* View Shows Modal */
.view-shows-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(10px);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.view-shows-modal.show {
  opacity: 1;
  visibility: visible;
}

.view-shows-dialog {
  background: linear-gradient(145deg, #1a1525 0%, #0f0c14 100%);
  border-radius: 24px;
  padding: 40px;
  max-width: 700px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  border: 1px solid rgba(255, 42, 109, 0.3);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 42, 109, 0.1);
  position: relative;
  transform: scale(0.9) translateY(20px);
  transition: transform 0.3s ease;
}

.view-shows-modal.show .view-shows-dialog {
  transform: scale(1) translateY(0);
}

.view-shows-dialog::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, #ff2a6d 20%, #8a2be2 50%, #ff2a6d 80%, transparent);
  box-shadow: 0 0 20px rgba(255, 42, 109, 0.5);
}

.view-shows-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255, 42, 109, 0.2);
}

.view-shows-header h3 {
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, #ffffff 0%, #ff2a6d 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
}

.close-view-shows {
  font-size: 32px;
  color: #ff2a6d;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.3s ease;
  background: rgba(255, 42, 109, 0.1);
}

.close-view-shows:hover {
  background: rgba(255, 42, 109, 0.2);
  transform: rotate(90deg) scale(1.1);
}

.tabs-section {
  margin-bottom: 30px;
}

.tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.tabs button {
  padding: 10px 24px;
  background: rgba(255, 42, 109, 0.1);
  border: 1px solid rgba(255, 42, 109, 0.3);
  border-radius: 999px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tabs button:hover {
  background: rgba(255, 42, 109, 0.2);
  border-color: rgba(255, 42, 109, 0.5);
}

.tabs button.active {
  background: #ff2a6d;
  border-color: #ff2a6d;
  color: white;
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.4);
}

.schedule {
  list-style: none;
  padding: 0;
  margin: 0;
}

.schedule li {
  padding: 20px;
  margin-bottom: 15px;
  background: rgba(255, 42, 109, 0.05);
  border: 1px solid rgba(255, 42, 109, 0.2);
  border-radius: 12px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.schedule li:hover {
  background: rgba(255, 42, 109, 0.1);
  border-color: rgba(255, 42, 109, 0.4);
  transform: translateX(5px);
}

.schedule li span {
  display: inline-block;
  background: rgba(255, 42, 109, 0.2);
  padding: 6px 14px;
  border-radius: 8px;
  font-weight: 700;
  color: #ff2a6d;
  margin-right: 12px;
  min-width: 80px;
  text-align: center;
}

.schedule li small {
  display: block;
  margin-top: 8px;
  color: rgba(255, 255, 255, 0.6);
  font-size: 13px;
}

.view-shows-close-btn {
  width: 100%;
  padding: 14px;
  background: #ff2a6d;
  border: none;
  border-radius: 999px;
  color: white;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 20px;
  box-shadow: 0 6px 20px rgba(255, 42, 109, 0.4);
}

.view-shows-close-btn:hover {
  background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(255, 42, 109, 0.6);
}

.view-shows-dialog::-webkit-scrollbar {
  width: 8px;
}

.view-shows-dialog::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
}

.view-shows-dialog::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff2a6d, #8a2be2);
  border-radius: 10px;
}

.view-shows-dialog::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff5a8d, #a855f7);
}

@media (max-width: 768px) {
  .view-shows-dialog {
    padding: 30px 20px;
    max-width: 95%;
  }

  .view-shows-header h3 {
    font-size: 22px;
  }

  .tabs button {
    padding: 8px 16px;
    font-size: 12px;
  }
}

@media (max-width: 600px) {
    .card-item .img {
        height: 100px;
    }

    .tabs button {
        padding: 8px 14px;
        font-size: 0.9rem;
    }

    .schedule li {
        font-size: 0.9rem;
    }
}

 .footer {
    position: relative;
    padding: 90px 40px 50px;
    background: linear-gradient(180deg, #000000 0%, #0a0a0f 30%, #0b0b0f 60%, #000000 100%);
    color: white;
    overflow: hidden;
    border-top: 2px solid rgba(255, 42, 109, 0.3);
    margin-top: 100px;
  }
  
  .footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #ff2a6d 20%, #8a2be2 50%, #ff2a6d 80%, transparent);
    box-shadow: 0 0 20px rgba(255, 42, 109, 0.5);
  }
  
  .footer::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 20% 50%, rgba(255, 42, 109, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 1;
  }

  /* Smaller jelly balls (same as before) */
  .jelly {
    position: absolute;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: #ff2a6d;
    box-shadow: 0 0 20px #ff2a6d;
    z-index: 3;
    transition: transform 0.1s ease;
  }

  /* Trail */
  .trail {
    position: absolute;
    width: 25px;
    height: 25px;
    background: #ff2a6d;
    border-radius: 50%;
    opacity: 0.25;
    transform: translate(-50%, -50%);
    filter: blur(6px);
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.5s ease-out;
  }

  /* Phones: static, no movement */
  @media (max-width: 700px) {
    .jelly {
      width: 55px;
      height: 55px;
      bottom: 20px !important;
      left: 20px !important;
      animation: none !important;
      transform: none !important;
    }
    #bubble2 {
      right: 20px !important;
      left: auto !important;
    }
  }

  .footer-content {
    position: relative;
    z-index: 5;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 50px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .footer-section h3 {
    color: #ff2a6d;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 15px;
    background: linear-gradient(135deg, #ff2a6d, #8a2be2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .footer-section h4 {
    color: #ff2a6d;
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 20px;
    position: relative;
    padding-bottom: 10px;
  }
  
  .footer-section h4::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background: linear-gradient(90deg, #ff2a6d, transparent);
  }

  .footer-section p {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
    margin-top: 10px;
  }

  .footer-section ul {
    list-style: none;
    padding: 0;
  }

  .footer-section ul li {
    margin: 10px 0;
  }

  .footer-section ul li a {
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: inline-flex;
    align-items: center;
    position: relative;
    padding-left: 0;
  }
  
  .footer-section ul li a::before {
    content: 'â†’';
    position: absolute;
    left: -20px;
    opacity: 0;
    color: #ff2a6d;
    transition: all 0.3s ease;
    transform: translateX(-5px);
  }
  
  .footer-section ul li a::after {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #ff2a6d, #8a2be2);
    transition: width 0.3s ease;
  }

  .footer-section ul li a:hover {
    color: #ff2a6d;
    transform: translateX(8px);
    padding-left: 20px;
  }
  
  .footer-section ul li a:hover::before {
    opacity: 1;
    transform: translateX(0);
  }
  
  .footer-section ul li a:hover::after {
    width: 100%;
  }
  
  /* Social Media Icons Enhancement */
  .footer-section .social-icons {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-top: 10px;
  }
  
  .footer-section .social-icons li {
    position: relative;
    margin: 0;
  }
  
  .footer-section .social-icons li a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 42, 109, 0.3);
    font-size: 1.8rem;
    padding: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: visible;
  }
  
  /* Ripple effect on hover */
  .footer-section .social-icons li a::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 42, 109, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
    z-index: 1;
    pointer-events: none;
  }
  
  /* Tooltip for social icons */
  .footer-section .social-icons li a::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: -52px;
    left: 50%;
    transform: translateX(-50%) translateY(-5px);
    background: rgba(0, 0, 0, 0.98);
    color: white;
    padding: 10px 18px;
    border-radius: 10px;
    font-size: 0.85rem;
    font-weight: 600;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease, transform 0.2s ease;
    z-index: 1000;
    border: 1px solid rgba(255, 42, 109, 0.5);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(10px);
    min-width: max-content;
    letter-spacing: 0.3px;
    text-align: center;
  }
  
  .footer-section .social-icons li a:hover {
    background: rgba(255, 42, 109, 0.15);
    border-color: #ff2a6d;
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 20px rgba(255, 42, 109, 0.4);
    padding-left: 0;
  }
  
  .footer-section .social-icons li a:hover::after {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
  
  .footer-section .social-icons li a:hover::before {
    width: 90px;
    height: 90px;
  }
  
  /* Individual icon colors on hover */
  .footer-section .social-icons li:nth-child(1) a:hover {
    border-color: #FF0000;
    box-shadow: 0 8px 20px rgba(255, 0, 0, 0.4);
  }
  
  .footer-section .social-icons li:nth-child(2) a:hover {
    border-color: #E4405F;
    box-shadow: 0 8px 20px rgba(228, 64, 95, 0.4);
  }
  
  .footer-section .social-icons li:nth-child(3) a:hover {
    border-color: #000000;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
  }

  .footer-section .social-icons li:nth-child(3) a:hover {
    border-color: #1877F2;
    box-shadow: 0 8px 20px rgba(24, 119, 242, 0.4);
  }
  
  .footer-section .social-icons li:nth-child(4) a:hover {
    border-color: #5865F2;
    box-shadow: 0 8px 20px rgba(88, 101, 242, 0.4);
  }

  .footer-bottom {
    text-align: center;
    opacity: 0.7;
    margin-top: 60px;
    padding-top: 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    z-index: 5;
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
  }
  
  @media (max-width: 768px) {
    .footer {
      padding: 60px 20px 40px;
    }
    
    .footer-content {
      grid-template-columns: repeat(2, 1fr);
      gap: 30px;
    }
    
    .footer-section h3 {
      font-size: 1.5rem;
    }
  }
  
  @media (max-width: 480px) {
    .footer-content {
      grid-template-columns: 1fr;
      gap: 25px;
    }
    
    .footer-section h3 {
      font-size: 1.3rem;
    }
    
    .footer-section h4 {
      font-size: 1rem;
    }
    
    .tabs-section {
      padding: 20px 15px;
      margin-bottom: 30px;
    }
  }

     

      /* RESPONSIVE */
      @media (max-width: 1920px) {
        .heroContainer {
          width: 60vw;
          margin-top: 2vw;
        }
        .heroImages {
          margin-left: 0px;
        }
      }
      @media (max-width: 1200px) {
        .poster img {
          width: 80%;
        }
        .heroContainer {
          width: 60vw;
        }
      }
      @media (max-width: 992px) {
        .title {
          font-size: 50px;
        }
        .meta {
          font-size: 18px;
        }
        .desc {
          font-size: 15px;
        }
      }
      /* Large Tablet - Scale down navbar */
      @media (max-width: 1100px) {
        nav .navlinks {
          gap: 20px;
        }
        
        nav .navlinks a {
          font-size: 15px;
        }
      }
      
      /* Tablet & Mobile Responsive */
      @media (max-width: 900px) {
        .hero {
          padding: 30px 40px;
          height: auto;
          min-height: 100vh;
        }
        
        nav .logo {
          font-size: 28px;
        }
        
        nav .logo img {
          width: 35px;
        }
        
        nav .navlinks {
          gap: 16px;
        }
        
        nav .navlinks a {
          font-size: 14px;
        }
        
        .left {
          width: 100%;
          margin-top: 60px;
        }
        
        .title {
          font-size: 48px;
        }
        
        .desc {
          width: 100%;
        }
      }
      
      /* Hamburger menu breakpoint */
      @media (max-width: 768px) {
        .hero {
          padding: 20px 5vw;
          min-height: 90vh;
        }
        
        .poster {
          display: none;
        }
        
        nav {
          padding: 8px 0;
        }
        
        nav .logo {
          font-size: 24px;
        }
        
        nav .logo img {
          width: 30px;
        }
        
        /* Hide navlinks by default, show in hamburger */
        nav .navlinks {
          position: absolute;
          top: 60px;
          right: 16px;
          background: rgba(8, 8, 12, 0.98);
          border-radius: 12px;
          padding: 16px 20px;
          display: none;
          flex-direction: column;
          gap: 0;
          min-width: 200px;
          box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);
          z-index: 99999;
          backdrop-filter: blur(15px);
          border: 1px solid rgba(255, 42, 109, 0.2);
        }
        
        nav .navlinks.show {
          display: flex;
          animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        /* Mobile touch feedback */
        nav .navlinks a:active {
          background: rgba(255, 42, 109, 0.1);
        }
        
        #bar:active {
          transform: scale(0.9);
        }
        
        nav .navlinks a {
          font-size: 15px;
          width: 100%;
          text-align: left;
          padding: 12px 8px;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        nav .navlinks a:last-child {
          border-bottom: none;
        }
        
        nav .navlinks a::after {
          display: none;
        }
        
        nav .navlinks a:hover {
          transform: translateX(5px);
          padding-left: 12px;
        }
        
        nav .icons {
          font-size: 20px;
          gap: 16px;
        }
        
        .cart-link {
          font-size: 14px;
          padding: 5px 8px;
        }
        
        /* Show hamburger on small screens */
        #bar {
          display: inline-block;
        }
        
        .left {
          width: 100%;
          text-align: center;
          margin-top: 40px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          min-height: 60vh;
        }
        
        .title {
          font-size: 42px;
        }
        
        .meta {
          font-size: 18px;
        }
        
        .desc {
          font-size: 15px;
          width: 100%;
          max-width: 90%;
          margin-left: auto;
          margin-right: auto;
        }
        
        .btns {
          justify-content: center;
          flex-wrap: wrap;
          margin-top: 25px;
        }
        
        .btn {
          padding: 11px 22px;
          font-size: 16px;
        }
        
        .watch {
          justify-content: center;
          margin-top: 60px;
        }
      }
      
      @media (max-width: 600px) {
        .hero {
          padding: 18px 4vw;
        }
        
        nav .logo {
          font-size: 22px;
        }
        
        nav .navlinks {
          right: 10px;
          min-width: 180px;
          padding: 14px 18px;
        }
        
        nav .navlinks a {
          font-size: 14px;
          padding: 10px 6px;
        }
        
        nav .icons {
          font-size: 18px;
          gap: 12px;
        }
        
        .left {
          margin-top: 20px;
          min-height: 55vh;
        }
        
        .title {
          font-size: 36px;
        }
        
        .meta {
          font-size: 16px;
        }
        
        .desc {
          font-size: 14px;
          line-height: 1.4;
          max-width: 95%;
        }
        
        .btns {
          gap: 12px;
          margin-top: 20px;
        }
        
        .btn {
          padding: 10px 20px;
          font-size: 15px;
        }
        
        /* Carousel movie cards */
        .movie-overlay .add-cart-btn {
          padding: 6px 12px;
          font-size: 11px;
        }
        
        .movie-desc {
          font-size: 12px;
          padding: 0 8px;
        }
        
        .movie-stars {
          font-size: 19px;
        }
      }
      
      @media (max-width: 480px) {
        .hero {
          padding: 15px 3vw;
        }
        
        nav .logo {
          font-size: 20px;
        }
        
        nav .logo img {
          width: 26px;
        }
        
        nav .navlinks {
          right: 8px;
          min-width: 160px;
          padding: 12px 16px;
        }
        
        nav .navlinks a {
          font-size: 13px;
          padding: 9px 5px;
        }
        
        nav .icons {
          font-size: 17px;
          gap: 10px;
        }
        
        .cart-link {
          font-size: 13px;
          padding: 4px 7px;
        }
        
        .cart-link span#cartCount {
          min-width: 18px;
          height: 18px;
          font-size: 11px;
        }
        
        .left {
          min-height: 50vh;
        }
        
        .title {
          font-size: 32px;
        }
        
        .meta {
          font-size: 14px;
        }
        
        .desc {
          font-size: 13px;
          max-width: 98%;
        }
        
        .btns {
          gap: 10px;
        }
        
        .btn {
          padding: 9px 18px;
          font-size: 14px;
        }
        
        /* Carousel movie cards on mobile */
        .movie-overlay .add-cart-btn {
          padding: 5px 10px;
          font-size: 10px;
        }
        
        .movie-desc {
          font-size: 12px;
        }
        
        .movie-stars {
          font-size: 18px;
        }
      }


      /* Background overlay */
.login-modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.585);
  backdrop-filter: blur(3px);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* Login box */
.login-box {
  background: #111;
  padding: 30px;
  border-radius: 10px;
  width: 350px;
  max-width: 90%;
  position: relative;
  text-align: center;
  color: white;
  box-shadow: 0 0 20px rgba(53, 47, 49, 0.3);
}

/* Close button */
.close-login {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 28px;
  cursor: pointer;
}

/* Inputs */
.input-field {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: none;
  border-radius: 6px;
  background: #222;
  color: white;
  font-size: 16px;
}

.input-field:focus {
  outline: 2px solid #ff2a6d;
}

/* Login Button */
.login-btn {
  width: 100%;
  padding: 12px;
  margin-top: 12px;
  background: #ff2a6d;
  border: none;
  font-size: 18px;
  border-radius: 6px;
  cursor: pointer;
  color: white;
  transition: .3s;
}

.login-btn:hover {
  background: #d91f5b;
}

/* Responsive mobile sizing */
@media (max-width: 450px) {
  .login-box {
    padding: 20px;
  }
  .input-field {
    padding: 10px;
    font-size: 14px;
  }
  .login-btn {
    font-size: 16px;
    padding: 10px;
  }
  .login-box h2 {
    font-size: 20px;
  }
}
 

/* Sidebar */
.notifSidebar {
  position: fixed;
  top: 0;
  right: -280px;
  width: 260px;
  height: 100vh;
  background: #191520;
  padding: 15px;
  border-left: 2px solid #49383d;
  transition: right 0.4s ease;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.notifSidebar.show {
  right: 0;
}

/* Header row */
.notifHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.notifTitle {
  font-size: 1.2rem;
  font-weight: 600;
  color: #ffffff;
}

/* Close button */
.notifClose {
  font-size: 1.6rem;
  color: #ff2a6d;
  cursor: pointer;
  padding: 0 6px;
  transition: 0.2s ease;
  user-select: none;
}

.notifClose:hover {
  color: white;
  transform: scale(1.1);
}

/* Notification Item */
.notifItem {
  background: #222;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 8px;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: transform 0.15s ease, border 0.2s ease;
  cursor: pointer;
  animation: fadeIn 0.4s ease forwards;
}

.notifItem:hover {
  transform: scale(1.03);
  /* border: 1px solid #ff2a6d; */
}

/* Images */
.notifItem img {
  width: 42px;
  height: 42px;
  border-radius: 8px;
  object-fit: cover;
}

/* Text */
.notifText {
  font-size: 0.85rem;
  color: #9d9d9d;
  line-height: 1.1;
  font-weight: 400;
}

/* Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateX(15px);
  }
  to {
    opacity: 1;
  }
}

/* Responsive */
@media (max-width: 450px) {
  .notifSidebar {
    width: 210px;
  }

  .notifItem img {
    width: 34px;
    height: 34px;
  }

  .notifText {
    font-size: 0.75rem;
  }

  .notifTitle {
    font-size: 1rem;
  }
}


/* Navbar Search Expandable with Transform Animation */
.icons {
  position: relative;
}

.search-input-wrapper {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%) scale(0.8);
  width: 0;
  opacity: 0;
  overflow: hidden;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 10;
  transform-origin: right center;
}

.icons.search-expanded .search-input-wrapper {
  width: 350px;
  opacity: 1;
  transform: translateY(-50%) scale(1);
  margin-right: 10px;
}

.searchInput {
  width: 100%;
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(255, 42, 109, 0.4);
  background: rgba(14, 12, 22, 0.98);
  color: white;
  outline: none;
  font-size: 0.9rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.searchInput:focus {
  border-color: #ff2a6d;
  box-shadow: 0 4px 16px rgba(255, 42, 109, 0.4);
}

#search {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

.icons.search-expanded #search {
  opacity: 0;
  transform: scale(0) rotate(90deg);
  pointer-events: none;
}

/* Desktop - wider search */
@media (min-width: 1200px) {
  .icons.search-expanded .search-input-wrapper {
    width: 400px;
  }
}

/* Tablet */
@media (max-width: 900px) {
  .icons.search-expanded .search-input-wrapper {
    width: 300px;
  }
}

/* ===== NAVBAR RESPONSIVE STYLES ===== */

/* Large Tablets and Small Desktops */
@media (max-width: 1100px) {
  nav {
    padding: 15px 2vw;
  }
  
  nav .navlinks {
    gap: 20px;
  }
  
  nav .navlinks a {
    font-size: 15px;
  }
  
  nav .icons {
    gap: 12px;
    font-size: 20px;
  }
}

/* Tablets */
@media (max-width: 900px) {
  nav {
    padding: 12px 2vw;
  }
  
  nav .logo {
    font-size: 28px;
  }
  
  nav .logo img {
    width: 35px;
    margin-right: 8px;
  }
  
  nav .navlinks {
    gap: 15px;
  }
  
  nav .navlinks a {
    font-size: 14px;
  }
  
  nav .icons {
    gap: 10px;
    font-size: 18px;
  }
  
  .cart-link {
    padding: 5px 8px;
    font-size: 13px;
  }
  
  .cart-link span#cartCount {
    min-width: 18px;
    height: 18px;
    font-size: 11px;
  }
}

/* Mobile - Full navbar width */
@media (max-width: 768px) {
  nav {
    position: relative;
    padding: 12px 15px;
    flex-wrap: wrap;
  }
  
  nav .logo {
    font-size: 24px;
    flex: 0 0 auto;
  }
  
  nav .logo img {
    width: 32px;
    margin-right: 6px;
  }
  
  nav .navlinks {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: rgba(8, 8, 12, 0.98);
    backdrop-filter: blur(15px);
    border-radius: 12px;
    padding: 16px 20px;
    display: none;
    flex-direction: column;
    gap: 0;
    margin-top: 10px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);
    z-index: 99999;
    border: 1px solid rgba(255, 42, 109, 0.2);
    animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  nav .navlinks.show {
    display: flex;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  nav .navlinks a {
    font-size: 15px;
    width: 100%;
    text-align: left;
    padding: 12px 8px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: white !important;
    z-index: 99999;
    position: relative;
  }
  
  nav .navlinks a:last-child {
    border-bottom: none;
  }
  
  nav .navlinks a::after {
    display: none;
  }
  
  nav .navlinks a:hover {
    transform: translateX(5px);
    padding-left: 12px;
    background: rgba(255, 42, 109, 0.1);
  }
  
  nav .icons {
    gap: 12px;
    font-size: 18px;
    flex: 0 0 auto;
    margin-left: auto;
  }
  
  /* Show hamburger on mobile */
  #bar {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    z-index: 99998;
    position: relative;
    padding: 8px;
    background: rgba(255, 42, 109, 0.2);
    border-radius: 6px;
    border: 1px solid rgba(255, 42, 109, 0.4);
    font-size: 22px;
    width: 40px;
    height: 40px;
    color: white;
    text-decoration: none;
    cursor: pointer;
  }
  
  #bar:hover {
    background: rgba(255, 42, 109, 0.3);
    border-color: rgba(255, 42, 109, 0.6);
  }
  
  .cart-link {
    padding: 5px 8px;
    font-size: 12px;
  }
  
  .cart-link span#cartCount {
    min-width: 16px;
    height: 16px;
    font-size: 10px;
  }
  
  .icons.search-expanded .search-input-wrapper {
    position: fixed;
    left: 5vw;
    right: 5vw;
    top: 15px;
    width: auto;
    transform: scale(1);
    margin-right: 0;
    z-index: 10004;
  }
  
  .icons.search-expanded #search {
    opacity: 0;
    transform: scale(0);
  }
  
  .account-link {
    font-size: 18px;
  }
  
  .profile-picture-nav {
    width: 28px !important;
    height: 28px !important;
  }
}

/* Small Mobile */
@media (max-width: 600px) {
  nav {
    padding: 10px 12px;
  }
  
  nav .logo {
    font-size: 20px;
  }
  
  nav .logo img {
    width: 28px;
    margin-right: 5px;
  }
  
  nav .icons {
    gap: 8px;
    font-size: 16px;
  }
  
  #bar {
    width: 36px;
    height: 36px;
    font-size: 20px;
    padding: 6px;
  }
  
  .cart-link {
    padding: 4px 6px;
    font-size: 11px;
  }
  
  .cart-link span#cartCount {
    min-width: 14px;
    height: 14px;
    font-size: 9px;
  }
  
  .account-link {
    font-size: 16px;
  }
  
  .profile-picture-nav {
    width: 24px !important;
    height: 24px !important;
  }
  
  nav .navlinks {
    padding: 12px 15px;
  }
  
  nav .navlinks a {
    font-size: 14px;
    padding: 10px 8px;
  }
}

/* Around 500px - Keep single line but make elements smaller */
@media (max-width: 500px) {
  nav {
    flex-direction: row;
    align-items: center;
    padding: 8px 10px;
    gap: 8px;
  }
  
  /* Make logo smaller */
  nav .logo {
    font-size: 18px;
    flex: 0 0 auto;
  }
  
  nav .logo img {
    width: 24px;
    margin-right: 4px;
  }
  
  /* Make icons smaller and aligned right */
  nav .icons {
    gap: 6px;
    font-size: 14px;
    flex: 0 0 auto;
    margin-left: auto;
  }
  
  /* Hamburger styling */
  #bar {
    width: 32px;
    height: 32px;
    font-size: 18px;
    padding: 6px;
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
  }
  
  .cart-link {
    padding: 4px 6px;
    font-size: 10px;
  }
  
  .cart-link span#cartCount {
    min-width: 14px;
    height: 14px;
    font-size: 9px;
  }
  
  .account-link {
    font-size: 14px;
  }
  
  .profile-picture-nav {
    width: 22px !important;
    height: 22px !important;
  }
  
  /* Navlinks dropdown positioning with high z-index */
  nav .navlinks {
    top: calc(100% + 5px);
    margin-top: 0;
    z-index: 99999;
  }
  
  /* Search input positioning */
  .icons.search-expanded .search-input-wrapper {
    position: fixed;
    left: 3vw;
    right: 3vw;
    top: 70px;
    width: auto;
    transform: scale(1);
    margin-right: 0;
    z-index: 99999;
  }
}

/* Extra Small Mobile */
@media (max-width: 400px) {
  nav {
    padding: 8px 10px;
  }
  
  nav .logo {
    font-size: 18px;
  }
  
  nav .logo img {
    width: 24px;
    margin-right: 4px;
  }
  
  nav .icons {
    gap: 6px;
    font-size: 14px;
  }
  
  #bar {
    width: 32px;
    height: 32px;
    font-size: 18px;
    padding: 5px;
  }
  
  .cart-link {
    padding: 3px 5px;
    font-size: 10px;
  }
  
  .account-link {
    font-size: 14px;
  }
  
  .icons.search-expanded .search-input-wrapper {
    left: 3vw;
    right: 3vw;
  }
}

/* Prevent navbar overflow */
@media (max-width: 768px) {
  .icons.search-expanded .search-input-wrapper {
    position: fixed;
    left: 5vw;
    right: 5vw;
    top: 15px;
    width: auto;
    transform: scale(1);
    margin-right: 0;
  }
  
  .icons.search-expanded #search {
    opacity: 0;
    transform: scale(0);
  }
  
.searchInput {
    padding: 10px 16px;
  font-size: 0.9rem;
  }
}

@media (max-width: 600px) {
  .icons.search-expanded .search-input-wrapper {
    left: 3vw;
    right: 3vw;
  }
  
  .searchInput {
    padding: 9px 14px;
    font-size: 0.85rem;
  }
}

/* Search result items */
.searchResults {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 4px;
  padding-right: 4px;
  overflow-y: auto;
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: #ff2a6d #1a1525; /* Firefox */
}

#cartItemsList::-webkit-scrollbar {
  width: 6px;
}

#cartItemsList::-webkit-scrollbar-track {
  background: #1a1525;
  border-radius: 10px;
}

#cartItemsList::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff2a6d, #8a2be2);
  border-radius: 10px;
}

#cartItemsList::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff5a8d, #a855f7);
}

/* Chrome / Safari: hide vertical scrollbar but keep scroll behavior */
.searchResults::-webkit-scrollbar {
  display: none;
}

.searchItem {
  background: rgba(14, 11, 22, 0.95);
  border: 1px solid rgba(255, 42, 109, 0.25);
  padding: 7px 10px;
  border-radius: 9px;
  color: white;
  cursor: pointer;
  transition: 0.18s ease;
  font-size: 0.86rem;
  display: flex;
  align-items: center;
}

.searchItem:hover {
  border-color: #ff2a6d;
  transform: translateY(-1px);
  box-shadow: 0 5px 14px rgba(0, 0, 0, 0.55);
}

.searchItem::before {
  content: "";
  width: 4px;
  height: 22px;
  border-radius: 999px;
  background: linear-gradient(180deg, #ff2a6d, #ffb03c);
  margin-right: 8px;
  opacity: 0.85;
}

/* Responsive */
@media (max-width: 450px) {
  .searchSidebar {
    width: 210px;
  }

  .searchHeader h2 {
    font-size: 1rem;
  }

  .searchItem {
    font-size: 0.78rem;
  }
}

/* Cart Modal */
.cartModal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.cartModal.show {
  display: flex;
  opacity: 1;
}

.cartModalDialog {
  background: radial-gradient(circle at top left, #25122d 0%, #0d0b14 55%, #07060a 100%);
  border-radius: 20px;
  width: 90%;
  max-width: 600px;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 42, 109, 0.3);
  border: 1px solid rgba(255, 42, 109, 0.4);
  transform: scale(0.9) translateY(20px);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  overflow: hidden;
}

.cartModal.show .cartModalDialog {
  transform: scale(1) translateY(0);
}

.cartModalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px 28px;
  border-bottom: 1px solid rgba(255, 42, 109, 0.2);
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.1), rgba(138, 43, 226, 0.1));
}

.cartModalHeader h2 {
  font-size: 1.75rem;
  font-weight: 700;
  background: linear-gradient(135deg, #fff, #ff2a6d);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
  letter-spacing: 0.03em;
}

.cartModalClose {
  font-size: 1.8rem;
  color: #ff2a6d;
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s ease;
  background: rgba(255, 42, 109, 0.1);
}

.cartModalClose:hover {
  color: white;
  background: rgba(255, 42, 109, 0.3);
  transform: rotate(90deg) scale(1.1);
}

.cartModalBody {
  flex: 1;
  overflow-y: auto;
  padding: 20px 28px;
  scrollbar-width: thin;
  scrollbar-color: #ff2a6d #1a1525;
}

.cartModalBody::-webkit-scrollbar {
  width: 8px;
}

.cartModalBody::-webkit-scrollbar-track {
  background: #1a1525;
  border-radius: 10px;
}

.cartModalBody::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff2a6d, #8a2be2);
  border-radius: 10px;
}

.cartModalBody::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff5a8d, #a855f7);
}

.cartItemsList {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.cartItem {
  background: radial-gradient(circle at top left, rgba(255, 42, 109, 0.16), rgba(17, 13, 24, 0.95));
  border-radius: 12px;
  padding: 16px;
  color: #f5f5f5;
  border: 1px solid rgba(255, 42, 109, 0.3);
  transition: all 0.3s ease;
  position: relative;
  display: flex;
  gap: 16px;
  align-items: center;
}

.cartItem:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(255, 42, 109, 0.3);
  border-color: rgba(255, 42, 109, 0.7);
}

.cartItemImage {
  width: 80px;
  height: 80px;
  border-radius: 12px;
  object-fit: cover;
  border: 2px solid rgba(255, 42, 109, 0.3);
}

.cartItemContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.cartItemTitle {
  font-size: 1rem;
  font-weight: 600;
  color: #fff;
  margin: 0;
}

.cartItemSubtitle {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.6);
}

.cartItemPrice {
  font-size: 1.1rem;
  font-weight: 700;
  color: #ff2a6d;
  margin-top: 4px;
  background: linear-gradient(135deg, #ff2a6d, #8a2be2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.cartItemRemove {
  position: absolute;
  top: 12px;
  right: 12px;
  background: rgba(255, 42, 109, 0.3);
  border: none;
  color: #fff;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  opacity: 0.8;
}

.cartItemRemove:hover {
  background: #ff2a6d;
  opacity: 1;
  transform: scale(1.15) rotate(90deg);
}

.cartEmpty {
  text-align: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
  font-size: 1.1rem;
}

.cartEmptyIcon {
  font-size: 4rem;
  margin-bottom: 16px;
  opacity: 0.5;
}

.cartModalFooter {
  padding: 24px 28px;
  border-top: 1px solid rgba(255, 42, 109, 0.2);
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.08), rgba(138, 43, 226, 0.08));
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.cartSummarySection {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.cartSummaryRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
}

.cartSummaryLabel {
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
}

.cartSummaryValue {
  color: #fff;
  font-weight: 600;
}

.cartTotalRow {
  padding-top: 12px;
  margin-top: 8px;
  border-top: 2px solid rgba(255, 42, 109, 0.3);
}

.cartTotalValue {
  font-size: 1.3rem;
  font-weight: 700;
  background: linear-gradient(135deg, #ff2a6d, #8a2be2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.cartSummary {
  font-size: 1rem;
  color: #fff;
  font-weight: 600;
}

/* Add-to-cart toast (left slide-in) */
.cart-toast {
  position: fixed;
  left: -400px;
  bottom: 20px;
  width: auto;
  min-width: 200px;
  max-width: 350px;
  padding: 12px 16px;
  background: rgba(12, 12, 16, 0.96);
  border-radius: 8px;
  border: 1px solid rgba(255, 42, 109, 0.7);
  color: #fff;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
  z-index: 12000;
  transition: left 0.35s ease;
}

.cart-toast.show {
  left: 20px;
}

.cart-toast-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ff2a6d;
  box-shadow: 0 0 8px #ff2a6d;
}

.cart-toast.error {
  border-color: #ffb02a;
}

.cart-toast.error .cart-toast-dot {
  background: #ffb02a;
  box-shadow: 0 0 8px #ffb02a;
}


.checkout-btn {
  padding: 12px 28px;
  background: linear-gradient(135deg, #ff2a6d, #8a2be2);
  color: #fff;
  border: none;
  border-radius: 999px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.4);
}

.checkout-btn:disabled {
  opacity: 0.45;
  cursor: default;
  box-shadow: none;
}

.checkout-btn:not(:disabled):hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 42, 109, 0.6);
  background: linear-gradient(135deg, #ff5a8d, #a855f7);
}

/* Time Slot Buttons */
.time-slot {
  padding: 12px;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(255, 42, 109, 0.3);
  border-radius: 8px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
}

.time-slot:hover {
  background: rgba(255, 42, 109, 0.2);
  border-color: var(--pink);
  transform: translateY(-2px);
}

.time-slot.selected {
  background: var(--pink);
  border-color: var(--pink);
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.5);
}

/* Seat Buttons */
.seat {
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.6);
}

.seat:hover {
  background: rgba(255, 42, 109, 0.3);
  border-color: var(--pink);
  transform: scale(1.1);
}

.seat.selected {
  background: var(--pink);
  border-color: var(--pink);
  color: white;
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.5);
}

.seat.occupied {
  background: rgba(128, 128, 128, 0.3);
  border-color: rgba(128, 128, 128, 0.5);
  cursor: not-allowed;
  color: rgba(255, 255, 255, 0.3);
}

.seat.occupied:hover {
  transform: none;
  background: rgba(128, 128, 128, 0.3);
}

/* Checkout modal with animated card */
.checkout-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 11000;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 20px;
}

.checkout-modal.show {
  display: flex;
  opacity: 1;
}

.checkout-dialog {
  background: radial-gradient(circle at top left, #25122d 0%, #0d0b14 55%, #07060a 100%);
  border-radius: 20px;
  width: 90%;
  max-width: 800px;
  max-height: 95vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 42, 109, 0.3);
  border: 1px solid rgba(255, 42, 109, 0.4);
  transform: scale(0.9) translateY(20px);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  overflow: hidden;
  padding: 0;
  position: relative;
}

.checkout-modal.show .checkout-dialog {
  transform: scale(1) translateY(0);
}

.checkout-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px 28px;
  border-bottom: 1px solid rgba(255, 42, 109, 0.2);
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.1), rgba(138, 43, 226, 0.1));
}

.checkout-header h3 {
  font-size: 1.75rem;
  font-weight: 700;
  background: linear-gradient(135deg, #fff, #ff2a6d);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
  letter-spacing: 0.03em;
}

.checkout-close {
  font-size: 1.8rem;
  color: #ff2a6d;
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s ease;
  background: rgba(255, 42, 109, 0.1);
}

.checkout-close:hover {
  color: white;
  background: rgba(255, 42, 109, 0.3);
  transform: rotate(90deg) scale(1.1);
}

.checkout-body {
  flex: 1;
  overflow-y: auto;
  padding: 20px 28px;
  padding-top: 180px;
  scrollbar-width: thin;
  scrollbar-color: #ff2a6d #1a1525;
}

.checkout-body::-webkit-scrollbar {
  width: 8px;
}

.checkout-body::-webkit-scrollbar-track {
  background: #1a1525;
  border-radius: 10px;
}

.checkout-body::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff2a6d, #8a2be2);
  border-radius: 10px;
}

.checkout-body::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff5a8d, #a855f7);
}

@media screen and (max-width: 480px) {
  .checkout-body {
    padding-top: 165px;
  }
}

.checkout-dialog p {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 18px;
  line-height: 1.5;
}

.checkout-footer {
  padding: 24px 28px;
  border-top: 1px solid rgba(255, 42, 109, 0.2);
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.08), rgba(138, 43, 226, 0.08));
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.checkout-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.checkout-cancel {
  padding: 10px 18px;
  background: transparent;
  border-radius: 25px;
  border: 1px solid rgba(255, 42, 109, 0.4);
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 500;
}

.checkout-cancel:hover {
  background: rgba(255, 42, 109, 0.1);
  border-color: rgba(255, 42, 109, 0.6);
}

.checkout-pay {
  padding: 10px 22px;
  background: linear-gradient(135deg, #ff2a6d, #8a2be2);
  border-radius: 25px;
  border: none;
  color: #fff;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.3);
}

.checkout-pay:hover {
  background: linear-gradient(135deg, #e0205f, #7a1be2);
  box-shadow: 0 6px 20px rgba(255, 42, 109, 0.5);
  transform: translateY(-2px);
}

.checkout-pay:active {
  transform: translateY(0);
}

/* Animated Credit Card Styles */
.card-wrapper {
  max-width: 430px;
  height: 270px;
  margin: -130px auto 0;
  position: relative;
  z-index: 2;
  width: 100%;
  perspective: 1000px;
}

@media screen and (max-width: 480px) {
  .card-wrapper {
    max-width: 310px;
    height: 220px;
    margin: -120px auto 0;
  }
}

.card-item {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.8s cubic-bezier(0.71, 0.03, 0.56, 0.85);
}

.card-item.flipped {
  transform: rotateY(180deg);
}

.card-side {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 20px 60px 0 rgba(14, 42, 90, 0.55);
}

.card-side.front {
  transform: rotateY(0deg);
}

.card-side.back {
  transform: rotateY(180deg);
}

.card-cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #1c1d27 0%, #2a1b3d 50%, #1c1d27 100%);
  border-radius: 15px;
}

.card-cover::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.1) 0%, rgba(138, 43, 226, 0.1) 50%, rgba(255, 42, 109, 0.1) 100%);
}

.card-focus {
  position: absolute;
  z-index: 3;
  border-radius: 5px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transition: all 0.35s cubic-bezier(0.71, 0.03, 0.56, 0.85);
  opacity: 0;
  pointer-events: none;
  border: 2px solid rgba(255, 42, 109, 0.65);
}

.card-focus.active {
  opacity: 1;
}

.card-content {
  position: relative;
  z-index: 4;
  height: 100%;
  padding: 25px 15px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  color: #fff;
  font-family: 'Source Code Pro', monospace;
  text-shadow: 7px 6px 10px rgba(14, 42, 90, 0.8);
}

.card-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 40px;
}

.card-chip {
  width: 60px;
  height: 45px;
  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
  border-radius: 8px;
  position: relative;
  overflow: hidden;
}

.card-chip::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80%;
  height: 80%;
  border: 2px solid rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.card-type {
  height: 45px;
  display: flex;
  justify-content: flex-end;
  align-items: center;
}

.card-type-img {
  height: 100%;
  object-fit: contain;
}

.card-number {
  font-size: 27px;
  font-weight: 500;
  margin-bottom: 35px;
  letter-spacing: 2px;
  font-family: 'Source Code Pro', monospace;
  min-height: 40px;
  display: flex;
  align-items: center;
}

.card-number-item {
  display: inline-block;
  width: 16px;
  text-align: center;
}

.card-number-item.active {
  width: 30px;
}

.card-info {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}

.card-holder {
  flex: 1;
}

.card-holder-label {
  font-size: 13px;
  opacity: 0.7;
  margin-bottom: 6px;
  display: block;
}

.card-holder-name {
  font-size: 18px;
  text-transform: uppercase;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
}

.card-date {
  font-size: 18px;
  text-align: right;
}

.card-date-label {
  font-size: 13px;
  opacity: 0.7;
  margin-bottom: 6px;
  display: block;
}

.card-date-value {
  font-size: 18px;
}

.card-band {
  background: rgba(0, 0, 19, 0.8);
  width: 100%;
  height: 50px;
  margin-top: 30px;
  position: relative;
  z-index: 2;
}

.card-cvv {
  padding: 15px;
  text-align: right;
  position: relative;
  z-index: 2;
}

.card-cvv-label {
  font-size: 15px;
  font-weight: 500;
  color: #fff;
  margin-bottom: 5px;
  padding-right: 10px;
}

.card-cvv-band {
  height: 45px;
  background: #fff;
  margin-bottom: 30px;
  text-align: right;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 10px;
  color: #1a3b5d;
  font-size: 18px;
  border-radius: 4px;
  box-shadow: 0px 10px 20px -7px rgba(32, 56, 117, 0.35);
  font-family: 'Source Code Pro', monospace;
  letter-spacing: 3px;
}

.checkout-row {
  display: flex;
  gap: 8px;
}

.checkout-label {
  font-size: 0.85rem;
  margin-bottom: 6px;
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
}

.checkout-input {
  width: 100%;
  padding: 11px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255, 42, 109, 0.3);
  background: rgba(22, 19, 34, 0.8);
  color: #fff;
  font-size: 0.9rem;
  outline: none;
  transition: all 0.3s ease;
  font-family: 'Source Sans Pro', sans-serif;
}

.checkout-input:hover {
  border-color: rgba(255, 42, 109, 0.5);
}

.checkout-input:focus {
  border-color: #ff2a6d;
  box-shadow: 0 0 15px rgba(255, 42, 109, 0.3);
  background: rgba(22, 19, 34, 0.95);
}

.checkout-input::placeholder {
  color: rgba(255, 255, 255, 0.4);
}

.checkout-actions {
  margin-top: 14px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.checkout-cancel {
  padding: 7px 13px;
  background: transparent;
  border-radius: 999px;
  border: 1px solid rgba(255, 42, 109, 0.4);
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.checkout-cancel:hover {
  border-color: rgba(255, 42, 109, 0.6);
  background: rgba(255, 42, 109, 0.1);
}

.checkout-pay {
  padding: 7px 16px;
  background: linear-gradient(135deg, #ff2a6d, #8a2be2);
  border-radius: 999px;
  border: none;
  color: #fff;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.4);
}

.checkout-pay:hover {
  background: linear-gradient(135deg, #ff5a8d, #a855f7);
  box-shadow: 0 6px 20px rgba(255, 42, 109, 0.6);
  transform: translateY(-2px);
}

/* ====== Global Fix ====== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* Prevent page horizontal overflow */
body {
    overflow-x: hidden;
}

/* ====== Carousel Container ====== */
.tahaMV-wrapper {
    width: 90vw; /* always 90% of viewport width */
    max-width: 90vw;
    margin: 0 auto;
    padding: 0;
}

.tahaMV-heading {  
    text-align: left;
    font-size: 28px;
    margin-bottom: 20px;
    color: #fff;
}

/* ====== Carousel Scroll Wrapper ====== */
.tahaMV-carousel-container {
    overflow-x: auto; /* horizontal scroll enabled */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    width: 90vw;
    max-width: 90vw;
    padding-bottom: 20px;
}

/* Hide scrollbar */
.tahaMV-carousel-container::-webkit-scrollbar {
    display: none;
}
.tahaMV-carousel-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* ====== Carousel Row ====== */
.tahaMV-carousel {
    display: flex;
    gap: 20px;
    flex-wrap: nowrap;
}

/* ====== Movie Card ====== */
.tahaMV-card {
    flex: 0 0 auto;
    width: 260px;
    height: 380px;
    background: #111;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: transform 0.3s ease;
}

.tahaMV-card:hover {
    transform: translateY(-5px);
}

.tahaMV-card img {
    width: 100%;
    height: 82%;
    object-fit: cover;
    border-radius: 12px;
}

.tahaMV-title {
    text-align: center;
    font-size: 16px;
    margin: 6px 0 2px 0;
    color: #fff;
}

.tahaMV-stars {
    text-align: center;
    font-size: 16px;
    color: gold;
}

/* ====== Responsive ====== */
@media (max-width: 1100px) {
    .tahaMV-card { width: 220px; height: 340px; }
    .tahaMV-card img { height: 80%; }
}

@media (max-width: 900px) {
    .tahaMV-card { width: 180px; height: 300px; }
    .tahaMV-card img { height: 78%; }
    .tahaMV-heading { font-size: 24px; }
}

@media (max-width: 700px) {
    .tahaMV-card { width: 160px; height: 280px; }
    .tahaMV-card img { height: 75%; }
    .tahaMV-heading { font-size: 20px; }
}

@media (max-width: 500px) {
    .tahaMV-card { width: 140px; height: 250px; }
    .tahaMV-card img { height: 72%; }
    .tahaMV-heading { font-size: 18px; }
}


.movie {
    position: relative;
    flex: 0 0 var(--card-width);
    overflow: hidden;
    border-radius: 16px;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 42, 109, 0.15);
    cursor: pointer;
    transform-style: preserve-3d;
}

.movie::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.4) 20%, rgba(138, 43, 226, 0.4) 50%, rgba(255, 42, 109, 0.4) 80%, transparent);
    border-radius: 16px 16px 0 0;
    opacity: 0;
    transition: opacity 0.5s ease;
    z-index: 1;
}

.movie:hover::before {
    opacity: 1;
}

.movie:hover {
    transform: translateY(-10px) scale(1.03);
    box-shadow: 0 20px 50px rgba(255, 42, 109, 0.4), 0 0 30px rgba(138, 43, 226, 0.3), inset 0 0 60px rgba(255, 42, 109, 0.1);
    border-color: rgba(255, 42, 109, 0.5);
}

.movie img {
    width: 100%;
    height: var(--card-height);
    object-fit: cover;
    border-radius: 16px;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    display: block;
}

.movie:hover img {
    transform: scale(1.1);
}

/* Remove blur on smaller screens for better image visibility */
@media (max-width: 900px) {
    .movie {
        backdrop-filter: none;
        background: rgba(0, 0, 0, 0.1);
    }
    
    .movie-overlay {
        backdrop-filter: none;
    }
}

.movie-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 16px;
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.95) 100%);
    opacity: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(5px);
    z-index: 2;
}

.movie:hover .movie-overlay {
    opacity: 1;
}

.movie-stars {
    font-size: 18px;
    color: gold;
    display: flex;
    gap: 2px;
    justify-content: center;
    font-family: Arial, sans-serif;
}

.movie-stars .star-icon {
    display: inline-block;
    width: 18px;
    height: 18px;
    background: gold;
    clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
}

.movie-stars .star-icon.half {
    background: linear-gradient(90deg, gold 50%, #444 50%);
}

.movie-stars .star-icon.empty {
    background: #444;
}

.movie-desc {
    font-size: 14px;
    color: #fff;
    text-align: center;
    padding: 0 10px;
    line-height: 1.3;
    max-height: 40px;
    overflow: hidden;
}

/* Highlight style when jumping from search */
.search-highlight {
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.18),
                0 0 18px rgba(255, 42, 109, 0.75);
    transform: translateY(-3px);
    transition: box-shadow 0.25s ease, transform 0.25s ease;
}

.watch-btn {
    padding: 9px 16px;
    background: #ff2a6d;
    color: white;
    border-radius: 999px;
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    border: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 6px 18px rgba(255, 42, 109, 0.4);
}

.watch-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.watch-btn i {
    font-size: 16px;
}

.watch-btn:hover {
    transform: translateY(-3px) scale(1.08);
    background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
    box-shadow: 0 10px 30px rgba(255, 42, 109, 0.6);
}

.add-cart-btn {
    padding: 9px 18px;
    background: #ff2a6d;
    color: white;
    border-radius: 999px;
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 6px 18px rgba(255, 42, 109, 0.3);
    position: relative;
    overflow: hidden;
}

.add-cart-btn::before {
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    content: "\f145";
    margin-right: 6px;
    font-size: 14px;
    transition: transform 0.3s ease;
}

.add-cart-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.add-cart-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 30px rgba(255, 42, 109, 0.5);
    background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
}

.add-cart-btn:hover::before {
    transform: scale(1.2) rotate(10deg);
}

.add-cart-btn:hover::after {
    width: 300px;
    height: 300px;
}

.add-cart-btn:active {
    transform: translateY(-1px) scale(1.02);
}

.name{
  color: #ff2a6d;
}



    </style>
  </head>
  <body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="loader"></div>
    </div>
    
    <div class="hero">
      <nav>
        <div class="logo">
          <img class="icon" src="images/tvicon.png" />
          <h3 class="name" >MoviesDen</h3>
        </div>

        <div class="navlinks">
          <a href="index.html">Home</a>
          <a href="movies.html">Movies</a>
          <a href="imax.html">IMAX</a>
          <a href="watch.html">Trailers</a>
        </div>

        <div class="icons" id="iconsContainer">
          <a id="cartIcon" class="cart-link" href="#"><i class="fas fa-shopping-cart"></i> <span id="cartCount">0</span></a>
          <a id="bar" href="#">â˜°</a>
          <div class="search-input-wrapper">
            <input type="text" id="searchInput" class="searchInput" placeholder="Search movies..." />
          </div>
          <a id="search" href="#">ðŸ”ï¸Ž</a>
          <a id="accountLink" href="ubaid.html" class="account-link">
            <i class="fas fa-user" id="accountIcon"></i>
            <img id="profilePicture" src="" alt="Profile" class="profile-picture-nav" style="display: none;">
          </a>
        </div>
      </nav>

      <div class="left">
        <div class="title">Batman Beyond</div>
        <div class="meta">2022 - Action/Thriller - Film</div>
        <div class="stars" style="display: flex; gap: 4px; justify-content: flex-start;">
            <span class="star-icon"></span>
            <span class="star-icon"></span>
            <span class="star-icon"></span>
            <span class="star-icon"></span>
            <span class="star-icon empty"></span>
        </div>
        <div class="desc">
          The Batman is a 2022 American superhero film based on the DC Comics
          character Batman. Directed by Matt Reeves from a screenplay he wrote
          with Peter Craig, it is a reboot of the Batman film franchise.
        </div>

        <div class="btns">
          <button class="btn buy" id="heroBuyTicket"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
          <button class="btn shows" id="heroViewShows">VIEW SHOWS</button>
        </div>

        <!-- <div class="watch">
          <a style="color: white; text-decoration: none" href="#"
            >â–¶ WATCH TRAILER</a
          >
        </div> -->
      </div>
<!-- 
      <div class="poster">
        <img src="images/batposter.png" />
      </div> -->
    </div>

  <!-- RECOMMENDED SECTION WITH AH-TEST CAROUSEL STYLE -->

<!-- Section Title -->

<div class="section-title">
    <span>Recommended For You</span>
    <div class="line"></div>
</div>


<div class="carousel-wrapper">
    <div class="arrow left-arrow" onclick="scrollCarousel('recommendedCarousel', -1)"></div>
    <div class="arrow right-arrow" onclick="scrollCarousel('recommendedCarousel', 1)"></div>

    <!-- Carousel -->
    <div class="carousel" id="recommendedCarousel">

        <div class="movie">
            <img src="images/Squid Game.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Thriller Drama</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Squidgame</div>
        </div>

        <div class="movie">
            <img src="images/cyberpunk.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Sci-Fi Epic</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Cyberpunk: Edgerunner</div>
        </div>

        <div class="movie">
            <img src="images/Suzume (2022) - Makoto Shinkai.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Anime Adventure</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Suzume</div>
        </div>

        <div class="movie">
            <img src="images/parade(1).png">
            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Shonen Anime</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Death Parade</div>
        </div>

        <div class="movie">
            <img src="images/dandadan.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Sci-Fi Epic</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Dandadan: Evil Eye</div>
        </div>

        <div class="movie">
            <img src="images/_The Apothecary Diaries_.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Animation Comedy</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Apothecary Diaries</div>
        </div>

        <div class="movie">
            <img src="images/loki.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Superhero Action</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Loki Series</div>
        </div>

        <div class="movie">
            <img src="images/The Little Mermaid ( 11.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Fantasy Musical</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Mermaid</div>
        </div>

        <div class="movie">
            <img src="images/3 Idiots (2009)_.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Comedy Drama</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">3 Idiots</div>
        </div>

        <div class="movie">
            <img src="images/TOTAL DHAMAAL.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Comedy Adventure</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Dhamaal</div>
        </div>

    </div>
</div>


</div>


      <!-- SECOND ROW TITLE -->
<div class="section-title">
    <span>Popular Movies</span>
    <div class="line"></div>
</div>


<div class="carousel-wrapper">
    <div class="arrow left-arrow" onclick="scrollCarousel('popularCarousel', -1)"></div>
    <div class="arrow right-arrow" onclick="scrollCarousel('popularCarousel', 1)"></div>

    <div class="carousel" id="popularCarousel">

        <div class="movie">
            <img src="images/New Movie Posters for Moana.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Animation Adventure</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Moana</div>
        </div>

        <div class="movie">
            <img src="images/Luffy.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Anime Adventure</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">One Piece</div>
        </div>

        <div class="movie">
            <img src="images/jujutsu.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Anime Supernatural</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Jujutsu kaisen</div>
        </div>

        <div class="movie">
            <img src="images/Solo Leveling Poster.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Anime Action</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Solo leveling </div>
        </div>

        <div class="movie">
            <img src="images/naruto.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Anime Shonen</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Naruto</div>
        </div>

        <div class="movie">
            <img src="images/Bleach Resonance Of Souls.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Anime Supernatural</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

          <div class="movie-title">Bleach</div>
        </div>

        <div class="movie">
            <img src="images/POSTER STOP ONLINE Attack on Titan - Season 2 - TV Show Poster_Print (Key Art_Regular Style) (Size 24_ x 36_).jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Anime Thriller</div>
                <div class="watch-btn"><i class="fas fa-ticket-alt"></i> Buy Ticket</div>
            </div>

            <div class="movie-title">Attack on titan</div>
        </div>

        <div class="movie">
            <img src="images/The Walking Dead Season 3 Poster.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon empty"></span>
                </div>
                <div class="movie-desc">Horror Thriller</div>
                <div class="watch-btn"><i class="fas fa-ticket-alt"></i> Buy Ticket</div>
            </div>

            <div class="movie-title">The walking dead</div>
        </div>

        <div class="movie">
            <img src="images/Golmaal Again (2017) de Rohit Shetty - tt1806913.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Comedy Action</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Golmaal</div>
        </div>

        <div class="movie">
            <img src="images/Watch Phir Hera Pheri Full Movie HD facts Online free.jpg">

            <div class="movie-overlay">
                <div class="movie-stars">
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                    <span class="star-icon"></span>
                </div>
                <div class="movie-desc">Comedy Classic</div>
                <div class="add-cart-btn">Add to cart</div>
            </div>

            <div class="movie-title">Hera Pheri</div>
        </div>

    </div>
</div>
</div>



   
</section>





    <!-- Featured Categories Section -->
    <section class="featured-categories">
    <div class="section-title">
            <span>Explore by Genre</span>
    <div class="line"></div>
</div>

        <div class="genre-grid">
            <div class="genre-card" data-genre="action" style="background: linear-gradient(135deg, rgba(255, 42, 109, 0.2), rgba(0, 0, 0, 0.8)), url('images/rob.jpg'); background-size: cover; background-position: center;">
                <div class="genre-overlay">
                    <h3>ðŸŽ¬ Action</h3>
                    <p>Explosive thrills & adventures</p>
                    <span class="genre-count">120+ Movies</span>
                </div>
        </div>

            <div class="genre-card" data-genre="drama" style="background: linear-gradient(135deg, rgba(138, 43, 226, 0.2), rgba(0, 0, 0, 0.8)), url('images/spidey.jpg'); background-size: cover; background-position: center;">
                <div class="genre-overlay">
                    <h3>Drama</h3>
                    <p>Emotional storytelling</p>
                    <span class="genre-count">95+ Movies</span>
                </div>
        </div>

            <div class="genre-card" data-genre="animation" style="background: linear-gradient(135deg, rgba(138, 43, 226,  0.2), rgba(0, 0, 0, 0.8)), url('images/cyberpunk.jpg'); background-size: cover; background-position: center;">
                <div class="genre-overlay">
                    <h3>Animation</h3>
                    <p>Stunning visual journeys</p>
                    <span class="genre-count">80+ Movies</span>
                </div>
        </div>

            <div class="genre-card" data-genre="sci-fi" style="background: linear-gradient(135deg, rgba(0, 191, 255, 0.2), rgba(0, 0, 0, 0.8)), url('images/dandadan.jpg'); background-size: cover; background-position: center;">
                <div class="genre-overlay">
                    <h3>ðŸš€ Sci-Fi</h3>
                    <p>Future & beyond</p>
                    <span class="genre-count">110+ Movies</span>
                </div>
        </div>

            <div class="genre-card" data-genre="bollywood" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(0, 0, 0, 0.8)), url('images/kai.jpg'); background-size: cover; background-position: center;">
                <div class="genre-overlay">
                    <h3>ðŸŽ¬ Bollywood</h3>
                    <p>Indian cinema magic</p>
                    <span class="genre-count">150+ Movies</span>
                </div>
        </div>
    </div> 
        </div>
    </section>

    <!-- Trending Now Section -->
    <section class="trending-now">
        <div class="section-title">
            <span>ðŸ”¥ Trending Now</span>
            <div class="line"></div>
        </div>
        
        <div class="trending-grid">
            <div class="trending-item trending-large">
                <img src="images/batman.jpg" alt="Batman Beyond">
                <div class="trending-info">
                    <span class="trending-badge">#1 Trending</span>
                    <h3>Batman Beyond</h3>
                    <p>Cyberpunk Gotham awaits</p>
                    <div class="trending-meta">
                        <span>â˜… 4.8</span>
                        <span>Action</span>
                        <span>2h 15m</span>
</div>
                    <button class="add-cart-btn">Buy Ticket</button>
      </div>
      </div>
            
            <div class="trending-item">
                <img src="images/dandadan.jpg" alt="Dandadan">
                <div class="trending-info">
                    <span class="trending-badge trending-hot">#2 Hot</span>
            <h3>Dandadan </h3>
                    <p>Supernatural comedy adventure</p>
                    <div class="trending-meta">
                        <span>â˜… 4.9</span>
                        <span>Comedy</span>
                    </div>
                    <button class="add-cart-btn">Buy Ticket</button>
        </div>
    </div>

            <div class="trending-item">
                <img src="images/spidey.jpg" alt="Spiderverse">
                <div class="trending-info">
                    <span class="trending-badge trending-new">#3 New</span>
                    <h3>Spiderverse Beyond</h3>
                    <p>Miles returns in epic sequel</p>
                    <div class="trending-meta">
                        <span>â˜… 4.7</span>
                        <span>Animation</span>
                    </div>
                    <button class="add-cart-btn">Buy Ticket</button>
        </div>
    </div>

            <div class="trending-item">
                <img src="images/kai.jpg" alt="JJK">
                <div class="trending-info">
                    <span class="trending-badge">#1 Shonen</span>
                    <h3>Jujutsu Kaisen</h3>
                    <p>Shibuya Incident arc</p>
                    <div class="trending-meta">
                        <span>â˜… 4.6</span>
                        <span>Anime</span>
        </div>
                    <button class="add-cart-btn">Buy Ticket</button>
    </div> 
        </div>
    </div>
    </section>

</div>
        </div>
    </div>

      <!-- days -->
      <section style="margin-left: 2vw; margin-right: 2vw;" class="tabs-section">
        <div class="tabs">
            <button class="active">Fri</button>
            <button>Thu</button>
            <button>Sat</button>
            <button>Sun</button>
            <button>Mon</button>
            <button>Tue</button>
            <button>Wed</button>
        </div>

        <ul class="schedule">
            <li><span>11:00</span> 2020 * Inu to Neko<br> <small>Episode 7</small></li>
            <li><span>12:00</span> With a Dog AND a Cat<br> <small>Episode 3</small></li>
            <li><span>13:30</span> Campfire Cooking in Another World<br> <small>Episode 2</small></li>
            <li><span>15:10</span> Bungou Stray Dogs<br> <small>Episode 7</small></li>
            <li><span>17:00</span> Tower of Death Season 2<br> <small>Episode 4</small></li>
            <li><span>20:00</span> Higurashi: Go<br> <small>Episode 2</small></li>
        </ul>
    </section>
      
    </div>

    <footer class="footer" id="footer">

  <!-- Two small balls -->
  <div id="bubble1" class="jelly"></div>
  <div id="bubble2" class="jelly"></div>

  <div class="footer-content">
    <div class="footer-section">
      <h3>MoviesDen</h3>
      <p>Your go-to anime & movie streaming platform.</p>
    </div>

    <div class="footer-section">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="movies.html">Movies</a></li>
        <li><a href="imax.html">IMAX</a></li>
        <li><a href="watch.html">Trailers</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h4>Company</h4>
      <ul>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact (1) (1).html">Contact Us</a></li>
        <li><a href="privacy (1).html">Privacy Policy</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="upcoming.html">Upcoming</a></li>
        <li><a href="awards,faq.html">Awards & FAQ</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h4>Follow Us</h4>
      <ul class="social-icons">
        <li><a href="https://youtube.com" target="_blank" rel="noopener" aria-label="YouTube" data-tooltip="YouTube"><i class="fab fa-youtube"></i></a></li>
        <li><a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram" data-tooltip="Instagram"><i class="fab fa-instagram"></i></a></li>
        <li><a href="https://facebook.com" target="_blank" rel="noopener" aria-label="Facebook" data-tooltip="Facebook"><i class="fab fa-facebook"></i></a></li>
        <li><a href="https://discord.com" target="_blank" rel="noopener" aria-label="Discord" data-tooltip="Discord"><i class="fab fa-discord"></i></a></li>
      </ul>
    </div>
  </div>

  <p class="footer-bottom">Â© 2025 MoviesDen â€” All rights reserved.</p>
</footer>

   


    <!-- Login Modal -->
<div id="loginModal" class="login-modal">
  <div class="login-box">
    <h2>Login</h2>

    <input type="text" placeholder="Username" class="input-field">
    <input type="password" placeholder="Password" class="input-field">

    <button id="loginSubmit" class="login-btn">Login</button>

    <span class="close-login">&times;</span>
  </div>
</div>


<!-- Notification Sidebar -->
<div class="notifSidebar" id="notifSidebar">
  <div class="notifHeader">
    <h2 class="notifTitle">Notifications</h2>
    <div class="notifClose" id="notifClose">Ã—</div>
  </div>

  <div class="notifItem">
    <img src="images/wolverine.jpg" alt="" />
    <div class="notifText">Wolverine S2 Released</div>
  </div>

  <div class="notifItem">
    <img src="images/gumball.jpg" alt="" />
    <div class="notifText">Gumball Movie is out!</div>
  </div>

  <div class="notifItem">
    <img src="images/ken.jpg" alt="" />
    <div class="notifText">Dandadan season 2 episode 8</div>
  </div>

  <div class="notifItem">
    <img src="images/badguys.jpg" alt="" />
    <div class="notifText">Bad guys 2 anniversary special </div>
  </div>

  <div class="notifItem">
    <img src="images/spiderverse.png" alt="" />
    <div class="notifText">Spider-Verse 3 delayed</div>
  </div>
</div>



<!-- Cart Modal -->
<div id="cartModal" class="cartModal">
  <div class="cartModalDialog">
    <div class="cartModalHeader">
      <h2>ðŸ›’ Shopping Cart</h2>
      <div id="cartModalClose" class="cartModalClose">Ã—</div>
  </div>
    <div class="cartModalBody">
      <div id="cartItemsList" class="cartItemsList">
        <div class="cartEmpty">
          <div class="cartEmptyIcon">ðŸ›’</div>
          <p>Your cart is empty.</p>
  </div>
      </div>
    </div>
    <div class="cartModalFooter">
      <div class="cartSummarySection">
        <div class="cartSummaryRow">
          <span class="cartSummaryLabel">Items:</span>
          <span id="cartSummary" class="cartSummary">0 items</span>
        </div>
        <div class="cartSummaryRow">
          <span class="cartSummaryLabel">Subtotal:</span>
          <span id="cartSubtotal" class="cartSummaryValue">$0.00</span>
        </div>
        <div class="cartSummaryRow">
          <span class="cartSummaryLabel">Tax (8%):</span>
          <span id="cartTax" class="cartSummaryValue">$0.00</span>
        </div>
        <div class="cartSummaryRow cartTotalRow">
          <span class="cartSummaryLabel">Total:</span>
          <span id="cartTotal" class="cartTotalValue">$0.00</span>
        </div>
      </div>
      <button id="checkoutBtn" class="checkout-btn" disabled>Checkout</button>
    </div>
  </div>
</div>




<!-- Add-to-cart Toast -->
<div id="cartToast" class="cart-toast">
  <div class="cart-toast-dot"></div>
  <span id="cartToastText">Item added to cart</span>
</div>

<!-- Genre Page Modal -->
<div id="genreModal" class="checkout-modal">
  <div class="genre-modal-dialog">
    <div class="genre-modal-header">
      <h2 id="genreModalTitle">ðŸŽ¬ Action Movies</h2>
      <span id="genreModalClose" class="modal-close-btn">Ã—</span>
    </div>
    <div class="genre-modal-content" id="genreModalContent">
      <!-- Genre movies will be populated here -->
    </div>
  </div>
</div>

<!-- View Shows Modal (IMAX-style) -->
<div id="viewShowsModal" class="view-shows-modal">
  <div class="view-shows-dialog">
    <div class="view-shows-header">
      <h3 id="viewShowsModalTitle">View Shows</h3>
      <span class="close-view-shows">Ã—</span>
    </div>
    <div class="tabs-section">
      <div class="tabs">
        <button class="active tab-btn" data-tab="today">Today</button>
        <button class="tab-btn" data-tab="tomorrow">Tomorrow</button>
        <button class="tab-btn" data-tab="week">This Week</button>
      </div>
      <ul class="schedule" id="showsSchedule">
        <!-- Shows will be populated here -->
      </ul>
    </div>
    <button class="view-shows-close-btn">Close</button>
  </div>
</div>

<!-- Ticket Selection Modal -->
<div id="ticketModal" class="checkout-modal">
  <div class="checkout-dialog">
    <div class="checkout-header">
      <h3>ðŸŽŸï¸ Select Your Ticket</h3>
      <div id="ticketModalClose" class="checkout-close">Ã—</div>
    </div>
    <div class="checkout-body" style="padding: 25px;">
      <div id="ticketMovieInfo" style="margin-bottom: 25px; padding: 15px; background: rgba(255, 42, 109, 0.1); border-radius: 10px; border: 1px solid rgba(255, 42, 109, 0.3);">
        <h3 id="ticketMovieTitle" style="color: var(--pink); margin-bottom: 5px;">Movie Title</h3>
        <p id="ticketMovieYear" style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">Year</p>
      </div>

      <!-- Date Selection -->
      <div style="margin-bottom: 20px;">
        <label style="display: block; margin-bottom: 10px; color: var(--pink); font-weight: 600;">
          <i class="fas fa-calendar-alt"></i> Select Date
        </label>
        <input type="date" id="ticketDate" class="checkout-input" style="width: 100%;" />
      </div>

      <!-- Screen Selection -->
      <div style="margin-bottom: 20px;">
        <label style="display: block; margin-bottom: 10px; color: var(--pink); font-weight: 600;">
          <i class="fas fa-tv"></i> Select Screen
        </label>
        <select id="ticketScreen" class="checkout-input" style="width: 100%;">
          <option value="">Choose a screen...</option>
          <option value="IMAX 1">IMAX 1 - Premium Experience</option>
          <option value="IMAX 2">IMAX 2 - Premium Experience</option>
          <option value="Screen 1">Screen 1 - Standard</option>
          <option value="Screen 2">Screen 2 - Standard</option>
          <option value="Screen 3">Screen 3 - Standard</option>
          <option value="4DX">4DX - Motion Seats</option>
          <option value="Dolby Atmos">Dolby Atmos - Premium Sound</option>
        </select>
      </div>

      <!-- Time Selection -->
      <div style="margin-bottom: 20px;">
        <label style="display: block; margin-bottom: 10px; color: var(--pink); font-weight: 600;">
          <i class="fas fa-clock"></i> Select Time
        </label>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px;">
          <button class="time-slot" data-time="10:00 AM">10:00 AM</button>
          <button class="time-slot" data-time="1:00 PM">1:00 PM</button>
          <button class="time-slot" data-time="4:00 PM">4:00 PM</button>
          <button class="time-slot" data-time="7:00 PM">7:00 PM</button>
          <button class="time-slot" data-time="10:00 PM">10:00 PM</button>
        </div>
      </div>

      <!-- Seat Selection -->
      <div style="margin-bottom: 20px;">
        <label style="display: block; margin-bottom: 10px; color: var(--pink); font-weight: 600;">
          <i class="fas fa-couch"></i> Select Seat
        </label>
        <div id="seatMap" style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 8px; max-width: 400px; margin: 0 auto;">
          <!-- Seats will be generated dynamically -->
        </div>
        <div style="text-align: center; margin-top: 15px; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
          <span style="color: rgba(255, 255, 255, 0.7);">Selected Seat: </span>
          <span id="selectedSeatDisplay" style="color: var(--pink); font-weight: 600;">None</span>
        </div>
      </div>
    </div>
    <div class="checkout-footer">
      <div class="checkout-actions">
        <button id="ticketConfirmBtn" class="add-cart-btn" style="width: 100%; padding: 15px; font-size: 1.1rem; margin: 0;">
          <i class="fas fa-shopping-cart"></i> Add to Cart
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Checkout Modal with Animated Card -->
<div id="checkoutModal" class="checkout-modal">
  <div class="checkout-dialog">
    <div class="checkout-header">
      <h3>ðŸ’³ Checkout</h3>
      <div id="checkoutModalClose" class="checkout-close">Ã—</div>
    </div>
    <div class="checkout-body">
      <!-- Animated Credit Card -->
      <div class="card-wrapper">
        <div class="card-item" id="creditCard">
          <!-- Front of Card -->
          <div class="card-side front">
            <div class="card-cover"></div>
            <div class="card-focus" id="cardFocus"></div>
            <div class="card-content">
              <div class="card-top">
                <div class="card-chip"></div>
                <div class="card-type">
                  <img id="cardTypeImg" src="" alt="" class="card-type-img" style="display: none;">
                </div>
              </div>
              <div class="card-number" id="cardNumberDisplay">
                <span class="card-number-item">####</span>
                <span class="card-number-item">####</span>
                <span class="card-number-item">####</span>
                <span class="card-number-item">####</span>
              </div>
              <div class="card-info">
                <div class="card-holder">
                  <div class="card-holder-label">Card Holder</div>
                  <div class="card-holder-name" id="cardHolderDisplay">Full Name</div>
                </div>
                <div class="card-date">
                  <div class="card-date-label">Expires</div>
                  <div class="card-date-value" id="cardDateDisplay">MM/YY</div>
                </div>
              </div>
            </div>
          </div>
          <!-- Back of Card -->
          <div class="card-side back">
            <div class="card-cover"></div>
            <div class="card-band"></div>
            <div class="card-cvv">
              <div class="card-cvv-label">CVV</div>
              <div class="card-cvv-band" id="cardCvvDisplay">***</div>
              <div class="card-type">
                <img id="cardTypeImgBack" src="" alt="" class="card-type-img" style="display: none;">
              </div>
            </div>
          </div>
        </div>
      </div>

      <p style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 20px; margin-top: 20px;">Enter your details to complete the purchase. (Demo only â€” no real payment.)</p>

      <div style="margin-bottom: 15px;">
        <div class="checkout-label">Card Number</div>
        <input id="checkoutCard" type="text" class="checkout-input" placeholder="1234 5678 9012 3456" maxlength="19" autocomplete="off" />
      </div>

      <div style="margin-bottom: 15px;">
        <div class="checkout-label">Card Holder</div>
        <input id="checkoutName" type="text" class="checkout-input" placeholder="John Doe" autocomplete="off" />
      </div>

      <div class="checkout-row" style="margin-bottom: 15px;">
        <div style="flex:1; margin-right: 10px;">
          <div class="checkout-label">Expiration Date</div>
          <div style="display: flex; gap: 10px;">
            <select id="checkoutMonth" class="checkout-input" style="flex: 1;">
              <option value="">Month</option>
            </select>
            <select id="checkoutYear" class="checkout-input" style="flex: 1;">
              <option value="">Year</option>
            </select>
          </div>
        </div>
        <div style="flex:1;">
          <div class="checkout-label">CVV</div>
          <input id="checkoutCvv" type="text" class="checkout-input" placeholder="123" maxlength="4" autocomplete="off" />
        </div>
      </div>

      <div style="margin-bottom: 15px;">
        <div class="checkout-label">Email</div>
        <input id="checkoutEmail" type="email" class="checkout-input" placeholder="you@example.com" />
      </div>

      <div style="margin-bottom: 20px;">
        <div class="checkout-label">Billing Address</div>
        <input id="checkoutAddress" type="text" class="checkout-input" placeholder="Street, City, Country" />
      </div>
    </div>
    <div class="checkout-footer">
      <div class="checkout-actions">
        <button type="button" id="checkoutCancel" class="checkout-cancel">Cancel</button>
        <button type="button" id="checkoutPay" class="checkout-pay">Pay Now</button>
      </div>
    </div>
  </div>
</div>

    <script>
      // Helper function to convert star emoji strings to HTML icons
      function convertStarsToHTML(starString) {
        const starCount = (starString.match(/â˜…/g) || []).length;
        const emptyCount = (starString.match(/â˜†/g) || []).length;
        let html = '';
        for (let i = 0; i < starCount; i++) {
          html += '<span class="star-icon"></span>';
        }
        for (let i = 0; i < emptyCount; i++) {
          html += '<span class="star-icon empty"></span>';
        }
        return html;
      }

      (function () {
    const movies = [
      {
        title: "Batman Beyond",
        meta: "2022 - Action/Thriller - Film",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "The Batman is a 2022 American superhero film based on the DC Comics character Batman. Directed by Matt Reeves from a screenplay he wrote with Peter Craig, it is a reboot of the Batman film franchise.",
        bg: "images/batman.png",
        poster: "images/batposter.jpg",
        trailer: "#",
        titleColor: "#4a90e2",
        accentColor: "#2c5aa0",
      },


       {
        title: "Bleach: Blood War",
        meta: "2022-2025 - Shonen/Thriller - Tv Series",


        stars: "â˜…â˜…â˜…â˜…â˜…",
        desc: "Its all a part of my plan ~Sosuke Aizen",
      
        bg: "images/ichigo.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#ff4500",
        accentColor: "#dc143c",
      },

     {
        title: "Dandadan: Season 2 ",
        meta: "2025 - Tv Series - 12ep",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "Momo and Okarun set out on their latest adventure, traveling to a hot springs town home rented by Jiji.",
        bg: "images/silk.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#ff2a6d",
        accentColor: "#8a2be2",
      },
     

      {
        title: "Jujutsu Kaisen",
        meta: "2",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "The Shibuya Incident arc continues as the sorcerers face off against a massive onslaught of curses and cursed users.",
        bg: "images/kai.jpg",
        poster: "images/night.jpg",
        trailer: "#",
        titleColor: "#4a90e2",
        accentColor: "#2c5aa0",
      },

      {
        title: "Spiderverse",
        meta: "2024 - Animation/Thriller - Film",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "Miles returns for a multiversal experience as impending doom awaits, Spot returns stronger",
        bg: "images/spidey.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#4169e1",
        accentColor: "#9370db",
      },

        {
        title: "One Piece",
        meta: "1990-Present - Anime/Adventure - Tv Series",
        stars: "â˜…â˜…â˜…â˜…â˜…",
        desc: "Monkey D. Luffy and his crew sail the Grand Line in search of the world's ultimate treasure known as 'One Piece' to become the next Pirate King.",
        bg: "images/piece.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#dc143c",
        accentColor: "#ff1493",
      },
      
      {
        title: "Demon Slayer",
        meta: "2023 - Anime/Fantasy - Tv Series",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "Tanjiro and his friends head to the Swordsmith Village to repair his sword, where they encounter new demons and allies.",
        bg: "images/tanjiro.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#ff8c00",
        accentColor: "#ffd700",
      },

      
    
      {
        title: "Interstellar",
        meta: "2014 - Sci-Fi/Drama - Film",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "A team of explorers travel through a wormhole in space in an attempt to ensure humanity's survival.",
        bg: "images/hole.jpg",

      
        poster: "",
        trailer: "#",
        titleColor: "#d2b48c",
        accentColor: "#cd853f",
      },

      {
        title: "Cyberbat",
        meta: "2022 - Action/Thriller - Film",
        stars: "â˜…â˜…â˜…â˜…â˜…",
        desc: "In a futuristic Gotham City, a young Bruce Wayne becomes Batman Beyond to fight crime alongside an AI version of Alfred.",
        bg: "images/rob.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#ffa500",
        accentColor: "#ff6347",
      },
      {
        title: "Suzume no tojimari ",
        meta: " 2022 - Romance/Animation - Film  ",
        stars: "â˜…â˜…â˜…â˜…â˜†",
        desc: "A modern action adventure road story where a 17-year-old girl named Suzume helps a mysterious young man close doors from the other side that are releasing disasters all over in Japan.",
        bg: "images/5815029.jpg",
        poster: "",
        trailer: "#",
        titleColor: "#da70d6",
        accentColor: "#ba55d3",
      },
      

    ];

    const INTERVAL_MS = 5000;

    function start() {
      const hero = document.querySelector(".hero");
      const titleEl = document.querySelector(".title");
      const metaEl = document.querySelector(".meta");
      const starsEl = document.querySelector(".stars");
      const descEl = document.querySelector(".desc");
      const posterDiv = document.querySelector(".poster");
      const posterImg = document.querySelector(".poster img");
      const watchLink = document.querySelector(".watch a");
      const navLinks = document.querySelectorAll(".navlinks a");
      const logo = document.querySelector(".logo");
      const icons = document.querySelectorAll(".icons a");
      const btns = document.querySelectorAll(".btn");

      function getTextElements() {
        const arr = [];
        if (titleEl) arr.push(titleEl);
        if (metaEl) arr.push(metaEl);
        if (starsEl) arr.push(starsEl);
        if (descEl) arr.push(descEl);
        if (watchLink) arr.push(watchLink);
        navLinks.forEach((n) => arr.push(n));
        if (logo) arr.push(logo);
        icons.forEach((i) => arr.push(i));
        return arr;
      }
      const textElements = getTextElements();

      let idx = 0;
      function applyMovie(m) {
        if (hero && m.bg) hero.style.backgroundImage = `url('${m.bg}')`;
        
        // Use Squid Game color for all titles (#dc143c)
        const titleColor = "#dc143c";
        const accentColor = m.accentColor || "#ff1493";
        
        // Update CSS variables for title underline and accents
        document.documentElement.style.setProperty('--title-accent', titleColor);
        document.documentElement.style.setProperty('--title-accent-secondary', accentColor);
        document.documentElement.style.setProperty('--meta-icon-color', titleColor);
        
        if (titleEl) {
          titleEl.textContent = m.title ?? "";
          // Apply dynamic title color (all use Squid Game red)
          titleEl.style.color = titleColor;
          titleEl.style.textShadow = `0 2px 10px ${titleColor}80`;
        }
        
        if (metaEl) {
          metaEl.textContent = m.meta ?? "";
        }
        
        if (starsEl) {
          const stars = m.stars ?? "";
          starsEl.innerHTML = `<span style="color:gold; display: flex; gap: 4px; justify-content: flex-start;">${stars}</span>`;
        }
       
        if (descEl) {
          descEl.textContent = m.desc ?? "";
          // Update description border color
          descEl.style.borderLeftColor = `${accentColor}66`;
        }
        
        if (watchLink) watchLink.href = m.trailer ?? "#";

        if (posterDiv && posterImg) {
          if (m.title === "Batman Beyond" && m.poster) {
            posterDiv.style.display = "block";
            posterImg.src = m.poster;
            posterImg.alt = m.title;
          } else {
            posterDiv.style.display = "none";
          }
        }

        // Make all text white (except title which has its own color)
        textElements.forEach((el) => {
          if (!el) return;
          if (el !== titleEl && el !== metaEl) {
            el.style.color = "white";
          }
        });

        btns.forEach((b) => (b.style.color = ""));
      }

      
        
      applyMovie(movies[0]);
      setInterval(() => {
        idx = (idx + 1) % movies.length;
        applyMovie(movies[idx]);
      }, INTERVAL_MS);
    }

    if (document.readyState === "loading") {
      // Loading Screen
      window.addEventListener('load', () => {
        const loadingScreen = document.getElementById('loadingScreen');
        setTimeout(() => {
          loadingScreen.classList.add('hidden');
          document.body.classList.add("loaded");
        }, 1000);
      });
      
      // Scroll Reveal Animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, observerOptions);
      
      // Observe elements for scroll animations
      document.addEventListener("DOMContentLoaded", () => {
        document.body.classList.add("loaded");
        start();
        
        // Add scroll reveal to sections
        const animatedElements = document.querySelectorAll('.carousel-wrapper, .featured-categories, .trending-now, .genre-grid, .trending-grid');
        animatedElements.forEach(el => {
          el.style.opacity = '0';
          el.style.transform = 'translateY(50px)';
          el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
          observer.observe(el);
        });
      });
    } else {
      document.body.classList.add("loaded");
      start();
    }
  })();

// Wait for DOM to be ready before accessing elements
document.addEventListener('DOMContentLoaded', function() {
  
// Elements declared once
const loginTrigger = document.getElementById("accountLink");
const modal = document.getElementById("loginModal");
const closeModalBtn = document.querySelector(".close-login");
const submitBtn = document.getElementById("loginSubmit");

/* -------------------------
      OPEN MODAL
-------------------------- */
if (loginTrigger) {
  loginTrigger.addEventListener("click", (e) => {
    e.preventDefault();
    // Redirect to login page instead of modal
    window.location.href = "ubaid.html";
  });
}

/* -------------------------
      CLOSE MODAL FUNCTION
-------------------------- */
function hideModal() {
  if (!modal) return;
  modal.classList.remove("show"); // Fade out

  // Wait for fade-out animation
  setTimeout(() => {
    if (modal && !modal.classList.contains("show")) {
      modal.style.display = "none";
    }
  }, 400); // fade-out duration
}

if (closeModalBtn && modal) {
  closeModalBtn.addEventListener("click", hideModal);

  // Close on outside click
  window.addEventListener("click", (e) => {
    if (e.target === modal) hideModal();
  });
}

/* -------------------------
      LOGIN ANIMATION + LOGIN
-------------------------- */
if (submitBtn && modal) {
  submitBtn.addEventListener("click", () => {
  // Green button animation
  submitBtn.classList.add("success");
  submitBtn.innerHTML = "âœ”";

  // â³ Slow animation time (1.5 seconds)
  setTimeout(() => {
    // Close login modal AFTER success animation
    hideModal();

    // ðŸ‘ Actually log the user in
    //  You can redirect OR run your login logic here
    //  Example redirect:
    //  window.location.href = "dashboard.html";

    console.log("User logged in!");

  }, 1500); // animation duration before closing
  });
}
 

// Open Notifications sidebar (guard if button not present)
const notifBtn = document.getElementById("notif");
const notifSidebarEl = document.getElementById("notifSidebar");
const notifCloseBtn = document.getElementById("notifClose");

if (notifBtn && notifSidebarEl) {
  notifBtn.addEventListener("click", function () {
    notifSidebarEl.classList.add("show");
  });
}

// Close Notifications sidebar
if (notifCloseBtn && notifSidebarEl) {
  notifCloseBtn.addEventListener("click", function () {
    notifSidebarEl.classList.remove("show");
  });
}

// ===== Mobile Nav (Hamburger) =====
const burgerBtn = document.getElementById("bar");
const navLinksEl = document.querySelector(".navlinks");

if (burgerBtn && navLinksEl) {
  burgerBtn.addEventListener("click", (e) => {
    e.preventDefault();
    navLinksEl.classList.toggle("show");
  });

  // Close nav when a link is clicked (on mobile)
  navLinksEl.querySelectorAll("a").forEach((link) => {
    link.addEventListener("click", () => {
      navLinksEl.classList.remove("show");
    });
  });
}


// ===== NAVBAR EXPANDABLE SEARCH =====
const searchBtn = document.getElementById("search");
const iconsContainer = document.getElementById("iconsContainer");
const searchInput = document.getElementById("searchInput");
let searchIndex = [];

function buildSearchIndex() {
  searchIndex = [];

  // Carousels: .movie cards
  document.querySelectorAll(".movie").forEach(card => {
    const titleEl = card.querySelector(".movie-title");
    if (!titleEl) return;
    const name = titleEl.textContent.trim();
    if (!name) return;
    searchIndex.push({ name, element: card });
  });

  // Today's shows cards
  document.querySelectorAll(".card-grid .card").forEach(card => {
    const titleEl = card.querySelector("h3");
    if (!titleEl) return;
    const name = titleEl.textContent.trim();
    if (!name) return;
    searchIndex.push({ name, element: card });
  });

  // Below cards section
  document.querySelectorAll(".cards-section .cardbelow").forEach(card => {
    const titleEl = card.querySelector(".card-content h3");
    if (!titleEl) return;
    const name = titleEl.textContent.trim();
    if (!name) return;
    searchIndex.push({ name, element: card });
  });
}

function highlightAndScrollTo(el) {
  if (!el) return;
  el.scrollIntoView({ behavior: "smooth", block: "center" });
  el.classList.add("search-highlight");
  setTimeout(() => {
    el.classList.remove("search-highlight");
  }, 1400);
}

// Expand search on navbar search icon click
if (searchBtn && iconsContainer) {
  searchBtn.addEventListener("click", (e) => {
    e.preventDefault();
    iconsContainer.classList.toggle("search-expanded");
    buildSearchIndex();
    
    if (iconsContainer.classList.contains("search-expanded")) {
      setTimeout(() => {
        if (searchInput) searchInput.focus();
      }, 200);
    }
  });
}

// Handle search input
    if (searchInput) {
  searchInput.addEventListener("keyup", (e) => {
    if (e.key === "Enter") {
      const query = searchInput.value.toLowerCase().trim();
      if (!query) return;
      
      const match = searchIndex.find(item => 
        item.name.toLowerCase().includes(query)
      );
      
      if (match) {
        iconsContainer.classList.remove("search-expanded");
      searchInput.value = "";
        setTimeout(() => {
          highlightAndScrollTo(match.element);
        }, 300);
      }
    }
  });
  
  // Close on escape
  searchInput.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      iconsContainer.classList.remove("search-expanded");
      searchInput.value = "";
    }
  });
}

// Close search when clicking outside
document.addEventListener("click", (e) => {
  if (iconsContainer && iconsContainer.classList.contains("search-expanded")) {
    if (!iconsContainer.contains(e.target) && e.target.id !== "search") {
      iconsContainer.classList.remove("search-expanded");
      if (searchInput) searchInput.value = "";
    }
  }
});

const footer = document.getElementById("footer");
const CAN_MOVE = window.innerWidth > 700;

function createTrail(x, y) {
  const t = document.createElement("div");
  t.className = "trail";
  t.style.left = x + "px";
  t.style.top = y + "px";
  footer.appendChild(t);

  setTimeout(() => (t.style.opacity = "0"), 20);
  setTimeout(() => t.remove(), 500);
}

const balls = [
  {
    el: document.getElementById("bubble1"),
    x: 60,
    y: 80,
    vx: 2.1,
    vy: 1.9,
  },
  {
    el: document.getElementById("bubble2"),
    x: 180,
    y: 40,
    vx: -2.3,
    vy: 1.7,
  },
];

if (CAN_MOVE) {
  function animate() {
    const fw = footer.clientWidth;
    const fh = footer.clientHeight;

    balls.forEach(b => {
      const size = b.el.clientWidth;

      b.x += b.vx;
      b.y += b.vy;

      // Bounce X
      if (b.x <= 0 || b.x + size >= fw) {
        b.vx *= -1;
        b.el.style.transform = "scaleX(1.18)";
        setTimeout(() => (b.el.style.transform = "scale(1)"), 120);
      }

      // Bounce Y
      if (b.y <= 0 || b.y + size >= fh) {
        b.vy *= -1;
        b.el.style.transform = "scaleY(1.18)";
        setTimeout(() => (b.el.style.transform = "scale(1)"), 120);
      }

      // Move
      b.el.style.left = b.x + "px";
      b.el.style.top = b.y + "px";

      // Trail
      createTrail(b.x + size / 2, b.y + size / 2);
    });

    requestAnimationFrame(animate);
  }

  animate();
}
const tahaMVCarousel = document.getElementById("tahaMV-carousel");
const tahaMVLeft = document.getElementById("tahaMV-leftBtn");
const tahaMVRight = document.getElementById("tahaMV-rightBtn");

if (tahaMVCarousel && tahaMVLeft) {
  tahaMVLeft.addEventListener("click", () => {
      tahaMVCarousel.scrollBy({ left: -300, behavior: "smooth" });
  });
}

if (tahaMVCarousel && tahaMVRight) {
  tahaMVRight.addEventListener("click", () => {
      tahaMVCarousel.scrollBy({ left: 300, behavior: "smooth" });
  });
}


    function updateTopRatedLimit() {
        const items = document.querySelectorAll('.top-item');

        if (window.innerWidth <= 900) {
            items.forEach((item, i) => {
                item.style.display = i < 5 ? "flex" : "none";
            });
        } else {
            items.forEach(item => item.style.display = "flex");
        }
    }

    window.addEventListener("load", updateTopRatedLimit);
    window.addEventListener("resize", updateTopRatedLimit);

function scrollCarousel(id, direction) {
    const carousel = document.getElementById(id);
    const cardWidth = document.querySelector('.movie').offsetWidth + 20;
    carousel.scrollBy({ left: direction * cardWidth, behavior: "smooth" });
}

// ===== MOUSE DRAG FUNCTIONALITY FOR CAROUSELS =====
document.addEventListener('DOMContentLoaded', function() {
    const carousels = document.querySelectorAll('.carousel');
    
    carousels.forEach(carousel => {
        let isDown = false;
        let startX;
        let scrollLeft;
        
        carousel.addEventListener('mousedown', (e) => {
            isDown = true;
            carousel.style.scrollBehavior = 'auto';
            startX = e.pageX - carousel.offsetLeft;
            scrollLeft = carousel.scrollLeft;
        });
        
        carousel.addEventListener('mouseleave', () => {
            isDown = false;
            carousel.style.scrollBehavior = 'smooth';
        });
        
        carousel.addEventListener('mouseup', () => {
            isDown = false;
            carousel.style.scrollBehavior = 'smooth';
        });
        
        carousel.addEventListener('mousemove', (e) => {
            if (!isDown) return;
            e.preventDefault();
            const x = e.pageX - carousel.offsetLeft;
            const walk = (x - startX) * 2; // Scroll speed multiplier
            carousel.scrollLeft = scrollLeft - walk;
        });
        
        // Prevent click events when dragging
        carousel.addEventListener('click', (e) => {
            if (Math.abs(carousel.scrollLeft - scrollLeft) > 5) {
                e.preventDefault();
                e.stopPropagation();
            }
        }, true);
    });
});

// ===== DAY TABS & RANDOM SCHEDULE =====
const scheduleCache = {};

function generateDaySchedule(dayLabel) {
  const scheduleEl = document.querySelector(".schedule");
  if (!scheduleEl) return;

  // Collect all movie / show titles from the page
  const titles = Array.from(document.querySelectorAll(".movie-title, .card-grid .card h3, .cards-section .cardbelow .card-content h3"))
    .map(el => el.textContent.trim())
    .filter(Boolean);

  if (!titles.length) return;

  const items = [];

  // Simple set of time slots
  const baseHours = [11, 13, 15, 17, 20];

  baseHours.forEach((hour) => {
    const mins = Math.random() < 0.5 ? "00" : "30";
    const timeStr = `${hour}:${mins}`;

    const randomTitle = titles[Math.floor(Math.random() * titles.length)];

    items.push({
      time: timeStr,
      title: randomTitle,
      day: dayLabel,
    });
  });

  scheduleCache[dayLabel] = items;
}

function applySchedule(dayLabel) {
  const scheduleEl = document.querySelector(".schedule");
  if (!scheduleEl) return;

  // Generate if not yet cached
  if (!scheduleCache[dayLabel]) {
    generateDaySchedule(dayLabel);
  }

  const items = scheduleCache[dayLabel] || [];
  scheduleEl.innerHTML = "";

  items.forEach((item) => {
    const li = document.createElement("li");
    li.innerHTML = `<span>${item.time}</span> ${item.title}<br><small>Releasing on ${item.day}</small>`;
    scheduleEl.appendChild(li);
  });
}

function setupDayTabs() {
  const tabButtons = document.querySelectorAll(".tabs button");
  if (!tabButtons.length) return;

  function activateTab(btn) {
    tabButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    const label = btn.textContent.trim();
    applySchedule(label);
  }

  tabButtons.forEach(btn => {
    btn.addEventListener("click", () => activateTab(btn));
  });

  const initiallyActive = document.querySelector(".tabs button.active") || tabButtons[0];
  if (initiallyActive) {
    activateTab(initiallyActive);
  }
}

// ===== Shared toast helper =====
function showToast(message, isError = false) {
  const toast = document.getElementById("cartToast");
  const textEl = document.getElementById("cartToastText");
  if (!toast || !textEl) return;

  textEl.textContent = message;

  toast.classList.remove("error");
  if (isError) {
    toast.classList.add("error");
  }

  toast.classList.add("show");
  setTimeout(() => {
    toast.classList.remove("show");
  }, 1800);
}

// ===== Add-to-Cart logic (uses existing .add-cart-btn in overlays) =====
let cartCount = 0;
let cartItems = []; // each item: { title, img, price }

// Load cart from localStorage and filter out tvicon images
function loadCartFromStorage() {
  const stored = localStorage.getItem('cartItems');
  if (stored) {
    try {
      const loaded = JSON.parse(stored);
      if (Array.isArray(loaded)) {
        // Filter and clean up images - remove tvicon
        cartItems = loaded.map(item => {
          let imgSrc = item.img || item.image || item.src || "";
          
          // Clean up image path
          if (imgSrc && imgSrc.includes("/")) {
            const filename = imgSrc.split("/").pop().split("\\").pop();
            if (filename && !filename.toLowerCase().includes("tvicon") && 
                (filename.toLowerCase().includes(".jpg") || 
                 filename.toLowerCase().includes(".png") || 
                 filename.toLowerCase().includes(".jpeg") ||
                 filename.toLowerCase().includes(".webp"))) {
              imgSrc = filename;
            } else {
              imgSrc = "images/dune.jpg";
            }
          }
          
          // Final check - if still tvicon or empty, use default
          if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
            imgSrc = "images/dune.jpg";
          }
          
          return { ...item, img: imgSrc, price: item.price || 9.99 };
        });
        cartCount = cartItems.length;
        updateCartDisplay();
      }
    } catch(e) {
      console.error('Error loading cart from localStorage:', e);
    }
  }
  
  // Also check user-specific cart
  const currentUser = localStorage.getItem('currentUser');
  if (currentUser && cartItems.length === 0) {
    const userCart = localStorage.getItem('cart_' + currentUser);
    if (userCart) {
      try {
        const loaded = JSON.parse(userCart);
        if (Array.isArray(loaded) && loaded.length > 0) {
          cartItems = loaded.map(item => {
            let imgSrc = item.img || item.image || item.src || "";
            
            if (imgSrc && imgSrc.includes("/")) {
              const filename = imgSrc.split("/").pop().split("\\").pop();
              if (filename && !filename.toLowerCase().includes("tvicon") && 
                  (filename.toLowerCase().includes(".jpg") || 
                   filename.toLowerCase().includes(".png") || 
                   filename.toLowerCase().includes(".jpeg") ||
                   filename.toLowerCase().includes(".webp"))) {
                imgSrc = filename;
              } else {
                imgSrc = "images/dune.jpg";
              }
            }
            
            if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
              imgSrc = "images/dune.jpg";
            }
            
            return { ...item, img: imgSrc, price: item.price || 9.99 };
          });
          cartCount = cartItems.length;
          updateCartDisplay();
        }
      } catch(e) {
        console.error('Error loading user cart from localStorage:', e);
      }
    }
  }
}

// Load cart on page load
loadCartFromStorage();

function updateCartDisplay() {
  const cartCountEl = document.getElementById("cartCount");
  if (cartCountEl) {
    cartCountEl.textContent = cartCount;
  }
}

function renderCartModal() {
  const listEl = document.getElementById("cartItemsList");
  if (!listEl) return;

  listEl.innerHTML = "";

  if (cartItems.length === 0) {
    const empty = document.createElement("div");
    empty.className = "cartEmpty";
    empty.innerHTML = '<div class="cartEmptyIcon">ðŸ›’</div><p>Your cart is empty.</p>';
    listEl.appendChild(empty);

    const summaryEl = document.getElementById("cartSummary");
    const checkoutBtn = document.getElementById("checkoutBtn");
    const cartTotalEl = document.getElementById("cartTotal");
    const cartSubtotalEl = document.getElementById("cartSubtotal");
    const cartTaxEl = document.getElementById("cartTax");
    if (summaryEl) summaryEl.textContent = "0 items";
    if (checkoutBtn) checkoutBtn.disabled = true;
    if (cartTotalEl) cartTotalEl.textContent = "$0.00";
    if (cartSubtotalEl) cartSubtotalEl.textContent = "$0.00";
    if (cartTaxEl) cartTaxEl.textContent = "$0.00";
    return;
  }

  cartItems.forEach((itemData, index) => {
    const item = document.createElement("div");
    item.className = "cartItem";

    const img = document.createElement("img");
    // Use cardImage first, then img, then image, then src
    let imgSrc = itemData.cardImage || itemData.img || itemData.image || itemData.src || "";
    
    // Normalize image path
    if (imgSrc) {
      // If it's already a full path with images/, use as is
      if (imgSrc.includes("images/")) {
        // Already has images/ prefix, check if valid
        if (imgSrc.toLowerCase().includes("tvicon")) {
          imgSrc = "";
        }
      } else if (imgSrc.includes("/")) {
        // Has path but no images/ - extract filename
        const filename = imgSrc.split("/").pop().split("\\").pop();
        if (filename && !filename.toLowerCase().includes("tvicon") && 
            (filename.toLowerCase().includes(".jpg") || 
             filename.toLowerCase().includes(".png") || 
             filename.toLowerCase().includes(".jpeg") ||
             filename.toLowerCase().includes(".webp"))) {
          imgSrc = "images/" + filename;
        } else {
          imgSrc = ""; // Reset if invalid
        }
      } else {
        // Just filename, add images/ prefix
        if (!imgSrc.toLowerCase().includes("tvicon") && 
            (imgSrc.toLowerCase().includes(".jpg") || 
             imgSrc.toLowerCase().includes(".png") || 
             imgSrc.toLowerCase().includes(".jpeg") ||
             imgSrc.toLowerCase().includes(".webp"))) {
          imgSrc = "images/" + imgSrc;
        } else {
          imgSrc = ""; // Reset if invalid
        }
      }
    }
    
    // If still no valid image, try to get from title using getMovieImagePath if available
    if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
      if (typeof getMovieImagePath === 'function') {
        imgSrc = getMovieImagePath(itemData.title);
      }
      // If still no image, use default
      if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
        imgSrc = "images/dune.jpg";
      }
    }
    
    img.src = imgSrc;
    img.alt = itemData.title;
    img.className = "cartItemImage";
    
    // Add error handler to fallback to another image if this one fails
    img.onerror = function() {
      if (this.src !== "images/dune.jpg" && this.src !== "images/batman.png") {
        this.src = "images/dune.jpg";
      } else if (this.src === "images/dune.jpg") {
        this.src = "images/batman.png";
      } else {
        this.style.display = "none";
      }
    };

    const content = document.createElement("div");
    content.className = "cartItemContent";

    const titleEl = document.createElement("div");
    titleEl.className = "cartItemTitle";
    titleEl.textContent = itemData.title;

    const subtitleEl = document.createElement("div");
    subtitleEl.className = "cartItemSubtitle";
    subtitleEl.textContent = "Movie Ticket";

    const priceEl = document.createElement("div");
    priceEl.className = "cartItemPrice";
    priceEl.textContent = `$${(itemData.price || 9.99).toFixed(2)}`;

    content.appendChild(titleEl);
    content.appendChild(subtitleEl);
    content.appendChild(priceEl);

    const removeBtn = document.createElement("button");
    removeBtn.className = "cartItemRemove";
    removeBtn.innerHTML = "Ã—";
    removeBtn.title = "Remove from cart";
    removeBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      cartItems.splice(index, 1);
      cartCount = cartItems.length;
      
      // Save to localStorage so other pages (ubaid.html) can sync
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      const currentUser = localStorage.getItem('currentUser');
      if (currentUser) {
        localStorage.setItem('cart_' + currentUser, JSON.stringify(cartItems));
      }
      
      updateCartDisplay();
      renderCartModal();
      showToast("Item removed from cart");
    });

    item.appendChild(img);
    item.appendChild(content);
    item.appendChild(removeBtn);

    listEl.appendChild(item);
  });

  // Calculate totals
  const subtotal = cartItems.reduce((sum, item) => sum + (item.price || 9.99), 0);
  const tax = subtotal * 0.08; // 8% tax
  const total = subtotal + tax;

  const summaryEl = document.getElementById("cartSummary");
  const checkoutBtn = document.getElementById("checkoutBtn");
  const cartTotalEl = document.getElementById("cartTotal");
  const cartSubtotalEl = document.getElementById("cartSubtotal");
  const cartTaxEl = document.getElementById("cartTax");
  
  if (summaryEl) {
    const count = cartItems.length;
    summaryEl.textContent = `${count} item${count === 1 ? "" : "s"}`;
  }
  if (checkoutBtn) checkoutBtn.disabled = cartItems.length === 0;
  if (cartTotalEl) cartTotalEl.textContent = `$${total.toFixed(2)}`;
  if (cartSubtotalEl) cartSubtotalEl.textContent = `$${subtotal.toFixed(2)}`;
  if (cartTaxEl) cartTaxEl.textContent = `$${tax.toFixed(2)}`;
}

// Check if user is logged in
function isLoggedIn() {
  return localStorage.getItem('isLoggedIn') === 'true' && localStorage.getItem('currentUser');
}

// Show login required popup
function showLoginPopup() {
  // Create popup if it doesn't exist
  let popup = document.getElementById('loginPopup');
  if (!popup) {
    popup = document.createElement('div');
    popup.id = 'loginPopup';
    popup.className = 'cartModal';
    
    const popupContent = document.createElement('div');
    popupContent.className = 'cartModalDialog';
    
    popupContent.innerHTML = `
      <div class="cartModalHeader">
        <h2>Login Required</h2>
        <div class="cartModalClose">Ã—</div>
      </div>
      <div class="cartModalBody" style="padding: 30px; text-align: center;">
        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 30px; line-height: 1.6; font-size: 1.1rem;">
          You need to have an account to perform this action. Go to sign in page to register or login.
        </p>
        <div style="display: flex; gap: 15px; justify-content: center;">
          <button id="loginBtn" class="add-cart-btn" style="background: linear-gradient(135deg, #ff2a6d, #ff5a8d); border: none; padding: 12px 25px; font-size: 1rem;">
            <i class="fas fa-sign-in-alt"></i> Login Now
          </button>
          <button id="cancelBtn" class="add-cart-btn" style="background: transparent; border: 2px solid rgba(255, 255, 255, 0.3); padding: 12px 25px; font-size: 1rem;">
            Cancel
          </button>
        </div>
      </div>
    `;
    
    popup.appendChild(popupContent);
    document.body.appendChild(popup);
    
    // Add event listeners
    popup.querySelector('#loginBtn').addEventListener('click', function() {
      window.location.href = 'ubaid.html';
    });
    
    popup.querySelector('#cancelBtn').addEventListener('click', function() {
      popup.classList.remove('show');
    });
    
    // Add hover effects to buttons
    const loginBtn = popup.querySelector('#loginBtn');
    const cancelBtn = popup.querySelector('#cancelBtn');
    
    loginBtn.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-3px) scale(1.05)';
      this.style.boxShadow = '0 10px 30px rgba(255, 42, 109, 0.5)';
      this.style.background = 'linear-gradient(135deg, #ff2a6d, #ff5a8d)';
    });
    
    loginBtn.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0) scale(1)';
      this.style.boxShadow = 'none';
      this.style.background = 'linear-gradient(135deg, #ff2a6d, #ff5a8d)';
    });
    
    cancelBtn.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-3px) scale(1.05)';
      this.style.boxShadow = '0 10px 30px rgba(255, 255, 255, 0.2)';
      this.style.borderColor = 'rgba(255, 255, 255, 0.5)';
    });
    
    cancelBtn.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0) scale(1)';
      this.style.boxShadow = 'none';
      this.style.borderColor = 'rgba(255, 255, 255, 0.3)';
    });
    
    // Close on backdrop click or close button
    popup.addEventListener('click', function(e) {
      if (e.target === popup || e.target.classList.contains('cartModalClose')) {
        popup.classList.remove('show');
      }
    });
  }
  
  // Show popup with animation
  popup.classList.add('show');
}

function setupCart() {
  const buttons = document.querySelectorAll(".add-cart-btn, .watch-btn");

  buttons.forEach((btn) => {
    btn.addEventListener("click", (e) => {
      e.stopPropagation();
      
      // Check if user is logged in
      if (!isLoggedIn()) {
        showLoginPopup();
        return;
      }
      
      const parent =
        btn.closest(".movie") ||
        btn.closest(".card") ||
        btn.closest(".cardbelow") ||
        btn.closest(".trending-item") ||
        btn.closest(".trend-item") ||
        btn.closest(".genre-movie-card");

      // Try multiple selectors to find the title, prioritizing trending-info h3 and genre-movie-info h4
      let titleEl = null;
      if (parent) {
        titleEl = parent.querySelector(".trending-info h3") ||
                 parent.querySelector(".genre-movie-info h4") ||
                 parent.querySelector(".movie-title") ||
                 parent.querySelector("h3") ||
                 parent.querySelector("h4") ||
                 parent.querySelector(".title");
      }
      const title = titleEl ? titleEl.textContent.trim() : "Untitled Movie";

      const imgEl = parent ? parent.querySelector("img") : null;
      let imgSrc = "";
      
      if (imgEl) {
        // Get the image source - prefer src attribute over currentSrc
        imgSrc = imgEl.getAttribute("src") || imgEl.src || "";
        
        // Extract just the filename from the path
        if (imgSrc) {
          // Remove any full URL paths and get just the filename
          const filename = imgSrc.split("/").pop().split("\\").pop();
          
          // Filter out tvicon and use the actual image
          if (filename && !filename.toLowerCase().includes("tvicon") && 
              (filename.toLowerCase().includes(".jpg") || 
               filename.toLowerCase().includes(".png") || 
               filename.toLowerCase().includes(".jpeg") ||
               filename.toLowerCase().includes(".webp"))) {
            imgSrc = filename;
          } else {
            // If it's tvicon or invalid, try to find another image in the parent
            const allImgs = parent ? parent.querySelectorAll("img") : [];
            for (let img of allImgs) {
              const altSrc = img.getAttribute("src") || img.src || "";
              const altFilename = altSrc.split("/").pop().split("\\").pop();
              if (altFilename && !altFilename.toLowerCase().includes("tvicon") &&
                  (altFilename.toLowerCase().includes(".jpg") || 
                   altFilename.toLowerCase().includes(".png") || 
                   altFilename.toLowerCase().includes(".jpeg") ||
                   altFilename.toLowerCase().includes(".webp"))) {
                imgSrc = altFilename;
                break;
              }
            }
            // If still no good image, use a default
            if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
              imgSrc = "images/dune.jpg"; // Default fallback
            }
          }
        } else {
          imgSrc = "images/dune.jpg"; // Default fallback
        }
      } else {
        imgSrc = "images/dune.jpg"; // Default fallback
      }

      // Normalize image path
      if (imgSrc && !imgSrc.includes("images/") && !imgSrc.startsWith("http")) {
        if (!imgSrc.includes("/")) {
          imgSrc = "images/" + imgSrc;
        }
      }
      
      // Store movie info and open ticket selection modal
      currentTicketSelection.title = title;
      currentTicketSelection.img = imgSrc;
      
      // Open ticket modal
      openTicketModal(title, imgSrc);
    });
  });

  const cartIcon = document.getElementById("cartIcon");
  const cartModal = document.getElementById("cartModal");
  const cartModalClose = document.getElementById("cartModalClose");
  const checkoutBtn = document.getElementById("checkoutBtn");
  const checkoutModal = document.getElementById("checkoutModal");
  const checkoutCancel = document.getElementById("checkoutCancel");
  const checkoutPay = document.getElementById("checkoutPay");
  const nameInput = document.getElementById("checkoutName");
  const emailInput = document.getElementById("checkoutEmail");
  const cardInput = document.getElementById("checkoutCard");
  const expiryInput = document.getElementById("checkoutExpiry");
  const cvvInput = document.getElementById("checkoutCvv");
  const addressInput = document.getElementById("checkoutAddress");

  if (cartIcon && cartModal) {
    cartIcon.addEventListener("click", (e) => {
      e.preventDefault();
      cartModal.classList.add("show");
      renderCartModal();
    });
  }

  if (cartModalClose && cartModal) {
    cartModalClose.addEventListener("click", () => {
      cartModal.classList.remove("show");
    });
  }

  // Close cart modal when clicking outside
  if (cartModal) {
    cartModal.addEventListener("click", (e) => {
      if (e.target === cartModal) {
        cartModal.classList.remove("show");
      }
    });
  }

  // Render checkout items function
  function renderCheckoutItems() {
    const checkoutListEl = document.getElementById("checkoutItemsList");
    if (!checkoutListEl) return;

    checkoutListEl.innerHTML = "";

    if (cartItems.length === 0) {
      const empty = document.createElement("div");
      empty.className = "cartEmpty";
      empty.innerHTML = '<div class="cartEmptyIcon">ðŸ›’</div><p>Your cart is empty.</p>';
      checkoutListEl.appendChild(empty);
      return;
    }

    cartItems.forEach((itemData, index) => {
      const item = document.createElement("div");
      item.className = "cartItem";

      const img = document.createElement("img");
      // Use cardImage first, then img, then image, then src
      let imgSrc = itemData.cardImage || itemData.img || itemData.image || itemData.src || "";
      
      // Normalize image path
      if (imgSrc) {
        // If it's already a full path with images/, use as is
        if (imgSrc.includes("images/")) {
          // Already has images/ prefix, check if valid
          if (imgSrc.toLowerCase().includes("tvicon")) {
            imgSrc = "";
          }
        } else if (imgSrc.includes("/")) {
          // Has path but no images/ - extract filename
          const filename = imgSrc.split("/").pop().split("\\").pop();
          if (filename && !filename.toLowerCase().includes("tvicon") && 
              (filename.toLowerCase().includes(".jpg") || 
               filename.toLowerCase().includes(".png") || 
               filename.toLowerCase().includes(".jpeg") ||
               filename.toLowerCase().includes(".webp"))) {
            imgSrc = "images/" + filename;
          } else {
            imgSrc = ""; // Reset if invalid
          }
        } else {
          // Just filename, add images/ prefix
          if (!imgSrc.toLowerCase().includes("tvicon") && 
              (imgSrc.toLowerCase().includes(".jpg") || 
               imgSrc.toLowerCase().includes(".png") || 
               imgSrc.toLowerCase().includes(".jpeg") ||
               imgSrc.toLowerCase().includes(".webp"))) {
            imgSrc = "images/" + imgSrc;
          } else {
            imgSrc = ""; // Reset if invalid
          }
        }
      }
      
      // If still no valid image, try to get from title using getMovieImagePath if available
      if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
        if (typeof getMovieImagePath === 'function') {
          imgSrc = getMovieImagePath(itemData.title);
        }
        // If still no image, use default
        if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
          imgSrc = "images/dune.jpg";
        }
      }
      
      img.src = imgSrc;
      img.alt = itemData.title;
      img.className = "cartItemImage";
      
      // Add error handler to fallback to another image if this one fails
      img.onerror = function() {
        if (this.src !== "images/dune.jpg" && this.src !== "images/batman.png") {
          this.src = "images/dune.jpg";
        } else if (this.src === "images/dune.jpg") {
          this.src = "images/batman.png";
        } else {
          this.style.display = "none";
        }
      };

      const content = document.createElement("div");
      content.className = "cartItemContent";
      const titleEl = document.createElement("div");
      titleEl.className = "cartItemTitle";
      titleEl.textContent = itemData.title;
      const priceEl = document.createElement("div");
      priceEl.className = "cartItemPrice";
      priceEl.textContent = `$${(itemData.price || 9.99).toFixed(2)}`;
      content.appendChild(titleEl);
      content.appendChild(priceEl);

      item.appendChild(img);
      item.appendChild(content);
      checkoutListEl.appendChild(item);
    });

    // Calculate totals
    const subtotal = cartItems.reduce((sum, item) => sum + (item.price || 9.99), 0);
    const tax = subtotal * 0.08;
    const total = subtotal + tax;

    const checkoutSummaryEl = document.getElementById("checkoutSummary");
    const checkoutTotalEl = document.getElementById("checkoutTotal");
    const checkoutSubtotalEl = document.getElementById("checkoutSubtotal");
    const checkoutTaxEl = document.getElementById("checkoutTax");

    if (checkoutSummaryEl) {
      const count = cartItems.length;
      checkoutSummaryEl.textContent = `${count} item${count === 1 ? "" : "s"}`;
    }
    if (checkoutTotalEl) checkoutTotalEl.textContent = `$${total.toFixed(2)}`;
    if (checkoutSubtotalEl) checkoutSubtotalEl.textContent = `$${subtotal.toFixed(2)}`;
    if (checkoutTaxEl) checkoutTaxEl.textContent = `$${tax.toFixed(2)}`;
  }

  // Checkout modal handlers
  if (checkoutBtn && checkoutModal) {
    checkoutBtn.addEventListener("click", () => {
      if (cartItems.length === 0) return;
      renderCheckoutItems();
      checkoutModal.classList.add("show");
    });
  }

  const checkoutModalClose = document.getElementById("checkoutModalClose");
  if (checkoutModalClose && checkoutModal) {
    checkoutModalClose.addEventListener("click", () => {
      checkoutModal.classList.remove("show");
    });
  }

  // Close checkout modal when clicking outside
  if (checkoutModal) {
    checkoutModal.addEventListener("click", (e) => {
      if (e.target === checkoutModal) {
        checkoutModal.classList.remove("show");
      }
    });
  }

  if (checkoutCancel && checkoutModal) {
    checkoutCancel.addEventListener("click", () => {
      checkoutModal.classList.remove("show");
    });
  }

  // Animated Credit Card Functionality
  function initAnimatedCard() {
    const cardItem = document.getElementById('creditCard');
    const cardNumberInput = document.getElementById('checkoutCard');
    const cardNameInput = document.getElementById('checkoutName');
    const cardMonthSelect = document.getElementById('checkoutMonth');
    const cardYearSelect = document.getElementById('checkoutYear');
    const cardCvvInput = document.getElementById('checkoutCvv');
    const cardFocus = document.getElementById('cardFocus');
    const cardNumberDisplay = document.getElementById('cardNumberDisplay');
    const cardHolderDisplay = document.getElementById('cardHolderDisplay');
    const cardDateDisplay = document.getElementById('cardDateDisplay');
    const cardCvvDisplay = document.getElementById('cardCvvDisplay');
    const cardTypeImg = document.getElementById('cardTypeImg');
    const cardTypeImgBack = document.getElementById('cardTypeImgBack');

    if (!cardItem) return;

    // Card type detection
    function getCardType(number) {
      const num = number.replace(/\s/g, '');
      if (/^4/.test(num)) return 'visa';
      if (/^(34|37)/.test(num)) return 'amex';
      if (/^5[1-5]/.test(num)) return 'mastercard';
      if (/^6011/.test(num)) return 'discover';
      if (/^9792/.test(num)) return 'troy';
      return 'visa';
    }

    // Format card number with spaces
    function formatCardNumber(value) {
      const num = value.replace(/\s/g, '');
      const cardType = getCardType(num);
      const isAmex = cardType === 'amex';
      const groups = isAmex ? [4, 6, 5] : [4, 4, 4, 4];
      let formatted = '';
      let index = 0;
      
      for (let i = 0; i < groups.length && index < num.length; i++) {
        formatted += num.substring(index, index + groups[i]);
        index += groups[i];
        if (index < num.length) formatted += ' ';
      }
      
      return formatted;
    }

    // Update card number display
    function updateCardNumber(value) {
      const num = value.replace(/\s/g, '');
      const cardType = getCardType(num);
      const isAmex = cardType === 'amex';
      const mask = isAmex ? '#### ###### #####' : '#### #### #### ####';
      const display = mask.split('').map((char, index) => {
        if (char === ' ') return ' ';
        if (index < num.length) {
          if (index > 4 && index < (isAmex ? 14 : 15)) {
            return '*';
          }
          return num[index];
        }
        return '#';
      }).join('');

      if (cardNumberDisplay) {
        cardNumberDisplay.innerHTML = display.split('').map(char => {
          if (char === ' ') return ' ';
          return `<span class="card-number-item ${char === '#' ? '' : 'active'}">${char}</span>`;
        }).join('');
      }
    }

    // Update card type image
    function updateCardType(number) {
      const cardType = getCardType(number);
      const typeMap = {
        visa: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA0MCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjI1IiByeD0iMyIgZmlsbD0iIzAwMCIvPgo8cGF0aCBkPSJNMTAgMTJIMzBMMjggMTdIMTJMMTAgMTJaIiBmaWxsPSIjMDAzOTdGIi8+Cjwvc3ZnPg==',
        mastercard: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA0MCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjI1IiByeD0iMyIgZmlsbD0iIzAwMCIvPgo8Y2lyY2xlIGN4PSIxNSIgY3k9IjEyLjUiIHI9IjciIGZpbGw9IiNFRjAwMDAiLz4KPGNpcmNsZSBjeD0iMjUiIGN5PSIxMi41IiByPSI3IiBmaWxsPSIjRkY5RTIwIi8+Cjwvc3ZnPg==',
        amex: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA0MCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjI1IiByeD0iMyIgZmlsbD0iIzAwN2NkNiIvPgo8L3N2Zz4=',
        discover: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA0MCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjI1IiByeD0iMyIgZmlsbD0iI0ZGNkEwMCIvPgo8L3N2Zz4='
      };
      
      if (typeMap[cardType] && cardTypeImg && cardTypeImgBack) {
        cardTypeImg.src = typeMap[cardType];
        cardTypeImg.style.display = 'block';
        cardTypeImgBack.src = typeMap[cardType];
        cardTypeImgBack.style.display = 'block';
      }
    }

    // Populate month and year dropdowns
    function populateDateDropdowns() {
      const currentYear = new Date().getFullYear();
      
      if (cardMonthSelect) {
        for (let i = 1; i <= 12; i++) {
          const option = document.createElement('option');
          option.value = i < 10 ? '0' + i : i;
          option.textContent = i < 10 ? '0' + i : i;
          cardMonthSelect.appendChild(option);
        }
      }
      
      if (cardYearSelect) {
        for (let i = 0; i < 12; i++) {
          const option = document.createElement('option');
          const year = currentYear + i;
          option.value = year;
          option.textContent = year;
          cardYearSelect.appendChild(option);
        }
      }
    }

    // Card number input handler
    if (cardNumberInput) {
      cardNumberInput.addEventListener('input', (e) => {
        let value = e.target.value.replace(/\D/g, '');
        const cardType = getCardType(value);
        const maxLength = cardType === 'amex' ? 15 : 16;
        value = value.substring(0, maxLength);
        const formatted = formatCardNumber(value);
        e.target.value = formatted;
        updateCardNumber(value);
        updateCardType(value);
      });

      cardNumberInput.addEventListener('focus', () => {
        if (cardFocus && cardItem) {
          const rect = cardNumberInput.getBoundingClientRect();
          const cardRect = cardItem.getBoundingClientRect();
          cardFocus.style.width = rect.width + 'px';
          cardFocus.style.height = rect.height + 'px';
          cardFocus.style.transform = `translateX(${rect.left - cardRect.left}px) translateY(${rect.top - cardRect.top}px)`;
          cardFocus.classList.add('active');
        }
      });

      cardNumberInput.addEventListener('blur', () => {
        setTimeout(() => {
          if (cardFocus) {
            cardFocus.classList.remove('active');
          }
        }, 300);
      });
    }

    // Card name input handler
    if (cardNameInput) {
      cardNameInput.addEventListener('input', (e) => {
        const value = e.target.value.toUpperCase() || 'Full Name';
        if (cardHolderDisplay) {
          cardHolderDisplay.textContent = value || 'Full Name';
        }
      });

      cardNameInput.addEventListener('focus', () => {
        if (cardFocus && cardItem) {
          const rect = cardNameInput.getBoundingClientRect();
          const cardRect = cardItem.getBoundingClientRect();
          cardFocus.style.width = rect.width + 'px';
          cardFocus.style.height = rect.height + 'px';
          cardFocus.style.transform = `translateX(${rect.left - cardRect.left}px) translateY(${rect.top - cardRect.top}px)`;
          cardFocus.classList.add('active');
        }
      });

      cardNameInput.addEventListener('blur', () => {
        setTimeout(() => {
          if (cardFocus) {
            cardFocus.classList.remove('active');
          }
        }, 300);
      });
    }

    // Date select handlers
    if (cardMonthSelect && cardYearSelect) {
      const updateDateDisplay = () => {
        const month = cardMonthSelect.value || 'MM';
        const year = cardYearSelect.value ? String(cardYearSelect.value).slice(-2) : 'YY';
        if (cardDateDisplay) {
          cardDateDisplay.textContent = `${month}/${year}`;
        }
      };

      cardMonthSelect.addEventListener('change', updateDateDisplay);
      cardYearSelect.addEventListener('change', updateDateDisplay);
    }

    // CVV input handler - flip card
    if (cardCvvInput) {
      cardCvvInput.addEventListener('focus', () => {
        if (cardItem) {
          cardItem.classList.add('flipped');
        }
      });

      cardCvvInput.addEventListener('blur', () => {
        if (cardItem) {
          cardItem.classList.remove('flipped');
        }
      });

      cardCvvInput.addEventListener('input', (e) => {
        let value = e.target.value.replace(/\D/g, '').substring(0, 4);
        e.target.value = value;
        if (cardCvvDisplay) {
          cardCvvDisplay.textContent = '*'.repeat(value.length) || '***';
        }
      });
    }

    // Initialize date dropdowns
    populateDateDropdowns();
  }

  // Initialize animated card when modal opens
  if (checkoutModal) {
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
          if (checkoutModal.classList.contains('show')) {
            initAnimatedCard();
          }
        }
      });
    });
    observer.observe(checkoutModal, { attributes: true });
  }

  if (checkoutPay && checkoutModal) {
    checkoutPay.addEventListener("click", () => {
      // Basic form validation
      const name = nameInput ? nameInput.value.trim() : "";
      const email = emailInput ? emailInput.value.trim() : "";
      const card = cardInput ? cardInput.value.replace(/\s+/g, "").replace(/\D/g, "") : "";
      const monthInput = document.getElementById("checkoutMonth");
      const yearInput = document.getElementById("checkoutYear");
      const month = monthInput ? monthInput.value : "";
      const year = yearInput ? yearInput.value : "";
      const cvv = cvvInput ? cvvInput.value.trim() : "";
      const address = addressInput ? addressInput.value.trim() : "";

      if (!name || !email || !card || !month || !year || !cvv || !address) {
        showToast("Please fill in all fields before paying.", true);
        return;
      }

      const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      if (!emailOk) {
        showToast("Please enter a valid email address.", true);
        return;
      }

      if (card.length < 13 || card.length > 19) {
        showToast("Please enter a valid card number.", true);
        return;
      }

      const cvvOk = /^\d{3,4}$/.test(cvv);
      if (!cvvOk) {
        showToast("Please enter a valid CVV (3â€“4 digits).", true);
        return;
      }

      const expiry = (month.length === 2 ? month : ('0' + month).slice(-2)) + '/' + String(year).slice(-2);
      const expMatch = expiry.match(/^(\d{2})\/(\d{2})$/);
      if (!expMatch) {
        showToast("Please enter expiry in MM/YY format.", true);
        return;
      }
      const expMonth = parseInt(expMatch[1], 10);
      const expYear = 2000 + parseInt(expMatch[2], 10);
      if (expMonth < 1 || expMonth > 12) {
        showToast("Please enter a valid expiry month (01â€“12).", true);
        return;
      }
      const now = new Date();
      const expDate = new Date(expYear, expMonth);
      if (expDate <= now) {
        showToast("This card appears expired. Please use a valid card.", true);
        return;
      }

      // Save bookings before clearing cart
      const currentUser = localStorage.getItem('currentUser');
      if (currentUser && cartItems.length > 0) {
        let bookedItems = [];
        
        // Load existing bookings
        const storedBookings = localStorage.getItem('bookings_' + currentUser);
        if (storedBookings) {
          try {
            bookedItems = JSON.parse(storedBookings);
          } catch(e) {
            console.error('Error parsing bookings:', e);
          }
        }
        
        // Add current cart items to bookings
        const timestamp = new Date().toISOString();
        cartItems.forEach(item => {
          const showDate = new Date();
          showDate.setDate(showDate.getDate() + 7);
          
          const booking = {
            ...item,
            bookingId: 'BK' + Date.now() + Math.floor(Math.random() * 1000),
            bookingDate: timestamp,
            showDate: showDate.toISOString(),
            status: 'Confirmed',
            totalAmount: item.price || 9.99,
            ticketCount: 1,
            image: item.img || item.cardImage || 'images/dune.jpg'
          };
          bookedItems.push(booking);
        });
        
        // Save bookings to localStorage
        localStorage.setItem('bookings_' + currentUser, JSON.stringify(bookedItems));
        console.log('Bookings saved:', bookedItems);
      }
      
      // Clear cart completely
      cartItems = [];
      cartCount = 0;
      updateCartDisplay();
      renderCartModal();
      
      // Clear all cart data from localStorage
      localStorage.setItem('cartItems', JSON.stringify([]));
      if (currentUser) {
        localStorage.setItem('cart_' + currentUser, JSON.stringify([]));
      }
      // Clear any other possible cart keys
      localStorage.removeItem('shoppingCart');
      localStorage.removeItem('userCart');
      
      showToast("Payment successful! Your tickets have been booked.");
      checkoutModal.classList.remove("show");
    });
  }

  updateCartDisplay();
  renderCartModal();
}

// Ticket Modal Variables
let currentTicketSelection = {
  title: '',
  img: '',
  date: '',
  screen: '',
  time: '',
  seat: ''
};

// Ticket Modal Functions
function openTicketModal(title, imgSrc) {
  const ticketModal = document.getElementById('ticketModal');
  const ticketMovieTitle = document.getElementById('ticketMovieTitle');
  const ticketMovieYear = document.getElementById('ticketMovieYear');
  
  if (ticketMovieTitle) ticketMovieTitle.textContent = title;
  if (ticketMovieYear) ticketMovieYear.textContent = new Date().getFullYear();
  
  // Set minimum date to today
  const ticketDate = document.getElementById('ticketDate');
  const today = new Date().toISOString().split('T')[0];
  if (ticketDate) {
    ticketDate.setAttribute('min', today);
    ticketDate.value = today;
    currentTicketSelection.date = today;
  }
  
  // Generate seats
  generateSeats();
  
  // Reset other selections
  currentTicketSelection.screen = '';
  currentTicketSelection.time = '';
  currentTicketSelection.seat = '';
  
  // Clear previous selections visually
  document.querySelectorAll('.time-slot.selected').forEach(s => s.classList.remove('selected'));
  document.querySelectorAll('.seat.selected').forEach(s => s.classList.remove('selected'));
  const screenSelect = document.getElementById('ticketScreen');
  if (screenSelect) screenSelect.value = '';
  const seatDisplay = document.getElementById('selectedSeatDisplay');
  if (seatDisplay) seatDisplay.textContent = 'None';
  
  if (ticketModal) {
    ticketModal.classList.add('show');
  }
}

function generateSeats() {
  const seatMap = document.getElementById('seatMap');
  if (!seatMap) return;
  
  seatMap.innerHTML = '';
  const rows = ['A', 'B', 'C', 'D', 'E'];
  const seatsPerRow = 8;
  
  // Randomly occupy some seats for demo
  const occupiedSeats = new Set();
  for (let i = 0; i < 10; i++) {
    const randomRow = rows[Math.floor(Math.random() * rows.length)];
    const randomSeat = Math.floor(Math.random() * seatsPerRow) + 1;
    occupiedSeats.add(`${randomRow}${randomSeat}`);
  }
  
  rows.forEach(row => {
    for (let i = 1; i <= seatsPerRow; i++) {
      const seatId = `${row}${i}`;
      const seat = document.createElement('button');
      seat.type = 'button';
      seat.className = 'seat';
      seat.textContent = seatId;
      seat.dataset.seat = seatId;
      
      if (occupiedSeats.has(seatId)) {
        seat.classList.add('occupied');
        seat.disabled = true;
      } else {
        seat.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          selectSeat(seatId);
        });
      }
      
      seatMap.appendChild(seat);
    }
  });
}

function selectSeat(seatId) {
  document.querySelectorAll('.seat.selected').forEach(s => s.classList.remove('selected'));
  
  const seatBtn = document.querySelector(`[data-seat="${seatId}"]`);
  if (seatBtn) {
    seatBtn.classList.add('selected');
    currentTicketSelection.seat = seatId;
    
    const display = document.getElementById('selectedSeatDisplay');
    if (display) display.textContent = seatId;
  }
}

function initTicketModal() {
  const ticketModal = document.getElementById('ticketModal');
  const ticketModalClose = document.getElementById('ticketModalClose');
  const ticketConfirmBtn = document.getElementById('ticketConfirmBtn');
  const ticketDate = document.getElementById('ticketDate');
  const ticketScreen = document.getElementById('ticketScreen');
  
  if (ticketModalClose) {
    ticketModalClose.addEventListener('click', () => {
      if (ticketModal) ticketModal.classList.remove('show');
    });
  }
  
  if (ticketModal) {
    ticketModal.addEventListener('click', (e) => {
      if (e.target === ticketModal) {
        ticketModal.classList.remove('show');
      }
    });
  }
  
  document.querySelectorAll('.time-slot').forEach(slot => {
    slot.type = 'button';
    slot.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
      slot.classList.add('selected');
      currentTicketSelection.time = slot.dataset.time;
    });
  });
  
  if (ticketDate) {
    ticketDate.addEventListener('change', (e) => {
      currentTicketSelection.date = e.target.value;
    });
  }
  
  if (ticketScreen) {
    ticketScreen.addEventListener('change', (e) => {
      currentTicketSelection.screen = e.target.value;
    });
  }
  
  if (ticketConfirmBtn) {
    ticketConfirmBtn.addEventListener('click', () => {
      if (!currentTicketSelection.date) {
        showToast('Please select a date', true);
        return;
      }
      if (!currentTicketSelection.screen) {
        showToast('Please select a screen', true);
        return;
      }
      if (!currentTicketSelection.time) {
        showToast('Please select a time', true);
        return;
      }
      if (!currentTicketSelection.seat) {
        showToast('Please select a seat', true);
        return;
      }
      
      cartItems.push({
        title: currentTicketSelection.title,
        img: currentTicketSelection.img,
        cardImage: currentTicketSelection.img,
        price: 9.99,
        date: currentTicketSelection.date,
        screen: currentTicketSelection.screen,
        time: currentTicketSelection.time,
        seat: currentTicketSelection.seat
      });
      
      cartCount = cartItems.length;
      updateCartDisplay();
      renderCartModal();
      showToast(currentTicketSelection.title + " added to cart");
      
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      const currentUser = localStorage.getItem('currentUser');
      if (currentUser) {
        localStorage.setItem('cart_' + currentUser, JSON.stringify(cartItems));
      }
      
      if (ticketModal) ticketModal.classList.remove('show');
    });
  }
}

// Hero Buy Ticket - add current hero movie to cart
const heroBuyTicketBtn = document.getElementById("heroBuyTicket");
if (heroBuyTicketBtn) {
  heroBuyTicketBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    
    // Check if user is logged in
    if (!isLoggedIn()) {
      showLoginPopup();
      return;
    }
    
    // Get title from the hero title element (this is updated by the carousel)
    const heroTitleEl = document.querySelector(".hero .left .title");
    let title = heroTitleEl ? heroTitleEl.textContent.trim() : "";
    
    // If title is empty or not found, try alternative selector
    if (!title) {
      const altTitleEl = document.querySelector(".hero .title");
      title = altTitleEl ? altTitleEl.textContent.trim() : "Batman Beyond";
    }
    
    // Get image from hero background (the carousel sets this)
    let imgSrc = "";
    const hero = document.querySelector(".hero");
    if (hero && hero.style.backgroundImage) {
      const bgMatch = hero.style.backgroundImage.match(/url\(['"]?([^'"]+)['"]?\)/);
      if (bgMatch && bgMatch[1]) {
        imgSrc = bgMatch[1];
      }
    }
    
    // If no image from background, try to get from movies array (used by carousel)
    if (!imgSrc && typeof movies !== 'undefined' && Array.isArray(movies)) {
      const currentMovie = movies.find(m => m.title === title || m.title.trim() === title);
      if (currentMovie && currentMovie.bg) {
        imgSrc = currentMovie.bg;
      }
    }
    
    // Fallback to getMovieImagePath if available
    if (!imgSrc && typeof getMovieImagePath === 'function') {
      imgSrc = getMovieImagePath(title);
    }
    
    // Final fallback
    if (!imgSrc) {
      imgSrc = "images/batman.png";
    }
    
    // Normalize image path - ensure it has images/ prefix
    if (imgSrc && !imgSrc.includes("images/") && !imgSrc.startsWith("http") && !imgSrc.startsWith("//")) {
      if (imgSrc.includes("/")) {
        const filename = imgSrc.split("/").pop().split("\\").pop();
        if (filename && !filename.toLowerCase().includes("tvicon")) {
          imgSrc = "images/" + filename;
        } else {
          imgSrc = "images/batman.png";
        }
      } else {
        imgSrc = "images/" + imgSrc;
      }
    }
    
    // Store movie info and open ticket selection modal
    currentTicketSelection.title = title;
    currentTicketSelection.img = imgSrc;
    
    // Open ticket modal
    openTicketModal(title, imgSrc);
  });
}

// View Shows Modal Functions
let currentMovieShows = {};

// Generate shows data for movies
function generateShowsForMovie(movieTitle) {
  const times = ["10:00", "12:30", "15:00", "17:30", "20:00", "22:30"];
  const screens = ["Screen 1", "Screen 2", "Screen 3", "Screen 4"];
  const movies = ["Batman Beyond", "Superman", "Wonder Woman", "The Flash", "Aquaman", "Justice League", "Iron Man", "Captain America", "Thor", "Hulk"];
  const shows = {
    today: [],
    tomorrow: [],
    week: []
  };
  
  // Generate today's shows
  for (let i = 0; i < 6; i++) {
    shows.today.push({
      time: times[i],
      screen: screens[Math.floor(Math.random() * screens.length)],
      seats: Math.floor(Math.random() * 50) + 10,
      movie: movies[Math.floor(Math.random() * movies.length)]
    });
  }
  
  // Generate tomorrow's shows
  for (let i = 0; i < 5; i++) {
    shows.tomorrow.push({
      time: times[i + 1],
      screen: screens[Math.floor(Math.random() * screens.length)],
      seats: Math.floor(Math.random() * 50) + 10,
      movie: movies[Math.floor(Math.random() * movies.length)]
    });
  }
  
  // Generate this week's shows
  for (let i = 0; i < 8; i++) {
    shows.week.push({
      time: times[Math.floor(Math.random() * times.length)],
      screen: screens[Math.floor(Math.random() * screens.length)],
      seats: Math.floor(Math.random() * 50) + 10,
      movie: movies[Math.floor(Math.random() * movies.length)]
    });
  }
  
  return shows;
}

// Open View Shows Modal
function openViewShowsModal(movieTitle) {
  const modal = document.getElementById('viewShowsModal');
  const modalTitle = document.getElementById('viewShowsModalTitle');
  const scheduleList = document.getElementById('showsSchedule');
  
  if (!modal || !modalTitle || !scheduleList) {
    console.error('View shows modal elements not found');
    return;
  }
  
  modalTitle.textContent = `View Shows`;
  currentMovieShows = generateShowsForMovie(movieTitle);
  
  // Set active tab to today
  document.querySelectorAll('#viewShowsModal .tab-btn').forEach(btn => {
    btn.classList.remove('active');
    if (btn.dataset.tab === 'today') {
      btn.classList.add('active');
    }
  });
  
  // Display today's shows
  displayShows('today');
  
  modal.classList.add('show');

  // Tab switching
  const tabButtons = modal.querySelectorAll('.tab-btn');
  tabButtons.forEach(btn => {
    btn.addEventListener('click', function() {
      tabButtons.forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      displayShows(this.dataset.tab);
    });
  });
}

// Display shows for selected tab
function displayShows(tab) {
  const scheduleList = document.getElementById('showsSchedule');
  if (!scheduleList) return;
  
  const shows = currentMovieShows[tab] || [];
  scheduleList.innerHTML = '';
  
  if (shows.length === 0) {
    scheduleList.innerHTML = '<li style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.6);">No shows available for this period.</li>';
  } else {
    shows.forEach(show => {
      const li = document.createElement('li');
      li.innerHTML = `
        <span>${show.time}</span> ${show.movie}<br>
        <small>${show.screen} - Available seats: ${show.seats}</small>
      `;
      li.addEventListener('click', () => {
        // Optionally show a message when clicking a show
        if (typeof showToast === 'function') {
          showToast(`Selected ${show.time} show at ${show.screen}`);
        }
      });
      scheduleList.appendChild(li);
    });
  }
}

// Close View Shows Modal
function closeViewShowsModal() {
  const modal = document.getElementById('viewShowsModal');
  if (modal) {
    modal.classList.remove('show');
  }
}

// View Shows Modal Event Handlers
const heroViewShowsBtn = document.getElementById("heroViewShows");
const viewShowsModal = document.getElementById("viewShowsModal");
const viewShowsClose = document.querySelector('.close-view-shows');

if (heroViewShowsBtn && viewShowsModal) {
  heroViewShowsBtn.addEventListener("click", () => {
    // Get current hero movie title
    const heroTitle = document.querySelector(".hero .title");
    const movieTitle = heroTitle ? heroTitle.textContent.trim() : "Batman Beyond";
    openViewShowsModal(movieTitle);
  });
}

if (viewShowsClose && viewShowsModal) {
  viewShowsClose.addEventListener("click", closeViewShowsModal);
}

const viewShowsCloseBtn = document.querySelector('.view-shows-close-btn');
if (viewShowsCloseBtn) {
  viewShowsCloseBtn.addEventListener("click", closeViewShowsModal);
}

if (viewShowsModal) {
  viewShowsModal.addEventListener("click", (e) => {
    if (e.target === viewShowsModal) {
      closeViewShowsModal();
    }
  });
}

// Tab switching for view shows modal
document.addEventListener('DOMContentLoaded', function() {
  // Close modal on ESC key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      closeViewShowsModal();
    }
  });
});

if (document.readyState === "loading") {
  document.addEventListener("DOMContentLoaded", () => {
    initTicketModal();
    setupCart();
  });
} else {
  initTicketModal();
  setupCart();
}

// Init day tabs after everything else
if (document.readyState === "loading") {
  document.addEventListener("DOMContentLoaded", setupDayTabs);
} else {
  setupDayTabs();
}

    // Genre Modal Functionality
    const genreModal = document.getElementById('genreModal');
    const genreModalTitle = document.getElementById('genreModalTitle');
    const genreModalContent = document.getElementById('genreModalContent');
    const genreModalClose = document.getElementById('genreModalClose');
    
    if (!genreModal || !genreModalTitle || !genreModalContent) {
        console.warn('Genre modal elements not found');
    }
    
    // Genre movie data
    const genreMovies = {
        action: [
            { title: 'Batman Beyond', image: 'images/batman.png', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Dune Prophecy', image: 'images/dune.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Squid Game', image: 'images/Squid Game.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'One Piece', image: 'images/Luffy.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Dandadan', image: 'images/dandadan.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Jujutsu Kaisen', image: 'images/jjk.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Solo Leveling', image: 'images/Solo Leveling Poster.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'The Marvels', image: 'images/supe.png', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Deadpool 3', image: 'images/Shawn Levy is set to direct DEADPOOL 3_.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' }
        ],
        drama: [
            { title: 'Dandadan', image: 'images/dandadan.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Demon Slayer', image: 'images/tanjiro.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Jujutsu Kaisen', image: 'images/kai.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'My Hero Academia', image: 'images/My Hero Academia_ Season 6 - Key Art Wall Poster, 22_375_ x 34_ - Walmart.ca', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Loki Series', image: 'images/loki.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'The Last of Us', image: 'images/The last of us Font - forum.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' }
        ],
        animation: [
            { title: 'Spiderverse Beyond', image: 'images/spiderverse.png', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'The Bad Guys', image: 'images/badguys.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Moana', image: 'images/New Movie Posters for Moana.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Encanto', image: 'images/Encanto.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Turning Red', image: 'images/Turning red movie.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Elemental', image: 'images/Disney Pixar Elemental Movie Review.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' }
        ],
        'sci-fi': [
            { title: 'Dune Prophecy', image: 'images/dune.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Batman Beyond', image: 'images/batman.png', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Interstellar', image: 'images/interstellar.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Oppenheimer', image: 'images/oppenheimer.png', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'The Matrix', image: 'images/space.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Avatar 2', image: 'images/Avatar the way of water Movie Poster Design.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' }
        ],
        bollywood: [
            { title: '3 Idiots', image: 'images/3 Idiots (2009)_.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Dhamaal', image: 'images/TOTAL DHAMAAL.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Hera Pheri', image: 'images/Watch Phir Hera Pheri Full Movie HD facts Online free.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Welcome', image: 'images/Welcome Back Cast is back with the addition of John Abraham!.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Golmaal', image: 'images/Golmaal Again (2017) de Rohit Shetty - tt1806913.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Chup Chup Ke', image: 'images/Chup chup ke 2006 shahid Kapoor Kareena.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Hungama', image: 'images/Hungama (2003).jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Sultan', image: 'images/New HD Movie Download_ Sultan Full Movie Download.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'Pathaan', image: 'images/Pathaan.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Dangal', image: 'images/Dangal (2016) - Nitesh Tiwari.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' },
            { title: 'PK', image: 'images/PK _ PEEKAY _ 2014.jpg', rating: 'â˜…â˜…â˜…â˜…â˜†' },
            { title: 'Zindagi Na Milegi Dobara', image: 'images/Zindagi na milegi dobara (2011) - Zoya Akhtar.jpg', rating: 'â˜…â˜…â˜…â˜…â˜…' }
        ]
    };
    
    // Genre emoji and title mapping
    const genreInfo = {
        action: { emoji: '', name: 'Action Movies' },
        drama: { emoji: '', name: 'Drama Movies' },
        animation: { emoji: '', name: 'Animation Movies' },
        'sci-fi': { emoji: '', name: 'Sci-Fi Movies' },
        bollywood: { emoji: 'ðŸŽ¬', name: 'Bollywood Movies' }
    };
    
    // Open genre modal
    if (genreModal && genreModalTitle && genreModalContent) {
        document.querySelectorAll('.genre-card').forEach(card => {
            card.addEventListener('click', function() {
                const genre = this.getAttribute('data-genre');
                if (!genre || !genreInfo[genre]) return;
                
                const info = genreInfo[genre];
                const movies = genreMovies[genre] || [];
                
                // Set title
                genreModalTitle.textContent = `${info.emoji} ${info.name}`;
                
                // Generate movie grid
                const moviesHTML = `
                    <div class="genre-movies-grid">
                        ${movies.map(movie => `
                            <div class="genre-movie-card">
                                <img src="${movie.image}" alt="${movie.title}">
                                <div class="genre-movie-info">
                                    <h4>${movie.title}</h4>
                                    <div class="genre-movie-rating">${convertStarsToHTML(movie.rating)}</div>
                                    <button class="add-cart-btn">Buy Ticket</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                genreModalContent.innerHTML = moviesHTML;
                genreModal.classList.add('show');
                
                // Re-setup cart buttons for new content
                setupCart();
            });
        });
    }
    
    // Close genre modal
    if (genreModalClose) {
        genreModalClose.addEventListener('click', () => {
            genreModal.classList.remove('show');
        });
    }
    
    if (genreModal) {
        genreModal.addEventListener('click', (e) => {
            if (e.target === genreModal) {
                genreModal.classList.remove('show');
            }
        });
    }

    // Sliding navbar background effect
    const navlinks = document.querySelector('.navlinks');
    if (navlinks) {
        const navItems = navlinks.querySelectorAll('a');
        let slidingBg = navlinks.querySelector('.sliding-bg');
        
        // Create sliding background element if it doesn't exist
        if (!slidingBg) {
            slidingBg = document.createElement('div');
            slidingBg.className = 'sliding-bg';
            navlinks.appendChild(slidingBg);
        }
        
        navItems.forEach((item, index) => {
            item.addEventListener('mouseenter', function() {
                const itemRect = this.getBoundingClientRect();
                const navRect = navlinks.getBoundingClientRect();
                const left = itemRect.left - navRect.left;
                const width = itemRect.width;
                
                slidingBg.style.left = left + 'px';
                slidingBg.style.width = width + 'px';
                slidingBg.style.opacity = '1';
            });
            
            item.addEventListener('mouseleave', function() {
                // Don't hide immediately, let it stay for smooth transition
                setTimeout(() => {
                    if (!navlinks.matches(':hover')) {
                        slidingBg.style.opacity = '0';
                    }
                }, 100);
            });
        });
        
        // Hide when leaving navlinks container
        navlinks.addEventListener('mouseleave', function() {
            slidingBg.style.opacity = '0';
        });
    }

}); // End of DOMContentLoaded

// Offline detection - redirect to error page
window.addEventListener('offline', () => {
  window.location.href = 'error.html';
});

// Check connection on load
if (!navigator.onLine) {
  window.location.href = 'error.html';
}

    </script>
  </body>
</html>



