<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IMAX Experience - Movies Den</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @font-face {
      font-family: soft;
      src: url("LeagueSpartan-Bold.otf");
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    * {
      font-family: soft;
    }
    body {
      background: linear-gradient(135deg, #000000 0%, #0a0a0f 50%, #000000 100%);
      color: white;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }

    html {
      scroll-behavior: smooth;
      scroll-snap-type: y mandatory;
    }

    .movie-hero {
      scroll-snap-align: start;
      scroll-snap-stop: always;
    }

    /* Custom Scrollbar - Same as index.html */
    html {
      scrollbar-width: auto;
      scrollbar-color: #ff2a6d #1a1525;
    }

    html::-webkit-scrollbar {
      width: 16px;
    }

    html::-webkit-scrollbar-track {
      background: #1a1525;
      border-radius: 10px;
    }

    html::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff2a6d, #8a2be2);
      border-radius: 10px;
      transition: all 0.3s ease;
      border: 2px solid #1a1525;
    }

    html::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #ff5a8d, #a855f7);
      box-shadow: 0 0 10px rgba(255, 42, 109, 0.5);
    }

    /* NAV */
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 3vw;
      position: fixed;
      top: 20px;
      left: 0;
      right: 0;
      backdrop-filter: none;
      background: rgba(0, 0, 0, 0.15);
      border-radius: 15px;
      margin: 0 20px;
      z-index: 1000;
      width: calc(100vw - 40px);
      max-width: calc(100vw - 40px);
      box-sizing: border-box;
      flex-wrap: nowrap;
      gap: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    nav .logo {
      display: flex;
      align-items: center;
      font-size: 32px;
      font-weight: 700;
      z-index: 1501;
      transition: all 0.3s ease;
      flex-shrink: 0;
      min-width: 0;
      margin-right: auto;
      color: white;
      text-decoration: none;
    }

    nav .logo:hover {
      transform: scale(1.05);
    }

    nav .logo img {
      width: 40px;
      margin-right: 10px;
      filter: drop-shadow(0 0 10px rgba(255, 42, 109, 0.5));
      transition: transform 0.3s ease;
      flex-shrink: 0;
    }

    nav .logo:hover img {
      transform: rotate(360deg);
    }

    nav .logo .name {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: #ff2a6d;
    }

    nav .navlinks {
      position: relative;
      display: flex;
      gap: 5px;
      list-style: none;
      align-items: center;
      flex: 0 1 auto;
      justify-content: center;
      min-width: 0;
      margin: 0 auto;
    }

    /* Sliding background element */
    nav .navlinks .sliding-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 100%;
      background: #ff2a6d;
      border: 1.5px solid #ff2a6d;
      border-radius: 999px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 0;
      opacity: 0;
      pointer-events: none;
    }

    nav .navlinks a {
      text-decoration: none;
      color: white;
      font-size: 16px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      white-space: nowrap;
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 18px;
      border-radius: 999px;
      background: transparent;
      border: 1.5px solid transparent;
      font-weight: 500;
      overflow: visible;
      z-index: 1;
    }

    nav .navlinks a::after {
      display: none; /* Remove underline effect */
    }

    nav .navlinks a::before {
      display: none;
    }

    nav .navlinks a:hover {
      color: white;
      font-weight: 600;
      transform: translateY(-3px) scale(1.05);
      z-index: 2;
      border-color: transparent;
    }

    nav .navlinks a:active {
      transform: translateY(-1px) scale(1.02);
    }

    /* Remove default active state from home button */
    nav .navlinks a.home-btn {
      background: transparent;
      border-color: transparent;
      color: white;
      font-weight: 500;
      box-shadow: none;
    }

    nav .icons {
      display: flex;
      gap: 15px;
      font-size: 22px;
      cursor: pointer;
      align-items: center;
      z-index: 1501;
      flex-shrink: 0;
      margin-left: auto;
      flex-wrap: nowrap;
    }

    #bar {
      display: none;
      font-size: 26px;
      transition: all 0.3s ease;
    }

    #bar:hover {
      color: #ff2a6d;
      transform: scale(1.1);
    }

    .cart-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255, 42, 109, 0.15);
      border: 1px solid rgba(255, 42, 109, 0.65);
      font-size: 15px;
      color: white;
      text-decoration: none;
      position: relative;
    }

    .cart-link i {
      display: inline-block;
      line-height: 1;
    }

    .cart-link span#cartCount {
      min-width: 20px;
      height: 20px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      background: #ff2a6d;
      color: #fff;
      font-size: 12px;
      font-weight: 700;
      line-height: 20px;
      padding: 0;
      box-sizing: border-box;
      flex-shrink: 0;
    }

    .cart-link:hover {
      background: rgba(255, 42, 109, 0.3);
      transform: translateY(-1px);
      transition: 0.2s ease;
    }

    .icons a {
      color: white;
      text-decoration: none;
      transition: 0.3s;
    }

    /* Add-cart-btn styling to match index.html */
    .add-cart-btn {
      padding: 9px 18px;
      background: #ff2a6d;
      color: white;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 6px 18px rgba(255, 42, 109, 0.3);
      position: relative;
      overflow: hidden;
    }

    .add-cart-btn::before {
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      content: "\f145";
      margin-right: 6px;
      font-size: 14px;
      transition: transform 0.3s ease;
    }

    .add-cart-btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .add-cart-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 10px 30px rgba(255, 42, 109, 0.5);
      background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
    }

    .add-cart-btn:hover::before {
      transform: scale(1.2) rotate(10deg);
    }

    .add-cart-btn:hover::after {
      width: 300px;
      height: 300px;
    }

    .add-cart-btn:active {
      transform: translateY(-1px) scale(1.02);
    }

    .icons a:hover {
      scale: 1.2;
    }

    .search-input-wrapper {
  position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%) scale(0.8);
  width: 0;
      opacity: 0;
      overflow: hidden;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 10;
      transform-origin: right center;
    }

    .icons.search-expanded .search-input-wrapper {
      width: 350px;
      opacity: 1;
      transform: translateY(-50%) scale(1);
      margin-right: 10px;
    }

    .searchInput {
      width: 100%;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255, 42, 109, 0.4);
      background: rgba(14, 12, 22, 0.98);
      color: white;
      outline: none;
      font-size: 0.9rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .searchInput:focus {
      border-color: #ff2a6d;
      box-shadow: 0 4px 16px rgba(255, 42, 109, 0.4);
    }

    #search {
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      transform-origin: center;
    }

    .icons.search-expanded #search {
      opacity: 0;
      transform: scale(0) rotate(90deg);
      pointer-events: none;
    }

    @media (min-width: 1200px) {
      .icons.search-expanded .search-input-wrapper {
        width: 400px;
      }
    }

    @media (max-width: 900px) {
      .icons.search-expanded .search-input-wrapper {
        width: 300px;
      }
    }

    /* Movie Hero Sections - Different Layout */
    .movie-hero {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding: 0 8vw;
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .movie-hero:nth-child(even) {
      justify-content: flex-start;
    }

    .movie-hero.fade-out {
      opacity: 0.3;
      transform: scale(0.98);
    }

    .movie-hero::before {
      content: '';
  position: absolute;
  top: 0;
  left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255, 42, 109, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(138, 43, 226, 0.15) 0%, transparent 50%),
        linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.8) 100%);
      z-index: 1;
    }

    .movie-hero::after {
      content: '';
  position: absolute;
      bottom: 0;
      left: 0;
  right: 0;
      height: 200px;
      background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.8) 100%);
      z-index: 2;
    }

    .movie-bg {
      position: absolute;
      top: -10%;
  left: 0;
      width: 100%;
      height: 120%;
      object-fit: cover;
      z-index: 0;
      will-change: transform;
      transition: opacity 0.8s ease, transform 0.1s ease-out;
  opacity: 1;
}

    .movie-hero.fade-out .movie-bg {
      opacity: 0.3;
    }

    .movie-content {
  position: relative;
      z-index: 3;
      max-width: 480px;
  opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
      background: rgba(0, 0, 0, 0.25);
      backdrop-filter: blur(15px);
      padding: 28px 32px;
      border-radius: 16px;
      border: 1px solid rgba(255, 42, 109, 0.15);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    /* Themed Styling for Each Movie */
    /* Dune - Desert/Sand Theme */
    #movie1 .movie-content {
      border-color: rgba(210, 180, 140, 0.3);
      background: rgba(20, 15, 10, 0.3);
    }

    #movie1 .movie-content::before {
      background: linear-gradient(90deg, transparent, #d2b48c 20%, #cd853f 50%, #d2b48c 80%, transparent);
    }

    #movie1 .movie-title {
      color: #d2b48c;
    }

    #movie1 .movie-title::after {
      background: linear-gradient(90deg, #d2b48c, #cd853f);
      box-shadow: 0 0 10px rgba(210, 180, 140, 0.4);
    }

    #movie1 .movie-meta::before {
      color: #d2b48c;
    }

    #movie1 .movie-desc {
      border-left-color: rgba(210, 180, 140, 0.5);
    }

    #movie1 .btn-buy {
      background: linear-gradient(135deg, #cd853f, #d2b48c);
      box-shadow: 0 6px 20px rgba(205, 133, 63, 0.4);
    }

    #movie1 .btn-buy:hover {
      background: linear-gradient(135deg, #d2b48c, #cd853f);
      box-shadow: 0 10px 30px rgba(205, 133, 63, 0.6);
      animation: sandGlow 2s ease-in-out infinite;
    }

    @keyframes sandGlow {
      0%, 100% { box-shadow: 0 10px 30px rgba(205, 133, 63, 0.6); }
      50% { box-shadow: 0 10px 40px rgba(205, 133, 63, 0.8), 0 0 20px rgba(210, 180, 140, 0.5); }
    }

    /* Oppenheimer - Orange/Nuke Theme (Now Movie 2) */
    #movie2 .movie-content {
      border-color: rgba(255, 140, 0, 0.3);
      background: rgba(30, 15, 5, 0.3);
    }

    #movie2 .movie-content::before {
      background: linear-gradient(90deg, transparent, #ff8c00 20%, #ff6347 50%, #ff8c00 80%, transparent);
    }

    #movie2 .movie-title {
      color: #ff8c00;
      font-size: 46px;
      word-break: break-word;
      overflow-wrap: break-word;
      white-space: normal;
      text-shadow: 0 2px 10px rgba(255, 140, 0, 0.5);
    }

    #movie2 .movie-title::after {
      background: linear-gradient(90deg, #ff8c00, #ff6347);
      box-shadow: 0 0 10px rgba(255, 140, 0, 0.5);
    }

    #movie2 .movie-meta::before {
      color: #ff8c00;
    }

    #movie2 .movie-desc {
      border-left-color: rgba(255, 140, 0, 0.5);
    }

    #movie2 .btn-buy {
      background: linear-gradient(135deg, #ff6347, #ff8c00);
      box-shadow: 0 6px 20px rgba(255, 99, 71, 0.4);
      position: relative;
      overflow: visible;
      border: 2px solid rgba(255, 140, 0, 0.5);
    }

    #movie2 .btn-buy i {
      transition: all 0.3s ease;
  position: relative;
    }

    #movie2 .btn-buy::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 140, 0, 0.3) 0%, rgba(255, 99, 71, 0.15) 50%, transparent 100%);
  opacity: 0;
      transition: all 0.6s ease;
      z-index: 0;
    }

    #movie2 .btn-buy::after {
      content: '!';
  position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      font-size: 16px;
      font-weight: 900;
      opacity: 0;
      transition: all 0.3s ease;
  z-index: 2;
      color: #ffffff;
      filter: drop-shadow(0 0 8px rgba(255, 140, 0, 0.8));
    }

    #movie2 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
    }

    #movie2 .btn-buy:hover {
      background: linear-gradient(135deg, #ff8c00, #ff6347, #ff4500, #ff8c00);
      background-size: 300% 300%;
      border-color: rgba(255, 140, 0, 0.8);
      box-shadow: 
        0 10px 30px rgba(255, 99, 71, 0.6),
        0 -5px 20px rgba(255, 140, 0, 0.4),
        -10px -10px 25px rgba(255, 99, 71, 0.3),
        10px -10px 25px rgba(255, 99, 71, 0.3),
        0 0 40px rgba(255, 140, 0, 0.5),
        inset 0 0 20px rgba(255, 140, 0, 0.2),
        inset 0 2px 10px rgba(255, 69, 0, 0.3);
      animation: detonatePulse 0.8s ease-in-out infinite, flameFlicker 0.3s ease-in-out infinite, gradientShift 2s linear infinite;
      transform: scale(1.02);
    }

    #movie2 .btn-buy:hover::before {
  opacity: 1;
      width: 80px;
      height: 80px;
      animation: nukePulse 1s ease-in-out infinite;
    }

    @keyframes nukePulse {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.6;
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.8;
      }
    }

    #movie2 .btn-buy:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      animation: warningBlink 1s ease-in-out infinite;
      left: 12px;
    }

    @keyframes warningBlink {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }

    @keyframes detonatePulse {
      0%, 100% { 
        transform: scale(1.02);
        box-shadow: 
          0 10px 30px rgba(255, 99, 71, 0.6),
          0 0 40px rgba(255, 140, 0, 0.5);
      }
      50% { 
        transform: scale(1.05);
        box-shadow: 
          0 15px 50px rgba(255, 140, 0, 0.8), 
          0 0 60px rgba(255, 99, 71, 0.6), 
          0 0 80px rgba(255, 140, 0, 0.4),
          inset 0 0 30px rgba(255, 140, 0, 0.3);
      }
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes flameFlicker {
      0%, 100% { 
        filter: brightness(1) hue-rotate(0deg);
      }
      25% { 
        filter: brightness(1.2) hue-rotate(5deg);
      }
      50% { 
        filter: brightness(1.1) hue-rotate(-5deg);
      }
      75% { 
        filter: brightness(1.15) hue-rotate(3deg);
      }
    }

    /* The Dark Knight - Red/Batman Theme (Now Movie 4) */
    #movie4 .movie-content {
      border-color: rgba(220, 20, 60, 0.3);
      background: rgba(20, 5, 5, 0.3);
    }

    #movie2 .movie-content::before {
      background: linear-gradient(90deg, transparent, #dc143c 20%, #8b0000 50%, #dc143c 80%, transparent);
    }

    #movie2 .movie-title {
      color: #dc143c;
      text-shadow: 0 2px 10px rgba(220, 20, 60, 0.5);
    }

    #movie2 .movie-title::after {
      background: linear-gradient(90deg, #dc143c, #8b0000);
      box-shadow: 0 0 10px rgba(220, 20, 60, 0.4);
    }

    #movie2 .movie-meta::before {
      color: #dc143c;
    }

    #movie2 .movie-desc {
      border-left-color: rgba(220, 20, 60, 0.5);
    }

    /* The Dark Knight - Red/Batman Theme (Now Movie 4) */
    #movie4 .movie-content {
      border-color: rgba(220, 20, 60, 0.3);
      background: rgba(20, 5, 5, 0.3);
    }

    #movie4 .movie-content::before {
      background: linear-gradient(90deg, transparent, #dc143c 20%, #8b0000 50%, #dc143c 80%, transparent);
    }

    #movie4 .movie-title {
      color: #dc143c;
      text-shadow: 0 2px 10px rgba(220, 20, 60, 0.5);
    }

    #movie4 .movie-title::after {
      background: linear-gradient(90deg, #dc143c, #8b0000);
      box-shadow: 0 0 10px rgba(220, 20, 60, 0.4);
    }

    #movie4 .movie-meta::before {
      color: #dc143c;
    }

    #movie4 .movie-desc {
      border-left-color: rgba(220, 20, 60, 0.5);
    }

    #movie4 .btn-buy {
      background: linear-gradient(135deg, #8b0000, #dc143c);
      box-shadow: 0 6px 20px rgba(139, 0, 0, 0.4);
      position: relative;
      overflow: visible;
    }

    #movie4 .btn-buy {
      position: relative;
    }

    #movie4 .btn-buy i {
      position: relative;
      transition: all 0.3s ease;
      z-index: 1;
    }

    #movie4 .btn-buy::after {
      content: '';
  position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      width: 16px;
      height: 16px;
      opacity: 0;
      transition: all 0.4s ease;
  z-index: 2;
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffffff"%3E%3Cpath d="M12 2C8 2 5 5 5 9c0 2 1 4 2 5l-2 2 2 2 2-2c1 1 3 1 4 0l2 2 2-2-2-2c1-1 2-3 2-5 0-4-3-7-7-7zm0 2c2.8 0 5 2.2 5 5 0 1.5-.7 2.8-1.8 3.7L12 14l-3.2-1.3C7.7 11.8 7 10.5 7 9c0-2.8 2.2-5 5-5z"/%3E%3Cpath d="M9 8h6v2H9V8zm-1 4h8v2H8v-2z"/%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      filter: drop-shadow(0 0 8px rgba(220, 20, 60, 0.8)) brightness(1.2);
    }

    #movie4 .btn-buy::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 0;
      height: 0;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(220, 20, 60, 0.2) 0%, transparent 70%);
      opacity: 0;
      transition: all 0.6s ease;
      z-index: 0;
    }

    #movie4 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
      width: 0;
      margin: 0;
    }

    #movie4 .btn-buy:hover {
      background: linear-gradient(135deg, #dc143c, #8b0000, #dc143c);
      background-size: 200% 200%;
      box-shadow: 0 10px 30px rgba(220, 20, 60, 0.6), 0 0 20px rgba(139, 0, 0, 0.4);
      animation: batGlow 2s ease-in-out infinite, batGradient 3s linear infinite;
    }

    #movie4 .btn-buy:hover::after {
  opacity: 1;
      transform: translateY(-50%) scale(1);
      animation: batFly 2s ease-in-out infinite;
      left: 12px;
    }

    #movie4 .btn-buy:hover::before {
  opacity: 1;
      width: 60px;
      height: 60px;
      animation: batGlowCircle 2s ease-in-out infinite;
    }

    @keyframes batGlowCircle {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.3;
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.5;
      }
    }

    @keyframes batGlow {
      0%, 100% { box-shadow: 0 10px 30px rgba(220, 20, 60, 0.6); }
      50% { box-shadow: 0 12px 40px rgba(220, 20, 60, 0.8), 0 0 25px rgba(139, 0, 0, 0.5); }
    }

    @keyframes batFly {
      0%, 100% { transform: translateY(-50%) scale(1) rotate(0deg); }
      25% { transform: translateY(-50%) scale(1.1) rotate(-5deg); }
      75% { transform: translateY(-50%) scale(1.1) rotate(5deg); }
    }

    @keyframes batGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Interstellar - Purple/Pink Space Theme */
    #movie3 .movie-content {
      border-color: rgba(186, 85, 211, 0.3);
      background: rgba(20, 10, 25, 0.3);
    }

    #movie3 .movie-content::before {
      background: linear-gradient(90deg, transparent, #ba55d3 20%, #da70d6 50%, #ba55d3 80%, transparent);
    }

    #movie3 .movie-title {
      color: #da70d6;
      text-shadow: 0 2px 10px rgba(218, 112, 214, 0.5);
    }

    #movie3 .movie-title::after {
      background: linear-gradient(90deg, #da70d6, #ba55d3);
      box-shadow: 0 0 10px rgba(218, 112, 214, 0.4);
    }

    #movie3 .movie-meta::before {
      color: #da70d6;
    }

    #movie3 .movie-desc {
      border-left-color: rgba(218, 112, 214, 0.5);
    }

    #movie3 .btn-buy {
      background: linear-gradient(135deg, #ba55d3, #da70d6);
      box-shadow: 0 6px 20px rgba(186, 85, 211, 0.4);
      position: relative;
      overflow: visible;
    }

    #movie3 .btn-buy i {
      transition: all 0.3s ease;
    }

    #movie3 .btn-buy::after {
      content: '';
  position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      width: 16px;
      height: 16px;
      opacity: 0;
      transition: all 0.4s ease;
  z-index: 2;
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffffff"%3E%3Ccircle cx="12" cy="12" r="8" fill="none" stroke="%23ffffff" stroke-width="2"/%3E%3Ccircle cx="12" cy="12" r="3" fill="%23ffffff"/%3E%3Cpath d="M12 4v4M12 16v4M4 12h4M16 12h4" stroke="%23ffffff" stroke-width="2" stroke-linecap="round"/%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      filter: drop-shadow(0 0 8px rgba(218, 112, 214, 0.8)) brightness(1.2);
    }

    #movie3 .btn-buy::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(218, 112, 214, 0.2) 0%, transparent 70%);
      opacity: 0;
      transition: all 0.6s ease;
      z-index: 0;
    }

    #movie3 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
    }

    #movie3 .btn-buy:hover {
      background: linear-gradient(135deg, #da70d6, #ba55d3, #da70d6);
      background-size: 200% 200%;
      box-shadow: 0 10px 30px rgba(186, 85, 211, 0.6), 0 0 25px rgba(218, 112, 214, 0.4);
      animation: spaceGlow 2s ease-in-out infinite, spaceGradient 3s linear infinite;
    }

    #movie3 .btn-buy:hover::after {
  opacity: 1;
      transform: translateY(-50%) scale(1);
      animation: blackHole 2s ease-in-out infinite;
      left: 12px;
    }

    #movie3 .btn-buy:hover::before {
  opacity: 1;
      width: 70px;
      height: 70px;
      animation: blackHoleGlow 2s ease-in-out infinite;
    }

    @keyframes blackHoleGlow {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.4;
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.3) rotate(180deg);
        opacity: 0.6;
      }
    }

    @keyframes spaceGlow {
      0%, 100% { box-shadow: 0 10px 30px rgba(186, 85, 211, 0.6); }
      50% { box-shadow: 0 12px 40px rgba(218, 112, 214, 0.8), 0 0 30px rgba(186, 85, 211, 0.6); }
    }

    @keyframes blackHole {
      0%, 100% { 
        transform: translateY(-50%) scale(1) rotate(0deg);
  opacity: 1;
}
      50% { 
        transform: translateY(-50%) scale(1.1) rotate(180deg);
  opacity: 1;
}
    }

    @keyframes spaceGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }


    /* Squid Game - Red/Pink Theme */
    #movie5 .movie-content {
      border-color: rgba(220, 20, 60, 0.3);
      background: rgba(30, 5, 10, 0.3);
    }

    #movie5 .movie-content::before {
      background: linear-gradient(90deg, transparent, #dc143c 20%, #ff1493 50%, #dc143c 80%, transparent);
    }

    #movie5 .movie-title {
      color: #dc143c;
      text-shadow: 0 2px 10px rgba(220, 20, 60, 0.5);
    }

    #movie5 .movie-title::after {
      background: linear-gradient(90deg, #dc143c, #ff1493);
      box-shadow: 0 0 10px rgba(220, 20, 60, 0.4);
    }

    #movie5 .movie-meta::before {
      color: #dc143c;
    }

    #movie5 .movie-desc {
      border-left-color: rgba(220, 20, 60, 0.5);
    }

    #movie5 .btn-buy {
      background: linear-gradient(135deg, #dc143c, #ff1493);
      box-shadow: 0 6px 20px rgba(220, 20, 60, 0.4);
      position: relative;
    }

    #movie5 .btn-buy {
      position: relative;
    }

    #movie5 .btn-buy i {
      position: relative;
      transition: all 0.3s ease;
      z-index: 1;
    }

    #movie5 .btn-buy::after {
      content: '';
  position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      width: 16px;
      height: 16px;
      opacity: 0;
      transition: all 0.4s ease;
  z-index: 2;
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffffff"%3E%3Ccircle cx="12" cy="12" r="10" fill="none" stroke="%23ffffff" stroke-width="2"/%3E%3Ccircle cx="12" cy="12" r="7" fill="none" stroke="%23ffffff" stroke-width="1.5"/%3E%3Cpath d="M12 5v14M5 12h14" stroke="%23ffffff" stroke-width="1.5" stroke-linecap="round"/%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      filter: drop-shadow(0 0 8px rgba(220, 20, 60, 0.8)) brightness(1.2);
    }

    #movie5 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
      width: 0;
      margin: 0;
    }

    #movie5 .btn-buy:hover {
      background: linear-gradient(135deg, #ff1493, #dc143c, #ff1493);
      background-size: 200% 200%;
      box-shadow: 0 10px 30px rgba(220, 20, 60, 0.6);
      animation: gamePulse 1.5s ease-in-out infinite, gameGradient 3s linear infinite;
    }

    #movie5 .btn-buy:hover::after {
  opacity: 1;
      transform: translateY(-50%) scale(1);
      left: 12px;
    }

    @keyframes gamePulse {
      0%, 100% { box-shadow: 0 10px 30px rgba(220, 20, 60, 0.6); }
      50% { box-shadow: 0 12px 40px rgba(255, 20, 147, 0.8), 0 0 25px rgba(220, 20, 60, 0.6); }
    }

    @keyframes gameGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Money Heist - Red/Mask Theme */
    #movie6 .movie-content {
      border-color: rgba(255, 0, 0, 0.3);
      background: rgba(20, 5, 5, 0.3);
    }

    #movie6 .movie-content::before {
      background: linear-gradient(90deg, transparent, #ff0000 20%, #cc0000 50%, #ff0000 80%, transparent);
    }

    #movie6 .movie-title {
      color: #ff0000;
      text-shadow: 0 2px 10px rgba(255, 0, 0, 0.5);
    }

    #movie6 .movie-title::after {
      background: linear-gradient(90deg, #ff0000, #cc0000);
      box-shadow: 0 0 10px rgba(255, 0, 0, 0.4);
    }

    #movie6 .movie-meta::before {
      color: #ff0000;
    }

    #movie6 .movie-desc {
      border-left-color: rgba(255, 0, 0, 0.5);
    }

    #movie6 .btn-buy {
      background: linear-gradient(135deg, #cc0000, #ff0000);
      box-shadow: 0 6px 20px rgba(204, 0, 0, 0.4);
  position: relative;
    }

    #movie6 .btn-buy {
      position: relative;
    }

    #movie6 .btn-buy i {
  position: relative;
      transition: all 0.3s ease;
      z-index: 1;
    }

    #movie6 .btn-buy::after {
      content: '';
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      width: 16px;
      height: 16px;
      opacity: 0;
      transition: all 0.4s ease;
      z-index: 2;
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffffff"%3E%3Ccircle cx="12" cy="12" r="10" fill="none" stroke="%23ffffff" stroke-width="2"/%3E%3Ccircle cx="12" cy="12" r="7" fill="none" stroke="%23ffffff" stroke-width="1.5"/%3E%3Cpath d="M12 5v14M5 12h14" stroke="%23ffffff" stroke-width="1.5" stroke-linecap="round"/%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      filter: drop-shadow(0 0 8px rgba(255, 0, 0, 0.8)) brightness(1.2);
    }

    #movie6 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
      width: 0;
      margin: 0;
    }

    #movie6 .btn-buy:hover {
      background: linear-gradient(135deg, #ff0000, #cc0000, #ff0000);
      background-size: 200% 200%;
      box-shadow: 0 10px 30px rgba(255, 0, 0, 0.6);
      animation: heistFlash 1.5s ease-in-out infinite, heistGradient 3s linear infinite;
    }

    #movie6 .btn-buy:hover::after {
  opacity: 1;
      transform: translateY(-50%) scale(1);
      left: 12px;
    }

    @keyframes heistFlash {
      0%, 100% { box-shadow: 0 10px 30px rgba(255, 0, 0, 0.6); }
      50% { box-shadow: 0 12px 40px rgba(255, 0, 0, 0.8), 0 0 30px rgba(255, 0, 0, 0.5); }
    }

    @keyframes heistGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* All of Us Are Dead - Green/Zombie Theme */
    #movie7 .movie-content {
      border-color: rgba(50, 205, 50, 0.3);
      background: rgba(10, 20, 10, 0.3);
    }

    #movie7 .movie-content::before {
      background: linear-gradient(90deg, transparent, #32cd32 20%, #228b22 50%, #32cd32 80%, transparent);
    }

    #movie7 .movie-title {
      color: #32cd32;
      text-shadow: 0 2px 10px rgba(50, 205, 50, 0.5);
    }

    #movie7 .movie-title::after {
      background: linear-gradient(90deg, #32cd32, #228b22);
      box-shadow: 0 0 10px rgba(50, 205, 50, 0.4);
    }

    #movie7 .movie-meta::before {
      color: #32cd32;
    }

    #movie7 .movie-desc {
      border-left-color: rgba(50, 205, 50, 0.5);
    }

    #movie7 .btn-buy {
      background: linear-gradient(135deg, #228b22, #32cd32);
      box-shadow: 0 6px 20px rgba(34, 139, 34, 0.4);
      position: relative;
    }

    #movie7 .btn-buy {
      position: relative;
    }

    #movie7 .btn-buy i {
      position: relative;
      transition: all 0.3s ease;
      z-index: 1;
    }

    #movie7 .btn-buy::after {
      content: '';
  position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      width: 16px;
      height: 16px;
      opacity: 0;
      transition: all 0.4s ease;
  z-index: 2;
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"%3E%3Ccircle cx="12" cy="12" r="10" fill="none" stroke="%23ffffff" stroke-width="2"/%3E%3Cpath d="M12 2L14 8L12 10L10 8L12 2Z" fill="%23ffffff"/%3E%3Cpath d="M12 8v4M12 16h.01" stroke="%23ffffff" stroke-width="2" stroke-linecap="round"/%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      filter: drop-shadow(0 0 8px rgba(50, 205, 50, 0.8)) brightness(1.2);
    }

    #movie7 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
      width: 0;
      margin: 0;
    }

    #movie7 .btn-buy:hover {
      background: linear-gradient(135deg, #32cd32, #228b22, #32cd32);
      background-size: 200% 200%;
      box-shadow: 0 10px 30px rgba(50, 205, 50, 0.6);
      animation: zombieGlow 2s ease-in-out infinite, zombieGradient 3s linear infinite;
    }

    #movie7 .btn-buy:hover::after {
  opacity: 1;
      transform: translateY(-50%) scale(1);
      left: 12px;
    }

    @keyframes zombieGlow {
      0%, 100% { box-shadow: 0 10px 30px rgba(50, 205, 50, 0.6); }
      50% { box-shadow: 0 12px 40px rgba(34, 139, 34, 0.8), 0 0 25px rgba(50, 205, 50, 0.5); }
    }

    /* The Wolverine - Yellow/Claw Theme */
    #movie8 .movie-content {
      border-color: rgba(255, 215, 0, 0.3);
      background: rgba(25, 20, 5, 0.3);
    }

    #movie8 .movie-content::before {
      background: linear-gradient(90deg, transparent, #ffd700 20%, #ffa500 50%, #ffd700 80%, transparent);
    }

    #movie8 .movie-title {
      color: #ffd700;
      text-shadow: 0 2px 10px rgba(255, 215, 0, 0.5);
    }

    #movie8 .movie-title::after {
      background: linear-gradient(90deg, #ffd700, #ffa500);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
    }

    #movie8 .movie-meta::before {
      color: #ffd700;
    }

    #movie8 .movie-desc {
      border-left-color: rgba(255, 215, 0, 0.5);
    }

    #movie8 .btn-buy {
      background: linear-gradient(135deg, #ffa500, #ffd700);
      box-shadow: 0 6px 20px rgba(255, 165, 0, 0.4);
      position: relative;
    }

    #movie8 .btn-buy {
      position: relative;
    }

    #movie8 .btn-buy i {
      position: relative;
      transition: all 0.3s ease;
      z-index: 1;
    }

    #movie8 .btn-buy::after {
      content: '';
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%) scale(0) rotate(45deg);
      width: 16px;
      height: 16px;
      opacity: 0;
      transition: all 0.4s ease;
      z-index: 2;
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffffff"%3E%3Cpath d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8)) brightness(1.2);
    }

    #movie8 .btn-buy:hover i {
      opacity: 0;
      transform: scale(0);
      width: 0;
      margin: 0;
    }

    #movie8 .btn-buy:hover {
      background: linear-gradient(135deg, #ffd700, #ffa500, #ffd700);
      background-size: 200% 200%;
      box-shadow: 0 10px 30px rgba(255, 215, 0, 0.6);
      animation: clawSlash 1.5s ease-in-out infinite, clawGradient 3s linear infinite;
    }

    #movie8 .btn-buy:hover::after {
  opacity: 1;
      transform: translateY(-50%) scale(1) rotate(45deg);
      animation: bladeSpin 0.5s ease-in-out infinite;
      left: 12px;
    }

    @keyframes bladeSpin {
      0%, 100% { transform: translateY(-50%) scale(1) rotate(45deg); }
      50% { transform: translateY(-50%) scale(1.1) rotate(225deg); }
    }

    @keyframes clawSlash {
      0%, 100% { box-shadow: 0 10px 30px rgba(255, 215, 0, 0.6); }
      50% { box-shadow: 0 12px 40px rgba(255, 165, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.5); }
    }

    .movie-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ff2a6d 20%, #8a2be2 50%, #ff2a6d 80%, transparent);
      border-radius: 16px 16px 0 0;
      opacity: 0.6;
    }

    .movie-content > * {
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .movie-hero.visible .movie-content {
  opacity: 1;
      transform: translateY(0);
}

    .movie-hero.visible .movie-content > * {
  opacity: 1;
      transform: translateY(0);
}

    .movie-hero.fade-out .movie-content {
  opacity: 0;
      transform: translateY(-30px);
    }

    .movie-hero.fade-out .movie-content > * {
      opacity: 0;
      transform: translateY(-20px);
    }

    .movie-title {
      font-size: 52px;
      font-weight: 800;
      color: #ff2a6d;
      animation: titleGlow 3s ease-in-out infinite;
      margin-bottom: 18px;
      line-height: 1.2;
      letter-spacing: -0.5px;
      position: relative;
      word-wrap: break-word;
      overflow-wrap: break-word;
      white-space: normal;
      text-shadow: 0 2px 10px rgba(255, 42, 109, 0.5);
    }

    .movie-title::after {
      content: '';
  position: absolute;
      bottom: -8px;
      left: 0;
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, #ff2a6d, #8a2be2);
      border-radius: 2px;
      box-shadow: 0 0 10px rgba(255, 42, 109, 0.4);
    }

    @keyframes titleGlow {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.2); }
    }

    .movie-meta {
      font-size: 14px;
      opacity: 0.75;
      letter-spacing: 1.5px;
      margin-bottom: 14px;
      color: rgba(255, 255, 255, 0.7);
      text-transform: uppercase;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .movie-meta::before {
      content: '▶';
      color: #ff2a6d;
      font-size: 12px;
      opacity: 0.7;
    }

    .movie-stars {
      display: flex;
      gap: 3px;
      margin: 12px 0;
      font-size: 18px;
      animation: starPulse 2s ease-in-out infinite;
    }

    @keyframes starPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .star-icon {
      color: #ffdd59;
      text-shadow: 0 0 10px rgba(255, 221, 89, 0.5);
    }

    .star-icon.empty {
      color: rgba(255, 255, 255, 0.3);
    }

    .movie-desc {
      font-size: 14px;
      line-height: 1.7;
      opacity: 0.9;
      margin-top: 18px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7), 0 1px 3px rgba(0, 0, 0, 0.5);
      color: rgba(255, 255, 255, 0.95);
      border-left: 2px solid rgba(255, 42, 109, 0.4);
      padding-left: 16px;
      font-weight: 400;
    }

    .movie-btns {
      display: flex;
      gap: 12px;
      margin-top: 28px;
      flex-wrap: wrap;
    }

    .movie-btn {
      padding: 12px 28px;
      font-size: 14px;
      border: none;
      cursor: pointer;
      border-radius: 10px;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      gap: 8px;
      letter-spacing: 0.3px;
    }

    .movie-btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .movie-btn:hover::after {
      width: 300px;
      height: 300px;
    }

    .btn-buy {
      background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
      color: white;
      box-shadow: 0 6px 20px rgba(255, 42, 109, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
    }

    .btn-buy::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .btn-buy:hover::before {
      width: 300px;
      height: 300px;
    }

    .btn-buy:hover {
      transform: translateY(-4px) scale(1.08);
      background: linear-gradient(135deg, #ff5a8d, #ff2a6d, #8a2be2);
      background-size: 200% 200%;
      animation: gradientShift 3s ease infinite;
      box-shadow: 0 12px 40px rgba(255, 42, 109, 0.7), 0 0 30px rgba(138, 43, 226, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.2);
    }

    .btn-buy:active {
      transform: translateY(-1px) scale(1.04);
      transition: all 0.1s;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .btn-shows {
      background: rgba(255, 255, 255, 0.04);
      border: 1.5px solid rgba(255, 255, 255, 0.25);
      color: white;
      backdrop-filter: blur(12px);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
    }

    .btn-shows::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 42, 109, 0.2), transparent);
      transition: left 0.5s;
    }

    .btn-shows:hover::before {
      left: 100%;
    }

    .btn-shows:hover {
      transform: translateY(-4px) scale(1.08);
      border-color: rgba(255, 42, 109, 0.8);
      background: rgba(255, 42, 109, 0.2);
      box-shadow: 0 10px 35px rgba(255, 42, 109, 0.5), 0 0 20px rgba(138, 43, 226, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .btn-shows:active {
      transform: translateY(-1px) scale(1.04);
      transition: all 0.1s;
    }

    .movie-btn:active {
      transform: translateY(-1px) scale(1.04);
      transition: all 0.1s;
    }

    /* Wishlist Button */
    .wishlist-btn {
  position: absolute;
      top: 50%;
      left: 80px;
      transform: translateY(-50%);
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: rgba(255, 42, 109, 0.25);
      border: 2px solid rgba(255, 42, 109, 0.5);
      color: white;
      font-size: 28px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 3;
      backdrop-filter: blur(15px);
      box-shadow: 0 8px 25px rgba(255, 42, 109, 0.3);
    }

    .movie-hero:nth-child(even) .wishlist-btn {
      left: auto;
      right: 80px;
    }

    .wishlist-btn:hover {
      background: rgba(255, 42, 109, 0.3);
      border-color: rgba(255, 42, 109, 0.6);
      transform: translateY(-50%) scale(1.1);
    }

    .wishlist-btn.active {
      background: #ff2a6d;
      border-color: #ff2a6d;
    }

    /* Scroll Indicator */
    .scroll-indicator {
      position: fixed;
      bottom: 120px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
      color: rgba(255, 255, 255, 0.7);
      font-size: 14px;
      animation: bounce 2s infinite;
      pointer-events: none;
      text-align: center;
    }

    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-10px); }
    }

    .scroll-indicator i {
      font-size: 24px;
    }

    /* Navigation Arrows - Improved */
    /* Navigation Arrows - Simple Up/Down at Bottom */
    .nav-arrows {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: row;
      gap: 20px;
      z-index: 1000;
      align-items: center;
    }

    .nav-arrow-btn {
      width: auto;
      height: auto;
      background: none;
      border: none;
      color: rgba(255, 255, 255, 0.7);
      font-size: 32px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      padding: 10px;
      line-height: 1;
    }

    .nav-arrow-btn:hover {
      color: #ff2a6d;
      transform: scale(1.2);
      filter: drop-shadow(0 0 8px rgba(255, 42, 109, 0.6));
    }

    .nav-arrow-btn:active {
      transform: scale(1.1);
    }

    .nav-arrow-btn:disabled {
      opacity: 0.25;
      cursor: not-allowed;
      pointer-events: none;
    }

    .movie-counter {
      background: rgba(255, 42, 109, 0.15);
      backdrop-filter: blur(15px);
      padding: 12px 28px;
      border-radius: 50px;
      border: 1px solid rgba(255, 42, 109, 0.4);
      color: white;
      font-size: 16px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 15px rgba(255, 42, 109, 0.2);
      min-width: 100px;
      justify-content: center;
    }

    .movie-counter span {
      color: #ff2a6d;
      font-weight: 900;
      font-size: 18px;
    }

    /* Image Animation */
    .movie-bg {
      animation: imageFadeIn 1s ease-out;
    }

    @keyframes imageFadeIn {
      from {
        opacity: 0;
        transform: scale(1.1);
      }
      to {
  opacity: 1;
        transform: scale(1);
      }
    }

    /* Text Animations */
    .movie-title {
      animation: titleSlideIn 0.8s ease-out, titleGlow 3s ease-in-out infinite 0.8s;
    }

    @keyframes titleSlideIn {
      from {
        opacity: 0;
        transform: translateX(-50px);
      }
      to {
  opacity: 1;
        transform: translateX(0);
      }
    }

    .movie-meta {
      animation: metaFadeIn 1s ease-out 0.2s both;
    }

    @keyframes metaFadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 0.9;
        transform: translateY(0);
      }
    }

    .movie-desc {
      animation: descFadeIn 1.2s ease-out 0.4s both;
    }

    @keyframes descFadeIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 0.85;
        transform: translateY(0);
      }
    }

    .movie-btns {
      animation: buttonsFadeIn 1s ease-out 0.6s both;
    }

    @keyframes buttonsFadeIn {
      from {
  opacity: 0;
        transform: translateY(30px);
      }
      to {
  opacity: 1;
        transform: translateY(0);
      }
    }

    /* Footer Styles */
    .footer {
      position: relative;
      padding: 90px 40px 50px;
      background: linear-gradient(180deg, #000000 0%, #0a0a0f 30%, #0b0b0f 60%, #000000 100%);
      color: white;
      overflow: hidden;
      border-top: 2px solid rgba(255, 42, 109, 0.3);
      margin-top: 100px;
    }
    
    /* Smaller jelly balls (same as index.html) */
    .jelly {
      position: absolute;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: #ff2a6d;
      box-shadow: 0 0 20px #ff2a6d;
      z-index: 3;
      transition: transform 0.1s ease;
    }

    /* Trail */
    .trail {
      position: absolute;
      width: 25px;
      height: 25px;
      background: #ff2a6d;
      border-radius: 50%;
      opacity: 0.25;
      transform: translate(-50%, -50%);
      filter: blur(6px);
      pointer-events: none;
      z-index: 1;
      transition: opacity 0.5s ease-out;
    }

    /* Phones: static, no movement */
    @media (max-width: 700px) {
      .jelly {
        width: 55px;
        height: 55px;
        bottom: 20px !important;
        left: 20px !important;
        animation: none !important;
        transform: none !important;
      }
      #bubble2 {
        right: 20px !important;
        left: auto !important;
      }
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ff2a6d 20%, #8a2be2 50%, #ff2a6d 80%, transparent);
      box-shadow: 0 0 20px rgba(255, 42, 109, 0.5);
    }

    .footer::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 20% 50%, rgba(255, 42, 109, 0.03) 0%, transparent 50%),
                  radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.03) 0%, transparent 50%);
      pointer-events: none;
      z-index: 1;
    }

    .footer-content {
  position: relative;
      z-index: 5;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 50px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-section h3 {
      color: #ff2a6d;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 15px;
      background: linear-gradient(135deg, #ff2a6d, #8a2be2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .footer-section h4 {
      color: #ff2a6d;
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 20px;
  position: relative;
      padding-bottom: 10px;
    }

    .footer-section h4::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 2px;
      background: linear-gradient(90deg, #ff2a6d, transparent);
    }

    .footer-section p {
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.6;
      margin-top: 10px;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
    }

    .footer-section ul li {
      margin: 10px 0;
    }

    .footer-section ul li a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: inline-flex;
      align-items: center;
  position: relative;
      padding-left: 0;
    }

    .footer-section ul li a::before {
      content: '→';
      position: absolute;
      left: -20px;
  opacity: 0;
      color: #ff2a6d;
      transition: all 0.3s ease;
      transform: translateX(-5px);
    }

    .footer-section ul li a::after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #ff2a6d, #8a2be2);
      transition: width 0.3s ease;
    }

    .footer-section ul li a:hover {
      color: #ff2a6d;
      transform: translateX(8px);
      padding-left: 20px;
    }

    .footer-section ul li a:hover::before {
  opacity: 1;
      transform: translateX(0);
    }

    .footer-section ul li a:hover::after {
      width: 100%;
    }

    .footer-section .social-icons {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 10px;
    }

    .footer-section .social-icons li {
  position: relative;
      margin: 0;
    }

    .footer-section .social-icons li a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(255, 42, 109, 0.3);
      font-size: 1.8rem;
      padding: 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
      overflow: visible;
    }

    .footer-section .social-icons li a::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 42, 109, 0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
      z-index: 1;
      pointer-events: none;
    }

    .footer-section .social-icons li a::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: -52px;
      left: 50%;
      transform: translateX(-50%) translateY(-5px);
      background: rgba(0, 0, 0, 0.98);
      color: white;
      padding: 10px 18px;
      border-radius: 10px;
      font-size: 0.85rem;
      font-weight: 600;
      white-space: nowrap;
  opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
      z-index: 1000;
      border: 1px solid rgba(255, 42, 109, 0.5);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
    }

    .footer-section .social-icons li a:hover {
      background: rgba(255, 42, 109, 0.15);
      border-color: #ff2a6d;
      transform: translateY(-5px) scale(1.1);
      box-shadow: 0 8px 20px rgba(255, 42, 109, 0.4);
      padding-left: 0;
    }

    .footer-section .social-icons li a:hover::after {
  opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .footer-section .social-icons li a:hover::before {
      width: 100px;
      height: 100px;
    }

    .footer-bottom {
      text-align: center;
      opacity: 0.7;
      margin-top: 60px;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
      z-index: 5;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.6);
    }

    @media (max-width: 768px) {
      .nav-arrows {
        bottom: 20px;
        gap: 15px;
      }

      .nav-arrow-btn {
        font-size: 24px;
        padding: 8px;
      }

      .movie-counter {
        padding: 8px 16px;
        font-size: 11px;
      }

      .footer {
        padding: 60px 20px 40px;
      }

      .footer-content {
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
      }

      .footer-section h3 {
        font-size: 1.5rem;
      }
    }

    @media (max-width: 480px) {
      .footer-content {
        grid-template-columns: 1fr;
        gap: 25px;
      }

      .footer-section h3 {
        font-size: 1.3rem;
      }

      .footer-section h4 {
        font-size: 1rem;
      }

      .movie-title {
        font-size: 24px;
      }

      .movie-content {
        max-width: 95%;
        padding: 16px 14px;
      }

      .movie-hero {
        padding: 0 10px 70px;
      }

      .movie-desc {
        font-size: 13px;
      }

      .movie-btn {
        padding: 9px 18px;
        font-size: 12px;
      }
    }

    @media (max-width: 400px) {
      .movie-content {
        max-width: 98%;
        padding: 14px 12px;
      }

      .movie-title {
        font-size: 22px;
      }

      .movie-hero {
        padding: 0 8px 60px;
      }

      .movie-desc {
        font-size: 12px;
        margin-bottom: 12px;
      }

      .movie-meta {
        font-size: 12px;
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      nav {
        padding: 12px 15px;
        margin: 0 10px;
        width: calc(100vw - 20px);
      }

      nav .navlinks {
        position: absolute;
        top: 100%;
        right: 0;
        background: rgba(8, 8, 12, 0.98);
        backdrop-filter: blur(15px);
        border-radius: 12px;
        padding: 16px 20px;
        display: none;
        flex-direction: column;
        gap: 0;
        margin-top: 10px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);
        z-index: 99999;
        border: 1px solid rgba(255, 42, 109, 0.2);
      }

      nav .navlinks.show {
        display: flex;
      }

      nav .navlinks a {
        font-size: 15px;
        width: 100%;
        text-align: left;
        padding: 12px 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      nav .navlinks a:last-child {
        border-bottom: none;
      }

      #bar {
        display: inline-flex !important;
        align-items: center;
        justify-content: center;
        z-index: 99998;
        padding: 8px;
        background: rgba(255, 42, 109, 0.2);
        border-radius: 6px;
        border: 1px solid rgba(255, 42, 109, 0.4);
        font-size: 22px;
        width: 40px;
        height: 40px;
      }

      .movie-title {
        font-size: 28px;
        margin-bottom: 12px;
      }

      .movie-title::after {
        width: 40px;
        height: 2px;
      }

      .movie-meta {
        font-size: 13px;
        margin-bottom: 10px;
      }

      .movie-desc {
        font-size: 14px;
        line-height: 1.5;
        margin-bottom: 16px;
      }

      .movie-stars {
        font-size: 14px;
        margin-bottom: 12px;
      }

      .movie-btns {
        flex-direction: column;
        width: 100%;
        gap: 10px;
        margin-top: 16px;
      }

      .movie-btn {
        width: 100%;
        justify-content: center;
        padding: 10px 20px;
        font-size: 13px;
      }

      .wishlist-btn {
        left: 15px !important;
        right: auto !important;
        top: 15px !important;
        width: 40px;
        height: 40px;
        font-size: 16px;
      }

      .movie-content {
        max-width: 90%;
        padding: 20px 16px;
        margin: 0 auto;
      }

      .movie-hero {
        justify-content: center !important;
        align-items: flex-end !important;
        padding: 0 15px 80px;
      }

      .movie-hero::after {
        height: 120px;
        background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.6) 100%);
      }

      .movie-hero::before {
        background: 
          radial-gradient(circle at 20% 30%, rgba(255, 42, 109, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
          linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.6) 100%);
      }

      .movie-bg {
        opacity: 0.8;
      }

      .movie-content {
        background: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(10px);
      }

      .icons.search-expanded .search-input-wrapper {
        position: fixed;
        left: 5vw;
        right: 5vw;
        top: 15px;
        width: auto;
        transform: scale(1);
        margin-right: 0;
        z-index: 99999;
      }
    }

    /* View Shows Modal */
    .view-shows-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(10px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .view-shows-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .view-shows-dialog {
      background: linear-gradient(145deg, #1a1525 0%, #0f0c14 100%);
      border-radius: 24px;
      padding: 40px;
      max-width: 700px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      border: 1px solid rgba(255, 42, 109, 0.3);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 42, 109, 0.1);
      position: relative;
      transform: scale(0.9) translateY(20px);
      transition: transform 0.3s ease;
    }

    .view-shows-modal.show .view-shows-dialog {
      transform: scale(1) translateY(0);
    }

    .view-shows-dialog::before {
      content: '';
  position: absolute;
      top: 0;
  left: 0;
  right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ff2a6d 20%, #8a2be2 50%, #ff2a6d 80%, transparent);
      box-shadow: 0 0 20px rgba(255, 42, 109, 0.5);
    }

    .view-shows-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(255, 42, 109, 0.2);
    }

    .view-shows-header h3 {
      font-size: 28px;
      font-weight: 700;
      background: linear-gradient(135deg, #ffffff 0%, #ff2a6d 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
  margin: 0;
    }

    .close-view-shows {
      font-size: 32px;
      color: #ff2a6d;
      cursor: pointer;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
      background: rgba(255, 42, 109, 0.1);
    }

    .close-view-shows:hover {
      background: rgba(255, 42, 109, 0.2);
      transform: rotate(90deg) scale(1.1);
    }

    .tabs-section {
      margin-bottom: 30px;
    }

    .tabs {
      display: flex;
      gap: 10px;
  margin-bottom: 20px;
    }

    .tabs button {
      padding: 10px 24px;
      background: rgba(255, 42, 109, 0.1);
      border: 1px solid rgba(255, 42, 109, 0.3);
      border-radius: 999px;
      color: rgba(255, 255, 255, 0.8);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .tabs button:hover {
      background: rgba(255, 42, 109, 0.2);
      border-color: rgba(255, 42, 109, 0.5);
    }

    .tabs button.active {
      background: #ff2a6d;
      border-color: #ff2a6d;
      color: white;
      box-shadow: 0 4px 15px rgba(255, 42, 109, 0.4);
    }

    .schedule {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .schedule li {
      padding: 20px;
      margin-bottom: 15px;
      background: rgba(255, 42, 109, 0.05);
      border: 1px solid rgba(255, 42, 109, 0.2);
      border-radius: 12px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .schedule li:hover {
      background: rgba(255, 42, 109, 0.1);
      border-color: rgba(255, 42, 109, 0.4);
      transform: translateX(5px);
    }

    .schedule li span {
      display: inline-block;
      background: rgba(255, 42, 109, 0.2);
      padding: 6px 14px;
      border-radius: 8px;
      font-weight: 700;
      color: #ff2a6d;
      margin-right: 12px;
      min-width: 80px;
      text-align: center;
    }

    .schedule li small {
      display: block;
      margin-top: 8px;
      color: rgba(255, 255, 255, 0.6);
      font-size: 13px;
    }

    .view-shows-close-btn {
      width: 100%;
      padding: 14px;
      background: #ff2a6d;
      border: none;
      border-radius: 999px;
      color: white;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
      box-shadow: 0 6px 20px rgba(255, 42, 109, 0.4);
    }

    .view-shows-close-btn:hover {
      background: linear-gradient(135deg, #ff2a6d, #ff5a8d);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 42, 109, 0.6);
    }

    .view-shows-dialog::-webkit-scrollbar {
      width: 8px;
    }

    .view-shows-dialog::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
    }

    .view-shows-dialog::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff2a6d, #8a2be2);
      border-radius: 10px;
    }

    .view-shows-dialog::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #ff5a8d, #a855f7);
    }

    @media (max-width: 768px) {
      .view-shows-dialog {
        padding: 30px 20px;
        max-width: 95%;
      }

      .view-shows-header h3 {
        font-size: 22px;
      }

      .tabs button {
        padding: 8px 16px;
  font-size: 12px;
      }
}
  </style>

  <style>
/* Cart Modal */
.cartModal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.cartModal.show {
  display: flex;
  opacity: 1;
}

.cartModalDialog {
  background: radial-gradient(circle at top left, #25122d 0%, #0d0b14 55%, #07060a 100%);
  border-radius: 20px;
  width: 90%;
  max-width: 600px;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 42, 109, 0.3);
  border: 1px solid rgba(255, 42, 109, 0.4);
  transform: scale(0.9) translateY(20px);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  overflow: hidden;
}

.cartModal.show .cartModalDialog {
  transform: scale(1) translateY(0);
}

.cartModalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px 28px;
  border-bottom: 1px solid rgba(255, 42, 109, 0.2);
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.1), rgba(138, 43, 226, 0.1));
}

.cartModalHeader h2 {
  font-size: 1.75rem;
  font-weight: 700;
  background: linear-gradient(135deg, #fff, #ff2a6d);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
  letter-spacing: 0.03em;
}

.cartModalClose {
  font-size: 1.8rem;
  color: #ff2a6d;
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s ease;
  background: rgba(255, 42, 109, 0.1);
}

.cartModalClose:hover {
  color: white;
  background: rgba(255, 42, 109, 0.3);
  transform: rotate(90deg) scale(1.1);
}

.cartModalBody {
  flex: 1;
  overflow-y: auto;
  padding: 20px 28px;
  scrollbar-width: thin;
  scrollbar-color: #ff2a6d #1a1525;
}

.cartModalBody::-webkit-scrollbar {
  width: 8px;
}

.cartModalBody::-webkit-scrollbar-track {
  background: #1a1525;
  border-radius: 10px;
}

.cartModalBody::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff2a6d, #8a2be2);
  border-radius: 10px;
}

.cartModalBody::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff5a8d, #a855f7);
}

.cartItemsList {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.cartItem {
  background: radial-gradient(circle at top left, rgba(255, 42, 109, 0.16), rgba(17, 13, 24, 0.95));
  border-radius: 12px;
  padding: 16px;
  color: #f5f5f5;
  border: 1px solid rgba(255, 42, 109, 0.3);
  transition: all 0.3s ease;
  position: relative;
  display: flex;
  gap: 16px;
  align-items: center;
}

.cartItem:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(255, 42, 109, 0.3);
  border-color: rgba(255, 42, 109, 0.7);
}

.cartItemImage {
  width: 80px;
  height: 80px;
  border-radius: 12px;
  object-fit: cover;
  border: 2px solid rgba(255, 42, 109, 0.3);
}

.cartItemContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.cartItemTitle {
  font-size: 1rem;
  font-weight: 600;
  color: #fff;
  margin: 0;
}

.cartItemSubtitle {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.6);
}

.cartItemRemove {
  position: absolute;
  top: 12px;
  right: 12px;
  background: rgba(255, 42, 109, 0.3);
  border: none;
  color: #fff;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  opacity: 0.8;
}

.cartItemRemove:hover {
  background: #ff2a6d;
  opacity: 1;
  transform: scale(1.15) rotate(90deg);
}

.cartEmpty {
  text-align: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
  font-size: 1.1rem;
}

.cartEmptyIcon {
  font-size: 4rem;
  margin-bottom: 16px;
  opacity: 0.5;
}

.cartModalFooter {
  padding: 20px 28px;
  border-top: 1px solid rgba(255, 42, 109, 0.2);
  background: linear-gradient(135deg, rgba(255, 42, 109, 0.05), rgba(138, 43, 226, 0.05));
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}

.cartSummary {
  font-size: 1rem;
  color: #fff;
  font-weight: 600;
}

.checkout-btn {
  padding: 12px 28px;
  background: linear-gradient(135deg, #ff2a6d, #8a2be2);
  color: #fff;
  border: none;
  border-radius: 999px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.4);
}

.checkout-btn:disabled {
  opacity: 0.45;
  cursor: default;
  box-shadow: none;
}

.checkout-btn:not(:disabled):hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 42, 109, 0.6);
  background: linear-gradient(135deg, #ff5a8d, #a855f7);
}

/* Checkout modal */
.checkout-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 11000;
  overflow-y: auto;
  overflow-x: hidden;
}

.checkout-modal.show {
  display: flex;
}

.checkout-dialog {
  background: #0f0d16;
  padding: 24px 22px;
  border-radius: 14px;
  width: 360px;
  max-width: 92vw;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(255, 42, 109, 0.45);
  color: #fff;
  margin: 20px;
}

.checkout-dialog h3 {
  margin-bottom: 12px;
  font-size: 1.2rem;
  color: #ff2a6d;
}

.checkout-dialog p {
  font-size: 0.85rem;
  color: #c3bacf;
  margin-bottom: 12px;
}

.checkout-row {
  display: flex;
  gap: 8px;
}

.checkout-label {
  font-size: 0.8rem;
  margin-bottom: 4px;
  color: #d6cfea;
}

.checkout-input {
  width: 100%;
  padding: 9px 10px;
  border-radius: 8px;
  border: 1px solid #2b2338;
  background: #161322;
  color: #fff;
  font-size: 0.85rem;
  outline: none;
  transition: border-color 0.3s;
}

.checkout-input:focus {
  border-color: #ff2a6d;
}

.checkout-actions {
  margin-top: 14px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.checkout-cancel {
  padding: 7px 13px;
  background: transparent;
  border-radius: 999px;
  border: 1px solid #3b3149;
  color: #d6cfea;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.3s;
}

.checkout-cancel:hover {
  border-color: #ff2a6d;
  color: #ff2a6d;
}

.checkout-pay {
  padding: 7px 16px;
  background: #ff2a6d;
  border-radius: 999px;
  border: none;
  color: #fff;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}

.checkout-pay:hover {
  background: #e0205f;
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(255, 42, 109, 0.5);
}

/* Add-to-cart toast (left bottom corner) */
.cart-toast {
  position: fixed;
  left: -400px;
  bottom: 20px;
  width: auto;
  min-width: 200px;
  max-width: 350px;
  padding: 12px 16px;
  background: rgba(12, 12, 16, 0.96);
  border-radius: 8px;
  border: 1px solid rgba(255, 42, 109, 0.7);
  color: #fff;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
  z-index: 12000;
  transition: left 0.35s ease;
}

.cart-toast.show {
  left: 20px;
}

.cart-toast-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ff2a6d;
  box-shadow: 0 0 8px #ff2a6d;
}

.cart-toast.error {
  border-color: #ffb02a;
}

.cart-toast.error .cart-toast-dot {
  background: #ffb02a;
  box-shadow: 0 0 8px #ffb02a;
}
  </style>
</head>
<body>
  <nav>
    <div class="logo">
      <img class="icon" src="images/tvicon.png" />
      <h3 class="name" >MoviesDen</h3>
    </div>

    <div class="navlinks">
      <a href="index.html">Home</a>
      <a href="movies.html">Movies</a>
      <a href="imax.html">IMAX</a>
      <a href="watch.html">Trailers</a>
    </div>

    <div class="icons" id="iconsContainer">
      <a id="cartIcon" class="cart-link" href="javascript:void(0)" onclick="(function(){const m=document.getElementById('cartModal'); if(m){m.classList.add('show'); if(typeof renderCartModal==='function') renderCartModal();}})();"><i class="fas fa-shopping-cart"></i> <span id="cartCount">0</span></a>
      <a id="bar" href="#">☰</a>
      <div class="search-input-wrapper">
        <input type="text" id="searchInput" class="searchInput" placeholder="Search movies..." />
      </div>
      <a id="search" href="#">🔍︎</a>
      <a id="accountLink" href="ubaid.html" class="account-link">
        <i class="fas fa-user" id="accountIcon"></i>
        <img id="profilePicture" src="" alt="Profile" class="profile-picture-nav" style="display: none;">
      </a>
    </div>
  </nav>

  <!-- Movie 1 -->
  <section class="movie-hero visible" id="movie1">
    <img src="images/dune.jpg" alt="Dune" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">Dune</h1>
      <div class="movie-meta">2021 - Sci-Fi/Epic - Film</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
      </div>
      <p class="movie-desc">
        Paul Atreides leads a rebellion to restore his family's reign over the desert planet Arrakis, the only source of the universe's most valuable substance.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
    </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'Dune')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 2 - Oppenheimer (Moved to 2nd) -->
  <section class="movie-hero" id="movie2">
    <img src="images/oppenheimer.png" alt="Oppenheimer" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title" style="word-break: break-word; overflow-wrap: break-word; white-space: normal;">Oppenheimer</h1>
      <div class="movie-meta">2023 - Biography/Thriller - Film</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        </div>
      <p class="movie-desc">
        The story of American scientist J. Robert Oppenheimer and his role in the development of the atomic bomb during World War II.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
      </div>
    </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'Oppenheimer')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 3 - Interstellar -->
  <section class="movie-hero" id="movie3">
    <img src="images/interstellar.jpg" alt="Interstellar" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">Interstellar</h1>
      <div class="movie-meta">2014 - Sci-Fi/Drama - Film</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon empty">★</span>
        </div>
      <p class="movie-desc">
        A team of explorers travel through a wormhole in space in an attempt to ensure humanity's survival. A journey beyond our solar system in search of a new home.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
        </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'Interstellar')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 4 - The Dark Knight (Moved to 4th) -->
  <section class="movie-hero" id="movie4">
    <img src="images/batman.jpg" alt="The Dark Knight" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">The Dark Knight</h1>
      <div class="movie-meta">2008 - Action/Thriller - Film</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
      </div>
      <p class="movie-desc">
        When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
    </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'The Dark Knight')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 5 -->
  <section class="movie-hero" id="movie5">
    <img src="images/squid.jpg" alt="Squid Game" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">Squid Game</h1>
      <div class="movie-meta">2021 - Thriller/Drama - Series</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon empty">★</span>
        </div>
      <p class="movie-desc">
        Hundreds of cash-strapped players accept a strange invitation to compete in children's games. Inside, a tempting prize awaits with deadly high stakes.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
        </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'Squid Game')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 6 -->
  <section class="movie-hero" id="movie6">
    <img src="images/moneyheist.jpg" alt="Money Heist" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">Money Heist</h1>
      <div class="movie-meta">2017-2021 - Crime/Thriller - Series</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
      </div>
      <p class="movie-desc">
        A criminal mastermind who goes by "The Professor" plans the biggest heist in history. To carry out the ambitious plan, he recruits eight people with certain abilities.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
    </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'Money Heist')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 7 -->
  <section class="movie-hero" id="movie7">
    <img src="images/kai.jpg" alt="All of Us Are Dead" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">Jujutsu Kaisen</h1>
      <div class="movie-meta">2021 - Action/Thriller - Series</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon empty">★</span>
        </div>
      <p class="movie-desc">
        A high school student gains supernatural powers to fight cursed spirits.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
        </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'Jujutsu Kaisen')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <!-- Movie 8 -->
  <section class="movie-hero" id="movie8">
    <img src="images/spiderverse.png" alt="The Wolverine" class="movie-bg" data-speed="0.5">
    <div class="movie-content">
      <h1 class="movie-title">Spidverse Beyond</h1>
      <div class="movie-meta">2025 - Action/Superhero - Film</div>
      <div class="movie-stars">
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
        <span class="star-icon">★</span>
      </div>
      <p class="movie-desc">
        Miles Morales returns in epic sequel.
      </p>
      <div class="movie-btns">
        <button class="movie-btn btn-buy"><i class="fas fa-ticket-alt"></i> BUY TICKET</button>
        <button class="movie-btn btn-shows">VIEW SHOWS</button>
    </div>
        </div>
    <button class="wishlist-btn" onclick="toggleWishlist(this, 'The Wolverine')">
      <i class="far fa-heart"></i>
    </button>
  </section>

  <div class="scroll-indicator">
    <span>Scroll to explore</span>
    <i class="fas fa-chevron-down"></i>
        </div>

  <!-- Navigation Arrows -->
  <div class="nav-arrows">
    <button class="nav-arrow-btn" id="prevBtn" onclick="navigateMovie(-1)">
      <i class="fas fa-chevron-up"></i>
    </button>
    <div class="movie-counter">
      <span id="currentMovie">1</span> / <span>8</span>
        </div>
    <button class="nav-arrow-btn" id="nextBtn" onclick="navigateMovie(1)">
      <i class="fas fa-chevron-down"></i>
    </button>
        </div>

  <!-- View Shows Modal -->
  <div id="viewShowsModal" class="view-shows-modal">
    <div class="view-shows-dialog">
      <div class="view-shows-header">
        <h3 id="viewShowsModalTitle">IMAX Shows</h3>
        <span class="close-view-shows" onclick="closeViewShowsModal()">×</span>
      </div>
      <div class="tabs-section">
        <div class="tabs">
          <button class="active">Today</button>
          <button>Tomorrow</button>
          <button>This Week</button>
    </div>
        <ul class="schedule" id="imaxSchedule">
          <!-- Shows will be populated here -->
        </ul>
        </div>
      <button class="view-shows-close-btn" onclick="closeViewShowsModal()">Close</button>
        </div>
        </div>

  <!-- Footer -->
  <footer class="footer" id="footer">

  <!-- Two small balls -->
  <div id="bubble1" class="jelly"></div>
  <div id="bubble2" class="jelly"></div>

  <div class="footer-content">
    <div class="footer-section">
      <h3>MovieDen</h3>
      <p>Your go-to anime & movie streaming platform.</p>
    </div>

    <div class="footer-section">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="movies.html">Movies</a></li>
        <li><a href="imax.html">IMAX</a></li>
        <li><a href="watch.html">Trailers</a></li>
        <li><a href="upcoming.html">Upcoming</a></li>
        <li><a href="awards,faq.html">Awards & FAQ</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h4>Company</h4>
      <ul>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact (1) (1).html">Contact Us</a></li>
        <li><a href="privacy (1).html">Privacy Policy</a></li>
        <li><a href="gallery.html">Gallery</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h4>Follow Us</h4>
      <ul class="social-icons">
        <li><a href="www.youtube.com" aria-label="YouTube" data-tooltip="YouTube">▶</a></li>
        <li><a href="www.instagram.com" aria-label="Instagram" data-tooltip="Instagram">🅾</a></li>
        <li><a href="www.twitter.com" aria-label="X (Twitter)" data-tooltip="X">𝕏</a></li>
        <li><a href="www.discord.com" aria-label="Discord" data-tooltip="Discord">💬</a></li>
      </ul>
    </div>
  </div>

  <p class="footer-bottom">© 2025 MovieDen — All rights reserved.</p>
</footer>

  <script>
    // Current movie index
    let currentMovieIndex = 0;
    const totalMovies = 8;
    const movieSections = document.querySelectorAll('.movie-hero');

    // Parallax Scrolling Effect - Improved
    let ticking = false;
    
    function updateParallax() {
      const scrolled = window.pageYOffset;
      const movieBgs = document.querySelectorAll('.movie-bg');
      
      movieBgs.forEach((bg, index) => {
        const section = bg.closest('.movie-hero');
        if (section) {
          const rect = section.getBoundingClientRect();
          const sectionTop = rect.top + window.pageYOffset;
          const sectionHeight = rect.height;
          const speed = parseFloat(bg.getAttribute('data-speed')) || 0.6;
          
          // Calculate viewport visibility
          const viewportTop = scrolled;
          const viewportBottom = scrolled + window.innerHeight;
          const sectionBottom = sectionTop + sectionHeight;
          
          // Only apply parallax when section is in viewport
          if (viewportBottom > sectionTop && viewportTop < sectionBottom) {
            const progress = (scrolled - sectionTop + window.innerHeight) / (sectionHeight + window.innerHeight);
            const yPos = (scrolled - sectionTop) * speed;
            
            // Enhanced parallax with scale effect
            const scale = 1 + (Math.abs(progress - 0.5) * 0.1);
            bg.style.transform = `translate3d(0, ${yPos}px, 0) scale(${scale})`;
            
            // Smooth fade effect based on scroll position
            const fadeProgress = Math.max(0, Math.min(1, progress));
            const opacity = 0.4 + (Math.sin(fadeProgress * Math.PI) * 0.6);
            bg.style.opacity = opacity;
          }
        }
      });
      
      ticking = false;
    }
    
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(updateParallax);
        ticking = true;
      }
      updateCurrentMovie();
    });
    
    // Initial call
    updateParallax();

    // Update current movie based on scroll position
    function updateCurrentMovie() {
      const scrollPosition = window.pageYOffset + window.innerHeight / 2;
      
      movieSections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = rect.top + window.pageYOffset;
        const sectionBottom = sectionTop + rect.height;
        
        if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
          if (currentMovieIndex !== index) {
            currentMovieIndex = index;
            updateMovieCounter();
            updateNavButtons();
            
            // Fade transition
            section.classList.remove('fade-out');
            section.classList.add('visible');
            
            // Fade out other sections
            movieSections.forEach((s, i) => {
              if (i !== index) {
                s.classList.add('fade-out');
                setTimeout(() => s.classList.remove('visible'), 300);
              }
            });
          }
        }
      });
    }

    // Auto-scroll snap - prevents stopping in between
    let isScrolling = false;
    let scrollTimeout;

    function snapToSection() {
      if (isScrolling) return;
      
      const scrollPosition = window.pageYOffset;
      const viewportCenter = scrollPosition + window.innerHeight / 2;
      
      let closestSection = null;
      let closestDistance = Infinity;
      
      movieSections.forEach((section) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = rect.top + window.pageYOffset;
        const sectionCenter = sectionTop + rect.height / 2;
        const distance = Math.abs(viewportCenter - sectionCenter);
        
        if (distance < closestDistance) {
          closestDistance = distance;
          closestSection = section;
        }
      });
      
      if (closestSection && closestDistance > 50) {
        isScrolling = true;
        closestSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        setTimeout(() => {
          isScrolling = false;
        }, 800);
      }
    }

    // Throttled scroll handler
    let scrollThrottle;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(updateParallax);
        ticking = true;
      }
      
      clearTimeout(scrollThrottle);
      scrollThrottle = setTimeout(() => {
        if (!isScrolling) {
          snapToSection();
        }
      }, 150);
      
      updateCurrentMovie();
    }, { passive: true });

    // Navigation function - improved
    function navigateMovie(direction) {
      const newIndex = currentMovieIndex + direction;
      
      if (newIndex >= 0 && newIndex < totalMovies) {
        isScrolling = true;
        
        // Fade out current content
        const currentContent = movieSections[currentMovieIndex].querySelector('.movie-content');
        if (currentContent) {
          currentContent.style.opacity = '0';
          currentContent.style.transform = 'translateY(-30px)';
        }
        
        currentMovieIndex = newIndex;
        movieSections[currentMovieIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        // Wait for scroll to complete, then fade in
        setTimeout(() => {
          movieSections[currentMovieIndex].classList.remove('fade-out');
          movieSections[currentMovieIndex].classList.add('visible');
          
          const newContent = movieSections[currentMovieIndex].querySelector('.movie-content');
          if (newContent) {
            newContent.style.opacity = '0';
            newContent.style.transform = 'translateY(30px)';
            
            // Animate content elements with stagger
            setTimeout(() => {
              newContent.style.opacity = '1';
              newContent.style.transform = 'translateY(0)';
              
              const children = newContent.children;
              Array.from(children).forEach((child, index) => {
                child.style.opacity = '0';
                child.style.transform = 'translateY(30px)';
                setTimeout(() => {
                  child.style.opacity = '1';
                  child.style.transform = 'translateY(0)';
                }, index * 100);
              });
            }, 100);
          }
          
          updateMovieCounter();
          updateNavButtons();
          isScrolling = false;
        }, 600);
      }
    }

    // Update movie counter
    function updateMovieCounter() {
      const counter = document.getElementById('currentMovie');
      if (counter) {
        counter.textContent = currentMovieIndex + 1;
      }
    }

    // Update navigation buttons
    function updateNavButtons() {
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      
      if (prevBtn) {
        prevBtn.disabled = currentMovieIndex === 0;
      }
      if (nextBtn) {
        nextBtn.disabled = currentMovieIndex === totalMovies - 1;
      }
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowUp') {
        navigateMovie(-1);
      } else if (e.key === 'ArrowDown') {
        navigateMovie(1);
      }
    });

    // Intersection Observer for Scroll Animations - Enhanced
    const observerOptions = {
      threshold: [0, 0.3, 0.6, 1],
      rootMargin: '0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && entry.intersectionRatio >= 0.3) {
          entry.target.classList.add('visible');
          entry.target.classList.remove('fade-out');
          
          // Animate content with delay after section is reached
          const content = entry.target.querySelector('.movie-content');
          if (content && !content.classList.contains('animated')) {
            content.classList.add('animated');
            
            // Reset all children
            const children = content.children;
            Array.from(children).forEach(child => {
              child.style.opacity = '0';
              child.style.transform = 'translateY(50px)';
            });
            
            // Fade in content container first
            setTimeout(() => {
              content.style.opacity = '1';
              content.style.transform = 'translateY(0)';
              
              // Then animate children with stagger
              Array.from(children).forEach((child, index) => {
                setTimeout(() => {
                  child.style.opacity = '1';
                  child.style.transform = 'translateY(0)';
                  child.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
                }, 200 + (index * 150));
              });
            }, 300);
          }
          
          // Animate background image
          const bg = entry.target.querySelector('.movie-bg');
          if (bg) {
            bg.style.animation = 'imageFadeIn 1s ease-out';
          }
        } else if (entry.intersectionRatio < 0.2) {
          entry.target.classList.remove('visible');
          const content = entry.target.querySelector('.movie-content');
          if (content) {
            content.classList.remove('animated');
          }
        }
      });
    }, observerOptions);

    // Observe all movie sections
    movieSections.forEach(section => {
      observer.observe(section);
    });

    // Animate first section on load
    window.addEventListener('load', () => {
      const firstSection = document.querySelector('.movie-hero.visible');
      if (firstSection) {
        const content = firstSection.querySelector('.movie-content');
        if (content) {
          const children = content.children;
          Array.from(children).forEach((child, index) => {
            child.style.opacity = '0';
            child.style.transform = 'translateY(30px)';
            child.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
            setTimeout(() => {
              child.style.opacity = '1';
              child.style.transform = 'translateY(0)';
            }, 300 + (index * 150));
          });
        }
        
        // Animate background
        const bg = firstSection.querySelector('.movie-bg');
        if (bg) {
          bg.style.animation = 'imageFadeIn 1s ease-out';
        }
      }
      
      // Initialize navigation
      updateMovieCounter();
      updateNavButtons();
    });

    // Mobile Nav
    const burgerBtn = document.getElementById("bar");
    const navLinksEl = document.querySelector(".navlinks");

    if (burgerBtn && navLinksEl) {
      burgerBtn.addEventListener("click", (e) => {
        e.preventDefault();
        navLinksEl.classList.toggle("show");
      });

      navLinksEl.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          navLinksEl.classList.remove("show");
        });
      });
    }

    // Search Functionality
    const searchBtn = document.getElementById("search");
    const iconsContainer = document.getElementById("iconsContainer");
    const searchInput = document.getElementById("searchInput");

    if (searchBtn && iconsContainer) {
      searchBtn.addEventListener("click", (e) => {
        e.preventDefault();
        iconsContainer.classList.toggle("search-expanded");
        
        if (iconsContainer.classList.contains("search-expanded")) {
          setTimeout(() => {
            if (searchInput) searchInput.focus();
          }, 200);
        }
      });
    }

    document.addEventListener("click", (e) => {
      if (iconsContainer && iconsContainer.classList.contains("search-expanded")) {
        if (!iconsContainer.contains(e.target) && e.target.id !== "search") {
          iconsContainer.classList.remove("search-expanded");
          if (searchInput) searchInput.value = "";
        }
      }
    });

    if (searchInput) {
      searchInput.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          iconsContainer.classList.remove("search-expanded");
          searchInput.value = "";
        }
      });
    }

    // Check if user is logged in
    function isLoggedIn() {
      return localStorage.getItem('isLoggedIn') === 'true' && localStorage.getItem('currentUser');
    }

    // Show login required popup
    function showLoginPopup() {
      // Create popup if it doesn't exist
      let popup = document.getElementById('loginPopup');
      if (!popup) {
        popup = document.createElement('div');
        popup.id = 'loginPopup';
        popup.className = 'cartModal';
        
        const popupContent = document.createElement('div');
        popupContent.className = 'cartModalDialog';
        
        popupContent.innerHTML = `
          <div class="cartModalHeader">
            <h2>Login Required</h2>
            <div class="cartModalClose">×</div>
          </div>
          <div class="cartModalBody" style="padding: 30px; text-align: center;">
            <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 30px; line-height: 1.6; font-size: 1.1rem;">
              You need to have an account to perform this action. Go to sign in page to register or login.
            </p>
            <div style="display: flex; gap: 15px; justify-content: center;">
              <button id="loginBtn" class="add-cart-btn">
                <i class="fas fa-sign-in-alt"></i> Login Now
              </button>
              <button id="cancelBtn" class="add-cart-btn" style="background: transparent; border: 2px solid rgba(255, 255, 255, 0.3);">
                Cancel
              </button>
            </div>
          </div>
        `;
        
        popup.appendChild(popupContent);
        document.body.appendChild(popup);
        
        // Add event listeners
        popup.querySelector('#loginBtn').addEventListener('click', function() {
          window.location.href = 'ubaid.html';
        });
        
        popup.querySelector('#cancelBtn').addEventListener('click', function() {
          popup.classList.remove('show');
        });
        
        // Add hover effects to buttons
        const loginBtn = popup.querySelector('#loginBtn');
        const cancelBtn = popup.querySelector('#cancelBtn');
        
        loginBtn.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-3px) scale(1.05)';
          this.style.boxShadow = '0 10px 30px rgba(255, 42, 109, 0.5)';
          this.style.background = 'linear-gradient(135deg, #ff2a6d, #ff5a8d)';
        });
        
        loginBtn.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0) scale(1)';
          this.style.boxShadow = 'none';
          this.style.background = 'linear-gradient(135deg, #ff2a6d, #ff5a8d)';
        });
        
        cancelBtn.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-3px) scale(1.05)';
          this.style.boxShadow = '0 10px 30px rgba(255, 255, 255, 0.2)';
          this.style.borderColor = 'rgba(255, 255, 255, 0.5)';
        });
        
        cancelBtn.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0) scale(1)';
          this.style.boxShadow = 'none';
          this.style.borderColor = 'rgba(255, 255, 255, 0.3)';
        });
        
        // Close on backdrop click or close button
        popup.addEventListener('click', function(e) {
          if (e.target === popup || e.target.classList.contains('cartModalClose')) {
            popup.classList.remove('show');
          }
        });
      }
      
      // Show popup with animation
      popup.classList.add('show');
    }

    // Wishlist Toggle
    function toggleWishlist(btn, movieTitle) {
      // Check if user is logged in
      if (!isLoggedIn()) {
        showLoginPopup();
        return;
      }
      
      btn.classList.toggle('active');
      const icon = btn.querySelector('i');
      
      if (btn.classList.contains('active')) {
        icon.classList.remove('far');
        icon.classList.add('fas');
        showToast(movieTitle + ' added to wishlist');
      } else {
        icon.classList.remove('fas');
        icon.classList.add('far');
        showToast(movieTitle + ' removed from wishlist');
      }
    }

    // Toast Notification
    function showToast(message) {
      const toast = document.createElement('div');
      toast.style.cssText = `
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        border: 1px solid rgba(255, 42, 109, 0.4);
        z-index: 10000;
        font-size: 14px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 25px rgba(255, 42, 109, 0.3);
        animation: slideUp 0.3s ease;
      `;
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideDown 0.3s ease';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // Hide scroll indicator after first scroll
    let hasScrolled = false;
    window.addEventListener('scroll', () => {
      if (!hasScrolled && window.pageYOffset > 100) {
        hasScrolled = true;
        document.querySelector('.scroll-indicator').style.opacity = '0';
        setTimeout(() => {
          document.querySelector('.scroll-indicator').style.display = 'none';
        }, 300);
      }
    });

    // Movie show times data
    const movieShows = {
      'Dune': [
        { time: '10:00 AM', screen: 'IMAX Screen 1', seats: 45 },
        { time: '1:30 PM', screen: 'IMAX Screen 2', seats: 38 },
        { time: '4:00 PM', screen: 'IMAX Screen 1', seats: 52 },
        { time: '7:30 PM', screen: 'IMAX Screen 3', seats: 28 },
        { time: '10:00 PM', screen: 'IMAX Screen 1', seats: 15 }
      ],
      'The Dark Knight': [
        { time: '11:00 AM', screen: 'IMAX Screen 2', seats: 42 },
        { time: '2:30 PM', screen: 'IMAX Screen 1', seats: 35 },
        { time: '5:00 PM', screen: 'IMAX Screen 3', seats: 48 },
        { time: '8:30 PM', screen: 'IMAX Screen 2', seats: 22 },
        { time: '11:30 PM', screen: 'IMAX Screen 1', seats: 18 }
      ],
      'Interstellar': [
        { time: '9:30 AM', screen: 'IMAX Screen 3', seats: 50 },
        { time: '12:30 PM', screen: 'IMAX Screen 1', seats: 40 },
        { time: '3:30 PM', screen: 'IMAX Screen 2', seats: 33 },
        { time: '6:30 PM', screen: 'IMAX Screen 1', seats: 25 },
        { time: '9:30 PM', screen: 'IMAX Screen 3', seats: 20 }
      ],
      'Oppenheimer': [
        { time: '10:30 AM', screen: 'IMAX Screen 1', seats: 48 },
        { time: '1:00 PM', screen: 'IMAX Screen 3', seats: 41 },
        { time: '4:30 PM', screen: 'IMAX Screen 2', seats: 36 },
        { time: '7:00 PM', screen: 'IMAX Screen 1', seats: 30 },
        { time: '10:30 PM', screen: 'IMAX Screen 2', seats: 12 }
      ],
      'Squid Game': [
        { time: '11:30 AM', screen: 'IMAX Screen 2', seats: 44 },
        { time: '2:00 PM', screen: 'IMAX Screen 3', seats: 37 },
        { time: '5:30 PM', screen: 'IMAX Screen 1', seats: 29 },
        { time: '8:00 PM', screen: 'IMAX Screen 2', seats: 24 },
        { time: '11:00 PM', screen: 'IMAX Screen 3', seats: 16 }
      ],
      'Money Heist': [
        { time: '9:00 AM', screen: 'IMAX Screen 1', seats: 46 },
        { time: '12:00 PM', screen: 'IMAX Screen 2', seats: 39 },
        { time: '3:00 PM', screen: 'IMAX Screen 3', seats: 43 },
        { time: '6:00 PM', screen: 'IMAX Screen 1', seats: 31 },
        { time: '9:00 PM', screen: 'IMAX Screen 2', seats: 19 }
      ],
      'All of Us Are Dead': [
        { time: '10:15 AM', screen: 'IMAX Screen 3', seats: 47 },
        { time: '1:15 PM', screen: 'IMAX Screen 1', seats: 40 },
        { time: '4:15 PM', screen: 'IMAX Screen 2', seats: 34 },
        { time: '7:15 PM', screen: 'IMAX Screen 3', seats: 27 },
        { time: '10:15 PM', screen: 'IMAX Screen 1', seats: 14 }
      ],
      'The Wolverine': [
        { time: '11:15 AM', screen: 'IMAX Screen 1', seats: 49 },
        { time: '2:15 PM', screen: 'IMAX Screen 3', seats: 42 },
        { time: '5:15 PM', screen: 'IMAX Screen 2', seats: 35 },
        { time: '8:15 PM', screen: 'IMAX Screen 1', seats: 26 },
        { time: '11:15 PM', screen: 'IMAX Screen 3', seats: 17 }
      ]
    };

    // Open View Shows Modal
    function openViewShowsModal(movieTitle) {
      const modal = document.getElementById('viewShowsModal');
      const modalTitle = document.getElementById('viewShowsModalTitle');
      const scheduleList = document.getElementById('imaxSchedule');
      
      if (!modal || !modalTitle || !scheduleList) return;
      
      modalTitle.textContent = `IMAX Shows - ${movieTitle}`;
      scheduleList.innerHTML = '';
      
      const shows = movieShows[movieTitle] || [];
      
      if (shows.length === 0) {
        scheduleList.innerHTML = '<li style="text-align: center; padding: 20px;">No shows available</li>';
      } else {
        shows.forEach(show => {
          const li = document.createElement('li');
          li.innerHTML = `
            <span>${show.time}</span> ${movieTitle}<br>
            <small>${show.screen} - Available seats: ${show.seats}</small>
          `;
          scheduleList.appendChild(li);
        });
      }
      
      modal.classList.add('show');
    }

    // Close View Shows Modal
    function closeViewShowsModal() {
      const modal = document.getElementById('viewShowsModal');
      if (modal) {
        modal.classList.remove('show');
      }
    }

    // Close modal when clicking outside
    document.getElementById('viewShowsModal')?.addEventListener('click', function(e) {
      if (e.target === this) {
        closeViewShowsModal();
      }
    });

    // Close modal on ESC key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeViewShowsModal();
      }
    });

    // Attach View Shows button handlers
    document.querySelectorAll('.btn-shows').forEach(btn => {
      btn.addEventListener('click', function() {
        const currentSection = this.closest('.movie-hero');
        const movieTitle = currentSection.querySelector('.movie-title').textContent.trim();
        openViewShowsModal(movieTitle);
      });
    });

    // Cart functionality
    let cartCount = 0;
    let cartItems = [];

    // Map movie titles to their specific image files
    function getMovieImagePath(title) {
      const imageMap = {
        'Dune': 'images/dune.jpg',
        'Oppenheimer': 'images/oppenheimer.png',
        'Interstellar': 'images/interstellar.jpg',
        'The Dark Knight': 'images/batman.jpg',
        'Squid Game': 'images/squid.jpg',
        'Money Heist': 'images/moneyheist.jpg',
        'Jujutsu Kaisen': 'images/jujutsu.jpg',
        'Spidverse Beyond': 'images/spidey.jpg'
      };
      return imageMap[title] || '';
    }

    // Normalize image paths to ensure they point to the `images/` folder
    function normalizeImagePath(p) {
      if (!p) return '';
      // Keep absolute URLs as-is
      if (p.startsWith('http') || p.startsWith('//')) return p;
      // If the path already contains 'images/', return the substring starting at that folder
      const idx = p.indexOf('images/');
      if (idx !== -1) return p.slice(idx);
      // Strip leading ./ or / characters
      p = p.replace(/^[./\\]+/, '');
      if (p.startsWith('images/')) return p;
      return 'images/' + p;
    }

    // Initialize cart from localStorage on page load
    function initializeCart() {
      const currentUser = localStorage.getItem('currentUser');
      
      // Try to get cart from localStorage
      const possibleKeys = [
        'cartItems',
        'cart_' + currentUser,
        'shoppingCart',
        'userCart',
        'movieCart'
      ];
      
      for (const key of possibleKeys) {
        const stored = localStorage.getItem(key);
        if (stored) {
          try {
            const parsed = JSON.parse(stored);
            if (Array.isArray(parsed) && parsed.length > 0) {
              // Normalize any image paths before using
              cartItems = parsed.map(it => {
                try {
                  if (it && typeof it === 'object') {
                    return Object.assign({}, it, { img: normalizeImagePath(it.img || '') });
                  }
                } catch(e) {}
                return it;
              });
              cartCount = cartItems.length;
              break;
            }
          } catch(e) {
            console.error('Error parsing cart from ' + key + ':', e);
          }
        }
      }
      
      // Update display
      updateCartDisplay();
      renderCartModal();
    }

    function updateCartDisplay() {
      // Update cart count - try multiple selectors
      const cartCountEl = document.getElementById("cartCount");
      if (cartCountEl) {
        cartCountEl.textContent = cartCount;
        // Show/hide badge based on count
        if (cartCount > 0) {
          cartCountEl.style.display = 'inline';
        } else {
          cartCountEl.style.display = 'inline';
        }
      }
      
      // Also update all cart count spans
      document.querySelectorAll('#cartCount').forEach(el => {
        el.textContent = cartCount;
      });
    }

    function showCartToast(message) {
      const toast = document.getElementById("cartToast");
      const textEl = document.getElementById("cartToastText");
      if (!toast || !textEl) {
        // Fallback to showToast if cart toast doesn't exist
        if (typeof showToast === 'function') {
          showToast(message);
        }
        return;
      }

      textEl.textContent = message;
      toast.classList.remove("error");
      toast.classList.add("show");
      setTimeout(() => {
        toast.classList.remove("show");
      }, 1800);
    }

    function renderCartModal() {
      const listEl = document.getElementById("cartItemsList");
      if (!listEl) return;

      listEl.innerHTML = "";

      if (cartItems.length === 0) {
        const empty = document.createElement("div");
        empty.className = "cartEmpty";
        empty.innerHTML = '<div class="cartEmptyIcon">🛒</div><p>Your cart is empty.</p>';
        listEl.appendChild(empty);

        const summaryEl = document.getElementById("cartSummary");
        const checkoutBtn = document.getElementById("checkoutBtn");
        if (summaryEl) summaryEl.textContent = "0 items";
        if (checkoutBtn) checkoutBtn.disabled = true;
        return;
      }

      cartItems.forEach((itemData, index) => {
        const item = document.createElement("div");
        item.className = "cartItem";

        const img = document.createElement("img");
        // Use cardImage first, then img, then image, then getMovieImagePath
        let imgSrc = itemData.cardImage || itemData.img || itemData.image || itemData.src || "";
        
        // Normalize image path
        if (imgSrc) {
          // If it's already a full path with images/, use as is
          if (imgSrc.includes("images/")) {
            // Already has images/ prefix, check if valid
            if (imgSrc.toLowerCase().includes("tvicon")) {
              imgSrc = "";
            }
          } else if (imgSrc.includes("/")) {
            // Has path but no images/ - extract filename
            const filename = imgSrc.split("/").pop().split("\\").pop();
            if (filename && !filename.toLowerCase().includes("tvicon") && 
                (filename.toLowerCase().includes(".jpg") || 
                 filename.toLowerCase().includes(".png") || 
                 filename.toLowerCase().includes(".jpeg") ||
                 filename.toLowerCase().includes(".webp"))) {
              imgSrc = "images/" + filename;
            } else {
              imgSrc = ""; // Reset if invalid
            }
          } else {
            // Just filename, add images/ prefix
            if (!imgSrc.toLowerCase().includes("tvicon") && 
                (imgSrc.toLowerCase().includes(".jpg") || 
                 imgSrc.toLowerCase().includes(".png") || 
                 imgSrc.toLowerCase().includes(".jpeg") ||
                 imgSrc.toLowerCase().includes(".webp"))) {
              imgSrc = "images/" + imgSrc;
            } else {
              imgSrc = ""; // Reset if invalid
            }
          }
        }
        
        // If still no valid image, try to get from title using getMovieImagePath if available
        if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
          if (typeof getMovieImagePath === 'function') {
            imgSrc = getMovieImagePath(itemData.title);
          }
          // If still no image, use default
          if (!imgSrc || imgSrc.toLowerCase().includes("tvicon")) {
            imgSrc = "images/dune.jpg";
          }
        }
        
        img.src = imgSrc;
        img.alt = itemData.title;
        img.className = "cartItemImage";

        const content = document.createElement("div");
        content.className = "cartItemContent";

        const titleEl = document.createElement("div");
        titleEl.className = "cartItemTitle";
        titleEl.textContent = itemData.title;

        const subtitleEl = document.createElement("div");
        subtitleEl.className = "cartItemSubtitle";
        subtitleEl.textContent = "IMAX Ticket";

        content.appendChild(titleEl);
        content.appendChild(subtitleEl);

        const removeBtn = document.createElement("button");
        removeBtn.className = "cartItemRemove";
        removeBtn.innerHTML = "×";
        removeBtn.title = "Remove from cart";
        removeBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          cartItems.splice(index, 1);
          cartCount = cartItems.length;
          updateCartDisplay();
          renderCartModal();
          showCartToast("Item removed from cart");
          
          // Update localStorage
          localStorage.setItem('cartItems', JSON.stringify(cartItems));
          const currentUser = localStorage.getItem('currentUser');
          if (currentUser) {
            localStorage.setItem('cart_' + currentUser, JSON.stringify(cartItems));
          }
        });

        item.appendChild(img);
        item.appendChild(content);
        item.appendChild(removeBtn);

        listEl.appendChild(item);
      });

      const summaryEl = document.getElementById("cartSummary");
      const checkoutBtn = document.getElementById("checkoutBtn");
      if (summaryEl) {
        const count = cartItems.length;
        summaryEl.textContent = `${count} item${count === 1 ? "" : "s"}`;
      }
      if (checkoutBtn) checkoutBtn.disabled = cartItems.length === 0;
    }

    // Attach Buy Ticket button handlers (only once to prevent double-add)
    let cartHandlersAttached = false;
    function attachCartHandlers() {
      if (cartHandlersAttached) return;
      cartHandlersAttached = true;
      
      document.querySelectorAll('.btn-buy').forEach(btn => {
        // Remove any existing listeners by cloning the button
        const newBtn = btn.cloneNode(true);
        btn.parentNode.replaceChild(newBtn, btn);
        
        newBtn.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
          
          // Check if user is logged in
          if (!isLoggedIn()) {
            showLoginPopup();
            return;
          }
          
          const currentSection = this.closest('.movie-hero');
          if (!currentSection) return;
          
          const movieTitle = currentSection.querySelector('.movie-title')?.textContent.trim();
          const imgEl = currentSection.querySelector('.movie-bg');
          // Use the original attribute value when possible and normalize to images/
          const rawSrc = imgEl ? (imgEl.getAttribute('src') || imgEl.src || '') : '';
          const imgSrc = normalizeImagePath(rawSrc);

          if (movieTitle) {
            cartItems.push({ title: movieTitle, img: imgSrc });
            cartCount = cartItems.length;
            updateCartDisplay();
            renderCartModal();
            showCartToast(`${movieTitle} added to cart`);
            
            // Save to localStorage
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
              localStorage.setItem('cart_' + currentUser, JSON.stringify(cartItems));
            }
          }
          return false;
        }, true);
      });
    }
    
    // Initialize cart handlers and load cart from localStorage
    function initCart() {
      initializeCart();
      attachCartHandlers();
    }
    
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", initCart);
    } else {
      initCart();
    }

    // Cart modal handlers are initialized in a separate script block after the modal HTML
  </script>

  <style>
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }

    @keyframes slideDown {
      from {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
      to {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
      }
    }
  </style>

  <!-- Cart Modal -->
  <div id="cartModal" class="cartModal">
    <div class="cartModalDialog">
      <div class="cartModalHeader">
        <h2>🛒 Shopping Cart</h2>
        <div id="cartModalClose" class="cartModalClose">×</div>
      </div>
      <div class="cartModalBody">
        <div id="cartItemsList" class="cartItemsList">
          <div class="cartEmpty">
            <div class="cartEmptyIcon">🛒</div>
            <p>Your cart is empty.</p>
          </div>
        </div>
      </div>
      <div class="cartModalFooter">
        <span id="cartSummary" class="cartSummary">0 items</span>
        <button id="checkoutBtn" class="checkout-btn" disabled>Checkout</button>
      </div>
    </div>
  </div>

  <!-- Add-to-cart Toast -->
  <div id="cartToast" class="cart-toast">
    <div class="cart-toast-dot"></div>
    <span id="cartToastText">Item added to cart</span>
  </div>

  <!-- Checkout Modal -->
  <div id="checkoutModal" class="checkout-modal">
    <div class="checkout-dialog">
      <h3>Checkout</h3>
      <p>Enter your details to complete the purchase. (Demo only — no real payment.)</p>

      <div>
        <div class="checkout-label">Full Name</div>
        <input id="checkoutName" type="text" class="checkout-input" placeholder="John Doe" />
      </div>

      <div style="margin-top:8px;">
        <div class="checkout-label">Email</div>
        <input id="checkoutEmail" type="email" class="checkout-input" placeholder="you@example.com" />
      </div>

      <div style="margin-top:10px;">
        <div class="checkout-label">Card Number</div>
        <input id="checkoutCard" type="text" class="checkout-input" placeholder="1234 5678 9012 3456" />
      </div>

      <div class="checkout-row" style="margin-top:8px;">
        <div style="flex:1;">
          <div class="checkout-label">Expiry</div>
          <input id="checkoutExpiry" type="text" class="checkout-input" placeholder="MM/YY" />
        </div>
        <div style="flex:1;">
          <div class="checkout-label">CVV</div>
          <input id="checkoutCvv" type="password" class="checkout-input" placeholder="123" />
        </div>
      </div>

      <div style="margin-top:8px;">
        <div class="checkout-label">Billing Address</div>
        <input id="checkoutAddress" type="text" class="checkout-input" placeholder="Street, City, Country" />
      </div>

      <div class="checkout-actions">
        <button id="checkoutCancel" class="checkout-cancel">Cancel</button>
        <button id="checkoutPay" class="checkout-pay">Pay Now</button>
      </div>
    </div>
  </div>

  <script>
    // Initialize cart modal handlers after modal HTML exists
    (function() {
      function initCartModalHandlers() {
        const cartIcon = document.getElementById("cartIcon");
        const cartModal = document.getElementById("cartModal");
        const cartModalClose = document.getElementById("cartModalClose");

        if (!cartIcon || !cartModal) {
          return;
        }

        // Remove any existing event listeners by cloning
        const newCartIcon = cartIcon.cloneNode(true);
        // The clone already contains the cartCount span, so we don't need to add another one
        cartIcon.parentNode.replaceChild(newCartIcon, cartIcon);

        newCartIcon.addEventListener("click", function(e) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
          const modal = document.getElementById("cartModal");
          if (modal) {
            modal.classList.add("show");
            if (typeof renderCartModal === 'function') {
              renderCartModal();
            }
          }
          return false;
        }, true);

        if (cartModalClose) {
          cartModalClose.addEventListener("click", () => {
            cartModal.classList.remove("show");
          });
        }

        // Close cart modal when clicking outside
        cartModal.addEventListener("click", (e) => {
          if (e.target === cartModal) {
            cartModal.classList.remove("show");
          }
        });

        // Checkout button handler
        const checkoutBtn = document.getElementById("checkoutBtn");
        const checkoutModal = document.getElementById("checkoutModal");
        const checkoutCancel = document.getElementById("checkoutCancel");
        const checkoutPay = document.getElementById("checkoutPay");
        const nameInput = document.getElementById("checkoutName");
        const emailInput = document.getElementById("checkoutEmail");
        const cardInput = document.getElementById("checkoutCard");
        const expiryInput = document.getElementById("checkoutExpiry");
        const cvvInput = document.getElementById("checkoutCvv");
        const addressInput = document.getElementById("checkoutAddress");

        if (checkoutBtn && checkoutModal) {
          checkoutBtn.addEventListener("click", () => {
            if (cartItems.length === 0) return;
            checkoutModal.classList.add("show");
            cartModal.classList.remove("show");
          });
        }

        if (checkoutCancel && checkoutModal) {
          checkoutCancel.addEventListener("click", () => {
            checkoutModal.classList.remove("show");
          });
        }

        if (checkoutPay && checkoutModal) {
          checkoutPay.addEventListener("click", () => {
            // Basic form validation
            const name = nameInput ? nameInput.value.trim() : "";
            const email = emailInput ? emailInput.value.trim() : "";
            const card = cardInput ? cardInput.value.replace(/\s+/g, "") : "";
            const expiry = expiryInput ? expiryInput.value.trim() : "";
            const cvv = cvvInput ? cvvInput.value.trim() : "";
            const address = addressInput ? addressInput.value.trim() : "";

            if (!name || !email || !card || !expiry || !cvv || !address) {
              showCartToast("Please fill in all fields before paying.");
              return;
            }

            const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            if (!emailOk) {
              showCartToast("Please enter a valid email address.");
              return;
            }

            const cardOk = /^\d{16}$/.test(card);
            if (!cardOk) {
              showCartToast("Enter a valid 16-digit card number (numbers only).");
              return;
            }

            const cvvOk = /^\d{3,4}$/.test(cvv);
            if (!cvvOk) {
              showCartToast("Please enter a valid CVV (3–4 digits).");
              return;
            }

            const expMatch = expiry.match(/^(\d{2})\/(\d{2})$/);
            if (!expMatch) {
              showCartToast("Please enter expiry in MM/YY format.");
              return;
            }
            const expMonth = parseInt(expMatch[1], 10);
            const expYear = 2000 + parseInt(expMatch[2], 10);
            if (expMonth < 1 || expMonth > 12) {
              showCartToast("Please enter a valid expiry month (01–12).");
              return;
            }
            const now = new Date();
            const expDate = new Date(expYear, expMonth);
            if (expDate <= now) {
              showCartToast("This card appears expired. Please use a valid card.");
              return;
            }

            // Save bookings before clearing cart
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser && cartItems.length > 0) {
              let bookedItems = [];
              
              // Load existing bookings
              const storedBookings = localStorage.getItem('bookings_' + currentUser);
              if (storedBookings) {
                try {
                  bookedItems = JSON.parse(storedBookings);
                } catch(e) {
                  console.error('Error parsing bookings:', e);
                }
              }
              
              // Add current cart items to bookings
              const timestamp = new Date().toISOString();
              cartItems.forEach(item => {
                const showDate = new Date();
                showDate.setDate(showDate.getDate() + 7);
                
                const booking = {
                  ...item,
                  bookingId: 'BK' + Date.now() + Math.floor(Math.random() * 1000),
                  bookingDate: timestamp,
                  showDate: showDate.toISOString(),
                  status: 'Confirmed',
                  totalAmount: item.price || 9.99,
                  ticketCount: 1,
                  image: item.img || item.cardImage || 'images/dune.jpg'
                };
                bookedItems.push(booking);
              });
              
              // Save bookings to localStorage
              localStorage.setItem('bookings_' + currentUser, JSON.stringify(bookedItems));
              console.log('Bookings saved:', bookedItems);
            }
            
            // Simple demo "success" flow after validation
            showCartToast("Payment successful! Your tickets have been booked.");
            checkoutModal.classList.remove("show");
            
            // Clear cart after successful payment
            cartItems = [];
            cartCount = 0;
            updateCartDisplay();
            renderCartModal();
            
            // Clear localStorage
            localStorage.setItem('cartItems', JSON.stringify([]));
            if (currentUser) {
              localStorage.setItem('cart_' + currentUser, JSON.stringify([]));
            }
            
            // Clear form
            if (nameInput) nameInput.value = "";
            if (emailInput) emailInput.value = "";
            if (cardInput) cardInput.value = "";
            if (expiryInput) expiryInput.value = "";
            if (cvvInput) cvvInput.value = "";
            if (addressInput) addressInput.value = "";
          });
        }

        // Close checkout modal when clicking outside
        if (checkoutModal) {
          checkoutModal.addEventListener("click", (e) => {
            if (e.target === checkoutModal) {
              checkoutModal.classList.remove("show");
            }
          });
        }
      }

      // Initialize immediately since modal HTML is now above this script
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initCartModalHandlers);
      } else {
        initCartModalHandlers();
      }
    })();
  </script>

  <!-- Sliding navbar background effect -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const navlinks = document.querySelector('.navlinks');
      if (navlinks) {
        const navItems = navlinks.querySelectorAll('a');
        let slidingBg = navlinks.querySelector('.sliding-bg');
        
        // Create sliding background element if it doesn't exist
        if (!slidingBg) {
          slidingBg = document.createElement('div');
          slidingBg.className = 'sliding-bg';
          navlinks.appendChild(slidingBg);
        }
        
        navItems.forEach((item, index) => {
          item.addEventListener('mouseenter', function() {
            const itemRect = this.getBoundingClientRect();
            const navRect = navlinks.getBoundingClientRect();
            const left = itemRect.left - navRect.left;
            const width = itemRect.width;
            
            slidingBg.style.left = left + 'px';
            slidingBg.style.width = width + 'px';
            slidingBg.style.opacity = '1';
          });
          
          item.addEventListener('mouseleave', function() {
            // Don't hide immediately, let it stay for smooth transition
            setTimeout(() => {
              if (!navlinks.matches(':hover')) {
                slidingBg.style.opacity = '0';
              }
            }, 100);
          });
        });
        
        // Hide when leaving navlinks container
        navlinks.addEventListener('mouseleave', function() {
          slidingBg.style.opacity = '0';
        });
      }
    });
  </script>

  <!-- Jelly Balls Animation Script (same as index.html) -->
  <script>
    const CAN_MOVE = window.innerWidth > 700;
    const footer = document.getElementById("footer");
    
    if (footer) {
      footer.addEventListener("mousemove", (e) => {
        const t = document.createElement("div");
        t.className = "trail";
        const x = e.clientX - footer.getBoundingClientRect().left;
        const y = e.clientY - footer.getBoundingClientRect().top;
        t.style.left = x + "px";
        t.style.top = y + "px";
        footer.appendChild(t);
        setTimeout(() => (t.style.opacity = "0"), 20);
        setTimeout(() => t.remove(), 500);
      });

      const balls = [
        {
          el: document.getElementById("bubble1"),
          x: 60,
          y: 80,
          vx: 2.1,
          vy: 1.9,
        },
        {
          el: document.getElementById("bubble2"),
          x: 180,
          y: 40,
          vx: -2.3,
          vy: 1.7,
        },
      ];

      if (CAN_MOVE) {
        function animate() {
          const fw = footer.clientWidth;
          const fh = footer.clientHeight;

          balls.forEach(b => {
            const size = b.el.clientWidth;

            b.x += b.vx;
            b.y += b.vy;

            // Bounce X
            if (b.x <= 0 || b.x + size >= fw) {
              b.vx *= -1;
              b.el.style.transform = "scaleX(1.18)";
              setTimeout(() => (b.el.style.transform = "scale(1)"), 120);
            }

            // Bounce Y
            if (b.y <= 0 || b.y + size >= fh) {
              b.vy *= -1;
              b.el.style.transform = "scaleY(1.18)";
              setTimeout(() => (b.el.style.transform = "scale(1)"), 120);
            }

            // Move
            b.el.style.left = b.x + "px";
            b.el.style.top = b.y + "px";
          });

          requestAnimationFrame(animate);
        }

        animate();
      } else {
        // Static positioning for mobile
        balls[0].el.style.left = "20px";
        balls[0].el.style.bottom = "20px";
        balls[1].el.style.right = "20px";
        balls[1].el.style.bottom = "20px";
      }
    }
  </script>
</body>
</html>
